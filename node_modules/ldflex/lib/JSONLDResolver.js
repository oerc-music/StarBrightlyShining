"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _jsonldContextParser = require("jsonld-context-parser");

var _dataModel = require("@rdfjs/data-model");

var _AbstractPathResolver = _interopRequireDefault(require("./AbstractPathResolver"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/**
 * Resolves property names of a path
 * to their corresponding IRIs through a JSON-LD context.
 */
class JSONLDResolver extends _AbstractPathResolver.default {
  /**
   * Expands a JSON property key into a full IRI.
   */
  async lookupProperty(property) {
    const context = await this._context;
    const expandedProperty = context.expandTerm(property, true);
    if (!_jsonldContextParser.Util.isValidIri(expandedProperty)) throw new Error(`The JSON-LD context cannot expand the '${property}' property`);
    return (0, _dataModel.namedNode)(expandedProperty);
  }

}

exports.default = JSONLDResolver;