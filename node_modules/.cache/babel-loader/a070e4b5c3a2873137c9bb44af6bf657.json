{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActorRdfParseHtmlScript = void 0;\n\nconst bus_rdf_parse_html_1 = require(\"@comunica/bus-rdf-parse-html\");\n\nconst HtmlScriptListener_1 = require(\"./HtmlScriptListener\");\n/**\n * A HTML script RDF Parse actor that listens on the 'rdf-parse' bus.\n *\n * It is able to extract and parse any RDF serialization from script tags in HTML files\n * and announce the presence of them by media type.\n */\n\n\nclass ActorRdfParseHtmlScript extends bus_rdf_parse_html_1.ActorRdfParseHtml {\n  constructor(args) {\n    super(args);\n  }\n\n  async test(action) {\n    return true;\n  }\n\n  async run(action) {\n    const supportedTypes = (await this.mediatorRdfParseMediatypes.mediate({\n      context: action.context,\n      mediaTypes: true\n    })).mediaTypes;\n    const htmlParseListener = new HtmlScriptListener_1.HtmlScriptListener(this.mediatorRdfParseHandle, action.emit, action.error, action.end, supportedTypes, action.context, action.baseIRI, action.headers);\n    return {\n      htmlParseListener\n    };\n  }\n\n}\n\nexports.ActorRdfParseHtmlScript = ActorRdfParseHtmlScript;","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/@comunica/actor-rdf-parse-html-script/lib/ActorRdfParseHtmlScript.js"],"names":["Object","defineProperty","exports","value","ActorRdfParseHtmlScript","bus_rdf_parse_html_1","require","HtmlScriptListener_1","ActorRdfParseHtml","constructor","args","test","action","run","supportedTypes","mediatorRdfParseMediatypes","mediate","context","mediaTypes","htmlParseListener","HtmlScriptListener","mediatorRdfParseHandle","emit","error","end","baseIRI","headers"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,uBAAR,GAAkC,KAAK,CAAvC;;AACA,MAAMC,oBAAoB,GAAGC,OAAO,CAAC,8BAAD,CAApC;;AACA,MAAMC,oBAAoB,GAAGD,OAAO,CAAC,sBAAD,CAApC;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMF,uBAAN,SAAsCC,oBAAoB,CAACG,iBAA3D,CAA6E;AACzEC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,UAAMA,IAAN;AACH;;AACS,QAAJC,IAAI,CAACC,MAAD,EAAS;AACf,WAAO,IAAP;AACH;;AACQ,QAAHC,GAAG,CAACD,MAAD,EAAS;AACd,UAAME,cAAc,GAAG,CAAC,MAAM,KAAKC,0BAAL,CACzBC,OADyB,CACjB;AAAEC,MAAAA,OAAO,EAAEL,MAAM,CAACK,OAAlB;AAA2BC,MAAAA,UAAU,EAAE;AAAvC,KADiB,CAAP,EACsCA,UAD7D;AAEA,UAAMC,iBAAiB,GAAG,IAAIZ,oBAAoB,CAACa,kBAAzB,CAA4C,KAAKC,sBAAjD,EAAyET,MAAM,CAACU,IAAhF,EAAsFV,MAAM,CAACW,KAA7F,EAAoGX,MAAM,CAACY,GAA3G,EAAgHV,cAAhH,EAAgIF,MAAM,CAACK,OAAvI,EAAgJL,MAAM,CAACa,OAAvJ,EAAgKb,MAAM,CAACc,OAAvK,CAA1B;AACA,WAAO;AAAEP,MAAAA;AAAF,KAAP;AACH;;AAZwE;;AAc7EjB,OAAO,CAACE,uBAAR,GAAkCA,uBAAlC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorRdfParseHtmlScript = void 0;\nconst bus_rdf_parse_html_1 = require(\"@comunica/bus-rdf-parse-html\");\nconst HtmlScriptListener_1 = require(\"./HtmlScriptListener\");\n/**\n * A HTML script RDF Parse actor that listens on the 'rdf-parse' bus.\n *\n * It is able to extract and parse any RDF serialization from script tags in HTML files\n * and announce the presence of them by media type.\n */\nclass ActorRdfParseHtmlScript extends bus_rdf_parse_html_1.ActorRdfParseHtml {\n    constructor(args) {\n        super(args);\n    }\n    async test(action) {\n        return true;\n    }\n    async run(action) {\n        const supportedTypes = (await this.mediatorRdfParseMediatypes\n            .mediate({ context: action.context, mediaTypes: true })).mediaTypes;\n        const htmlParseListener = new HtmlScriptListener_1.HtmlScriptListener(this.mediatorRdfParseHandle, action.emit, action.error, action.end, supportedTypes, action.context, action.baseIRI, action.headers);\n        return { htmlParseListener };\n    }\n}\nexports.ActorRdfParseHtmlScript = ActorRdfParseHtmlScript;\n//# sourceMappingURL=ActorRdfParseHtmlScript.js.map"]},"metadata":{},"sourceType":"script"}