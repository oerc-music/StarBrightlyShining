{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActorQueryOperationUpdateCompositeUpdate = void 0;\n\nconst bus_query_operation_1 = require(\"@comunica/bus-query-operation\");\n/**\n * A comunica Update CompositeUpdate Query Operation Actor.\n */\n\n\nclass ActorQueryOperationUpdateCompositeUpdate extends bus_query_operation_1.ActorQueryOperationTypedMediated {\n  constructor(args) {\n    super(args, 'compositeupdate');\n  }\n\n  async testOperation(pattern, context) {\n    bus_query_operation_1.ActorQueryOperation.throwOnReadOnly(context);\n    return true;\n  }\n\n  async runOperation(pattern, context) {\n    const updateResult = (async () => {\n      // Execute update operations in sequence\n      for (const operation of pattern.updates) {\n        const subResult = bus_query_operation_1.ActorQueryOperation.getSafeUpdate(await this.mediatorQueryOperation.mediate({\n          operation,\n          context\n        }));\n        await subResult.updateResult;\n      }\n    })();\n\n    return {\n      type: 'update',\n      updateResult\n    };\n  }\n\n}\n\nexports.ActorQueryOperationUpdateCompositeUpdate = ActorQueryOperationUpdateCompositeUpdate;","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/@comunica/actor-query-operation-update-compositeupdate/lib/ActorQueryOperationUpdateCompositeUpdate.js"],"names":["Object","defineProperty","exports","value","ActorQueryOperationUpdateCompositeUpdate","bus_query_operation_1","require","ActorQueryOperationTypedMediated","constructor","args","testOperation","pattern","context","ActorQueryOperation","throwOnReadOnly","runOperation","updateResult","operation","updates","subResult","getSafeUpdate","mediatorQueryOperation","mediate","type"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,wCAAR,GAAmD,KAAK,CAAxD;;AACA,MAAMC,qBAAqB,GAAGC,OAAO,CAAC,+BAAD,CAArC;AACA;AACA;AACA;;;AACA,MAAMF,wCAAN,SAAuDC,qBAAqB,CAACE,gCAA7E,CAA8G;AAC1GC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,UAAMA,IAAN,EAAY,iBAAZ;AACH;;AACkB,QAAbC,aAAa,CAACC,OAAD,EAAUC,OAAV,EAAmB;AAClCP,IAAAA,qBAAqB,CAACQ,mBAAtB,CAA0CC,eAA1C,CAA0DF,OAA1D;AACA,WAAO,IAAP;AACH;;AACiB,QAAZG,YAAY,CAACJ,OAAD,EAAUC,OAAV,EAAmB;AACjC,UAAMI,YAAY,GAAG,CAAC,YAAY;AAC9B;AACA,WAAK,MAAMC,SAAX,IAAwBN,OAAO,CAACO,OAAhC,EAAyC;AACrC,cAAMC,SAAS,GAAGd,qBAAqB,CAACQ,mBAAtB,CACbO,aADa,CACC,MAAM,KAAKC,sBAAL,CAA4BC,OAA5B,CAAoC;AAAEL,UAAAA,SAAF;AAAaL,UAAAA;AAAb,SAApC,CADP,CAAlB;AAEA,cAAMO,SAAS,CAACH,YAAhB;AACH;AACJ,KAPoB,GAArB;;AAQA,WAAO;AACHO,MAAAA,IAAI,EAAE,QADH;AAEHP,MAAAA;AAFG,KAAP;AAIH;;AArByG;;AAuB9Gd,OAAO,CAACE,wCAAR,GAAmDA,wCAAnD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorQueryOperationUpdateCompositeUpdate = void 0;\nconst bus_query_operation_1 = require(\"@comunica/bus-query-operation\");\n/**\n * A comunica Update CompositeUpdate Query Operation Actor.\n */\nclass ActorQueryOperationUpdateCompositeUpdate extends bus_query_operation_1.ActorQueryOperationTypedMediated {\n    constructor(args) {\n        super(args, 'compositeupdate');\n    }\n    async testOperation(pattern, context) {\n        bus_query_operation_1.ActorQueryOperation.throwOnReadOnly(context);\n        return true;\n    }\n    async runOperation(pattern, context) {\n        const updateResult = (async () => {\n            // Execute update operations in sequence\n            for (const operation of pattern.updates) {\n                const subResult = bus_query_operation_1.ActorQueryOperation\n                    .getSafeUpdate(await this.mediatorQueryOperation.mediate({ operation, context }));\n                await subResult.updateResult;\n            }\n        })();\n        return {\n            type: 'update',\n            updateResult,\n        };\n    }\n}\nexports.ActorQueryOperationUpdateCompositeUpdate = ActorQueryOperationUpdateCompositeUpdate;\n//# sourceMappingURL=ActorQueryOperationUpdateCompositeUpdate.js.map"]},"metadata":{},"sourceType":"script"}