{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KEY_CONTEXT_DESTINATION = exports.KEY_CONTEXT_SOURCES = exports.ActorContextPreprocessSourceToDestination = void 0;\n\nconst bus_context_preprocess_1 = require(\"@comunica/bus-context-preprocess\");\n/**\n * A comunica Source To Destination Context Preprocess Actor.\n */\n\n\nclass ActorContextPreprocessSourceToDestination extends bus_context_preprocess_1.ActorContextPreprocess {\n  constructor(args) {\n    super(args);\n  }\n\n  async test(action) {\n    return true;\n  }\n\n  async run(action) {\n    if (action.context && action.context.get(exports.KEY_CONTEXT_SOURCES) && !action.context.get(exports.KEY_CONTEXT_DESTINATION)) {\n      const sources = action.context.get(exports.KEY_CONTEXT_SOURCES);\n\n      if (sources.length === 1) {\n        return {\n          context: action.context.set(exports.KEY_CONTEXT_DESTINATION, sources[0])\n        };\n      }\n    }\n\n    return action;\n  }\n\n}\n\nexports.ActorContextPreprocessSourceToDestination = ActorContextPreprocessSourceToDestination;\nexports.KEY_CONTEXT_SOURCES = '@comunica/bus-rdf-resolve-quad-pattern:sources';\nexports.KEY_CONTEXT_DESTINATION = '@comunica/bus-rdf-update-quads:destination';","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/@comunica/actor-context-preprocess-source-to-destination/lib/ActorContextPreprocessSourceToDestination.js"],"names":["Object","defineProperty","exports","value","KEY_CONTEXT_DESTINATION","KEY_CONTEXT_SOURCES","ActorContextPreprocessSourceToDestination","bus_context_preprocess_1","require","ActorContextPreprocess","constructor","args","test","action","run","context","get","sources","length","set"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,uBAAR,GAAkCF,OAAO,CAACG,mBAAR,GAA8BH,OAAO,CAACI,yCAAR,GAAoD,KAAK,CAAzH;;AACA,MAAMC,wBAAwB,GAAGC,OAAO,CAAC,kCAAD,CAAxC;AACA;AACA;AACA;;;AACA,MAAMF,yCAAN,SAAwDC,wBAAwB,CAACE,sBAAjF,CAAwG;AACpGC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,UAAMA,IAAN;AACH;;AACS,QAAJC,IAAI,CAACC,MAAD,EAAS;AACf,WAAO,IAAP;AACH;;AACQ,QAAHC,GAAG,CAACD,MAAD,EAAS;AACd,QAAIA,MAAM,CAACE,OAAP,IAAkBF,MAAM,CAACE,OAAP,CAAeC,GAAf,CAAmBd,OAAO,CAACG,mBAA3B,CAAlB,IAAqE,CAACQ,MAAM,CAACE,OAAP,CAAeC,GAAf,CAAmBd,OAAO,CAACE,uBAA3B,CAA1E,EAA+H;AAC3H,YAAMa,OAAO,GAAGJ,MAAM,CAACE,OAAP,CAAeC,GAAf,CAAmBd,OAAO,CAACG,mBAA3B,CAAhB;;AACA,UAAIY,OAAO,CAACC,MAAR,KAAmB,CAAvB,EAA0B;AACtB,eAAO;AAAEH,UAAAA,OAAO,EAAEF,MAAM,CAACE,OAAP,CAAeI,GAAf,CAAmBjB,OAAO,CAACE,uBAA3B,EAAoDa,OAAO,CAAC,CAAD,CAA3D;AAAX,SAAP;AACH;AACJ;;AACD,WAAOJ,MAAP;AACH;;AAfmG;;AAiBxGX,OAAO,CAACI,yCAAR,GAAoDA,yCAApD;AACAJ,OAAO,CAACG,mBAAR,GAA8B,gDAA9B;AACAH,OAAO,CAACE,uBAAR,GAAkC,4CAAlC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KEY_CONTEXT_DESTINATION = exports.KEY_CONTEXT_SOURCES = exports.ActorContextPreprocessSourceToDestination = void 0;\nconst bus_context_preprocess_1 = require(\"@comunica/bus-context-preprocess\");\n/**\n * A comunica Source To Destination Context Preprocess Actor.\n */\nclass ActorContextPreprocessSourceToDestination extends bus_context_preprocess_1.ActorContextPreprocess {\n    constructor(args) {\n        super(args);\n    }\n    async test(action) {\n        return true;\n    }\n    async run(action) {\n        if (action.context && action.context.get(exports.KEY_CONTEXT_SOURCES) && !action.context.get(exports.KEY_CONTEXT_DESTINATION)) {\n            const sources = action.context.get(exports.KEY_CONTEXT_SOURCES);\n            if (sources.length === 1) {\n                return { context: action.context.set(exports.KEY_CONTEXT_DESTINATION, sources[0]) };\n            }\n        }\n        return action;\n    }\n}\nexports.ActorContextPreprocessSourceToDestination = ActorContextPreprocessSourceToDestination;\nexports.KEY_CONTEXT_SOURCES = '@comunica/bus-rdf-resolve-quad-pattern:sources';\nexports.KEY_CONTEXT_DESTINATION = '@comunica/bus-rdf-update-quads:destination';\n//# sourceMappingURL=ActorContextPreprocessSourceToDestination.js.map"]},"metadata":{},"sourceType":"script"}