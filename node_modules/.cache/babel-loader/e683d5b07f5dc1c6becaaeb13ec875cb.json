{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActorRdfJoinNestedLoop = void 0;\n\nconst bus_query_operation_1 = require(\"@comunica/bus-query-operation\");\n\nconst bus_rdf_join_1 = require(\"@comunica/bus-rdf-join\");\n\nconst asyncjoin_1 = require(\"asyncjoin\");\n/**\n * A comunica NestedLoop RDF Join Actor.\n */\n\n\nclass ActorRdfJoinNestedLoop extends bus_rdf_join_1.ActorRdfJoin {\n  constructor(args) {\n    super(args, 2, undefined, true);\n  }\n\n  async getOutput(action) {\n    const join = new asyncjoin_1.NestedLoopJoin(action.entries[0].bindingsStream, action.entries[1].bindingsStream, bus_rdf_join_1.ActorRdfJoin.join, {\n      autoStart: false\n    });\n    return {\n      type: 'bindings',\n      bindingsStream: join,\n      variables: bus_rdf_join_1.ActorRdfJoin.joinVariables(action),\n      canContainUndefs: action.entries.reduce((acc, val) => acc || val.canContainUndefs, false)\n    };\n  }\n\n  async getIterations(action) {\n    return (await bus_query_operation_1.getMetadata(action.entries[0])).totalItems * (await bus_query_operation_1.getMetadata(action.entries[1])).totalItems;\n  }\n\n}\n\nexports.ActorRdfJoinNestedLoop = ActorRdfJoinNestedLoop;","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/@comunica/actor-rdf-join-nestedloop/lib/ActorRdfJoinNestedLoop.js"],"names":["Object","defineProperty","exports","value","ActorRdfJoinNestedLoop","bus_query_operation_1","require","bus_rdf_join_1","asyncjoin_1","ActorRdfJoin","constructor","args","undefined","getOutput","action","join","NestedLoopJoin","entries","bindingsStream","autoStart","type","variables","joinVariables","canContainUndefs","reduce","acc","val","getIterations","getMetadata","totalItems"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,sBAAR,GAAiC,KAAK,CAAtC;;AACA,MAAMC,qBAAqB,GAAGC,OAAO,CAAC,+BAAD,CAArC;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,wBAAD,CAA9B;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,WAAD,CAA3B;AACA;AACA;AACA;;;AACA,MAAMF,sBAAN,SAAqCG,cAAc,CAACE,YAApD,CAAiE;AAC7DC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,UAAMA,IAAN,EAAY,CAAZ,EAAeC,SAAf,EAA0B,IAA1B;AACH;;AACc,QAATC,SAAS,CAACC,MAAD,EAAS;AACpB,UAAMC,IAAI,GAAG,IAAIP,WAAW,CAACQ,cAAhB,CAA+BF,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBC,cAAjD,EAAiEJ,MAAM,CAACG,OAAP,CAAe,CAAf,EAAkBC,cAAnF,EAAmGX,cAAc,CAACE,YAAf,CAA4BM,IAA/H,EAAqI;AAAEI,MAAAA,SAAS,EAAE;AAAb,KAArI,CAAb;AACA,WAAO;AACHC,MAAAA,IAAI,EAAE,UADH;AAEHF,MAAAA,cAAc,EAAEH,IAFb;AAGHM,MAAAA,SAAS,EAAEd,cAAc,CAACE,YAAf,CAA4Ba,aAA5B,CAA0CR,MAA1C,CAHR;AAIHS,MAAAA,gBAAgB,EAAET,MAAM,CAACG,OAAP,CAAeO,MAAf,CAAsB,CAACC,GAAD,EAAMC,GAAN,KAAcD,GAAG,IAAIC,GAAG,CAACH,gBAA/C,EAAiE,KAAjE;AAJf,KAAP;AAMH;;AACkB,QAAbI,aAAa,CAACb,MAAD,EAAS;AACxB,WAAO,CAAC,MAAMT,qBAAqB,CAACuB,WAAtB,CAAkCd,MAAM,CAACG,OAAP,CAAe,CAAf,CAAlC,CAAP,EAA6DY,UAA7D,GAA0E,CAAC,MAAMxB,qBAAqB,CAACuB,WAAtB,CAAkCd,MAAM,CAACG,OAAP,CAAe,CAAf,CAAlC,CAAP,EAA6DY,UAA9I;AACH;;AAf4D;;AAiBjE3B,OAAO,CAACE,sBAAR,GAAiCA,sBAAjC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorRdfJoinNestedLoop = void 0;\nconst bus_query_operation_1 = require(\"@comunica/bus-query-operation\");\nconst bus_rdf_join_1 = require(\"@comunica/bus-rdf-join\");\nconst asyncjoin_1 = require(\"asyncjoin\");\n/**\n * A comunica NestedLoop RDF Join Actor.\n */\nclass ActorRdfJoinNestedLoop extends bus_rdf_join_1.ActorRdfJoin {\n    constructor(args) {\n        super(args, 2, undefined, true);\n    }\n    async getOutput(action) {\n        const join = new asyncjoin_1.NestedLoopJoin(action.entries[0].bindingsStream, action.entries[1].bindingsStream, bus_rdf_join_1.ActorRdfJoin.join, { autoStart: false });\n        return {\n            type: 'bindings',\n            bindingsStream: join,\n            variables: bus_rdf_join_1.ActorRdfJoin.joinVariables(action),\n            canContainUndefs: action.entries.reduce((acc, val) => acc || val.canContainUndefs, false),\n        };\n    }\n    async getIterations(action) {\n        return (await bus_query_operation_1.getMetadata(action.entries[0])).totalItems * (await bus_query_operation_1.getMetadata(action.entries[1])).totalItems;\n    }\n}\nexports.ActorRdfJoinNestedLoop = ActorRdfJoinNestedLoop;\n//# sourceMappingURL=ActorRdfJoinNestedLoop.js.map"]},"metadata":{},"sourceType":"script"}