{"ast":null,"code":"/**\n * Returns a new path starting from the subject of the current path.\n *\n * Requires:\n * - (optional) a subject property on the path data\n * - (optional) a parent property on the path data\n */\nexport default class SubjectHandler {\n  handle(pathData) {\n    // Traverse parents until we find a subject\n    let {\n      subject,\n      parent\n    } = pathData;\n\n    while (!subject && parent) ({\n      subject,\n      parent\n    } = parent); // Resolve the subject if it exists,\n    // and return a path starting from that subject\n\n\n    return !subject ? undefined : Promise.resolve(subject).then(value => pathData.extendPath({\n      subject: value\n    }, null));\n  }\n\n}","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/ldflex/module/SubjectHandler.js"],"names":["SubjectHandler","handle","pathData","subject","parent","undefined","Promise","resolve","then","value","extendPath"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAMA,cAAN,CAAqB;AAClCC,EAAAA,MAAM,CAACC,QAAD,EAAW;AACf;AACA,QAAI;AACFC,MAAAA,OADE;AAEFC,MAAAA;AAFE,QAGAF,QAHJ;;AAKA,WAAO,CAACC,OAAD,IAAYC,MAAnB,EAA2B,CAAC;AAC1BD,MAAAA,OAD0B;AAE1BC,MAAAA;AAF0B,QAGxBA,MAHuB,EAPZ,CAUF;AACb;;;AAGA,WAAO,CAACD,OAAD,GAAWE,SAAX,GAAuBC,OAAO,CAACC,OAAR,CAAgBJ,OAAhB,EAAyBK,IAAzB,CAA8BC,KAAK,IAAIP,QAAQ,CAACQ,UAAT,CAAoB;AACvFP,MAAAA,OAAO,EAAEM;AAD8E,KAApB,EAElE,IAFkE,CAAvC,CAA9B;AAGD;;AAlBiC","sourcesContent":["/**\n * Returns a new path starting from the subject of the current path.\n *\n * Requires:\n * - (optional) a subject property on the path data\n * - (optional) a parent property on the path data\n */\nexport default class SubjectHandler {\n  handle(pathData) {\n    // Traverse parents until we find a subject\n    let {\n      subject,\n      parent\n    } = pathData;\n\n    while (!subject && parent) ({\n      subject,\n      parent\n    } = parent); // Resolve the subject if it exists,\n    // and return a path starting from that subject\n\n\n    return !subject ? undefined : Promise.resolve(subject).then(value => pathData.extendPath({\n      subject: value\n    }, null));\n  }\n\n}"]},"metadata":{},"sourceType":"module"}