{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ItemPropertyHandlerTime = void 0;\n\nconst Util_1 = require(\"../Util\");\n/**\n * Handler for an item property for time tags.\n */\n\n\nclass ItemPropertyHandlerTime {\n  canHandle(tagName, attributes) {\n    return tagName === 'time' && 'datetime' in attributes;\n  }\n\n  getObject(attributes, util, itemScope) {\n    const value = attributes.datetime;\n    let datatype;\n\n    for (const entry of ItemPropertyHandlerTime.TIME_REGEXES) {\n      if (entry.regex.exec(value)) {\n        datatype = util.dataFactory.namedNode(Util_1.Util.XSD + entry.type);\n        break;\n      }\n    }\n\n    return util.dataFactory.literal(value, datatype);\n  }\n\n}\n\nexports.ItemPropertyHandlerTime = ItemPropertyHandlerTime;\nItemPropertyHandlerTime.TIME_REGEXES = [{\n  regex: /^-?P(\\d+Y)?(\\d+M)?(\\d+D)?(T(\\d+H)?(\\d+M)?(\\d+(\\.\\d)?S)?)?$/u,\n  type: 'duration'\n}, {\n  regex: /^\\d+-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d((Z?)|([+-]\\d\\d:\\d\\d))$/u,\n  type: 'dateTime'\n}, {\n  regex: /^\\d+-\\d\\d-\\d\\dZ?$/u,\n  type: 'date'\n}, {\n  regex: /^\\d\\d:\\d\\d:\\d\\d((Z?)|([+-]\\d\\d:\\d\\d))$/u,\n  type: 'time'\n}, {\n  regex: /^\\d+-\\d\\d$/u,\n  type: 'gYearMonth'\n}, {\n  regex: /^\\d+$/u,\n  type: 'gYear'\n}];","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/microdata-rdf-streaming-parser/lib/propertyhandler/ItemPropertyHandlerTime.js"],"names":["Object","defineProperty","exports","value","ItemPropertyHandlerTime","Util_1","require","canHandle","tagName","attributes","getObject","util","itemScope","datetime","datatype","entry","TIME_REGEXES","regex","exec","dataFactory","namedNode","Util","XSD","type","literal"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,uBAAR,GAAkC,KAAK,CAAvC;;AACA,MAAMC,MAAM,GAAGC,OAAO,CAAC,SAAD,CAAtB;AACA;AACA;AACA;;;AACA,MAAMF,uBAAN,CAA8B;AAC1BG,EAAAA,SAAS,CAACC,OAAD,EAAUC,UAAV,EAAsB;AAC3B,WAAOD,OAAO,KAAK,MAAZ,IAAsB,cAAcC,UAA3C;AACH;;AACDC,EAAAA,SAAS,CAACD,UAAD,EAAaE,IAAb,EAAmBC,SAAnB,EAA8B;AACnC,UAAMT,KAAK,GAAGM,UAAU,CAACI,QAAzB;AACA,QAAIC,QAAJ;;AACA,SAAK,MAAMC,KAAX,IAAoBX,uBAAuB,CAACY,YAA5C,EAA0D;AACtD,UAAID,KAAK,CAACE,KAAN,CAAYC,IAAZ,CAAiBf,KAAjB,CAAJ,EAA6B;AACzBW,QAAAA,QAAQ,GAAGH,IAAI,CAACQ,WAAL,CAAiBC,SAAjB,CAA2Bf,MAAM,CAACgB,IAAP,CAAYC,GAAZ,GAAkBP,KAAK,CAACQ,IAAnD,CAAX;AACA;AACH;AACJ;;AACD,WAAOZ,IAAI,CAACQ,WAAL,CAAiBK,OAAjB,CAAyBrB,KAAzB,EAAgCW,QAAhC,CAAP;AACH;;AAdyB;;AAgB9BZ,OAAO,CAACE,uBAAR,GAAkCA,uBAAlC;AACAA,uBAAuB,CAACY,YAAxB,GAAuC,CACnC;AACIC,EAAAA,KAAK,EAAE,6DADX;AAEIM,EAAAA,IAAI,EAAE;AAFV,CADmC,EAKnC;AACIN,EAAAA,KAAK,EAAE,uDADX;AAEIM,EAAAA,IAAI,EAAE;AAFV,CALmC,EASnC;AAAEN,EAAAA,KAAK,EAAE,oBAAT;AAA+BM,EAAAA,IAAI,EAAE;AAArC,CATmC,EAUnC;AAAEN,EAAAA,KAAK,EAAE,yCAAT;AAAoDM,EAAAA,IAAI,EAAE;AAA1D,CAVmC,EAWnC;AAAEN,EAAAA,KAAK,EAAE,aAAT;AAAwBM,EAAAA,IAAI,EAAE;AAA9B,CAXmC,EAYnC;AAAEN,EAAAA,KAAK,EAAE,QAAT;AAAmBM,EAAAA,IAAI,EAAE;AAAzB,CAZmC,CAAvC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemPropertyHandlerTime = void 0;\nconst Util_1 = require(\"../Util\");\n/**\n * Handler for an item property for time tags.\n */\nclass ItemPropertyHandlerTime {\n    canHandle(tagName, attributes) {\n        return tagName === 'time' && 'datetime' in attributes;\n    }\n    getObject(attributes, util, itemScope) {\n        const value = attributes.datetime;\n        let datatype;\n        for (const entry of ItemPropertyHandlerTime.TIME_REGEXES) {\n            if (entry.regex.exec(value)) {\n                datatype = util.dataFactory.namedNode(Util_1.Util.XSD + entry.type);\n                break;\n            }\n        }\n        return util.dataFactory.literal(value, datatype);\n    }\n}\nexports.ItemPropertyHandlerTime = ItemPropertyHandlerTime;\nItemPropertyHandlerTime.TIME_REGEXES = [\n    {\n        regex: /^-?P(\\d+Y)?(\\d+M)?(\\d+D)?(T(\\d+H)?(\\d+M)?(\\d+(\\.\\d)?S)?)?$/u,\n        type: 'duration',\n    },\n    {\n        regex: /^\\d+-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d((Z?)|([+-]\\d\\d:\\d\\d))$/u,\n        type: 'dateTime',\n    },\n    { regex: /^\\d+-\\d\\d-\\d\\dZ?$/u, type: 'date' },\n    { regex: /^\\d\\d:\\d\\d:\\d\\d((Z?)|([+-]\\d\\d:\\d\\d))$/u, type: 'time' },\n    { regex: /^\\d+-\\d\\d$/u, type: 'gYearMonth' },\n    { regex: /^\\d+$/u, type: 'gYear' },\n];\n//# sourceMappingURL=ItemPropertyHandlerTime.js.map"]},"metadata":{},"sourceType":"script"}