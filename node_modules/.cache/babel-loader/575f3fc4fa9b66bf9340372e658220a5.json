{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst Translator_1 = require(\"../Translator\");\n/**\n * Translates double numbers.\n */\n\n\nclass TypeHandlerNumberDouble {\n  fromRdf(literal, validate) {\n    const parsed = parseFloat(literal.value);\n\n    if (validate) {\n      if (isNaN(parsed)) {\n        Translator_1.Translator.incorrectRdfDataType(literal);\n      } // TODO: validate more\n\n    }\n\n    return parsed;\n  }\n\n  toRdf(value, {\n    datatype,\n    dataFactory\n  }) {\n    datatype = datatype || dataFactory.namedNode(TypeHandlerNumberDouble.TYPES[0]);\n\n    if (isNaN(value)) {\n      return dataFactory.literal('NaN', datatype);\n    }\n\n    if (!isFinite(value)) {\n      return dataFactory.literal(value > 0 ? 'INF' : '-INF', datatype);\n    }\n\n    if (value % 1 === 0) {\n      return null;\n    }\n\n    return dataFactory.literal(value.toExponential(15).replace(/(\\d)0*e\\+?/, '$1E'), datatype);\n  }\n\n}\n\nexports.TypeHandlerNumberDouble = TypeHandlerNumberDouble;\nTypeHandlerNumberDouble.TYPES = ['http://www.w3.org/2001/XMLSchema#double', 'http://www.w3.org/2001/XMLSchema#decimal', 'http://www.w3.org/2001/XMLSchema#float'];","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/rdf-literal/lib/handler/TypeHandlerNumberDouble.js"],"names":["Object","defineProperty","exports","value","Translator_1","require","TypeHandlerNumberDouble","fromRdf","literal","validate","parsed","parseFloat","isNaN","Translator","incorrectRdfDataType","toRdf","datatype","dataFactory","namedNode","TYPES","isFinite","toExponential","replace"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,MAAMC,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;AACA;AACA;AACA;;;AACA,MAAMC,uBAAN,CAA8B;AAC1BC,EAAAA,OAAO,CAACC,OAAD,EAAUC,QAAV,EAAoB;AACvB,UAAMC,MAAM,GAAGC,UAAU,CAACH,OAAO,CAACL,KAAT,CAAzB;;AACA,QAAIM,QAAJ,EAAc;AACV,UAAIG,KAAK,CAACF,MAAD,CAAT,EAAmB;AACfN,QAAAA,YAAY,CAACS,UAAb,CAAwBC,oBAAxB,CAA6CN,OAA7C;AACH,OAHS,CAIV;;AACH;;AACD,WAAOE,MAAP;AACH;;AACDK,EAAAA,KAAK,CAACZ,KAAD,EAAQ;AAAEa,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,GAAR,EAAmC;AACpCD,IAAAA,QAAQ,GAAGA,QAAQ,IAAIC,WAAW,CAACC,SAAZ,CAAsBZ,uBAAuB,CAACa,KAAxB,CAA8B,CAA9B,CAAtB,CAAvB;;AACA,QAAIP,KAAK,CAACT,KAAD,CAAT,EAAkB;AACd,aAAOc,WAAW,CAACT,OAAZ,CAAoB,KAApB,EAA2BQ,QAA3B,CAAP;AACH;;AACD,QAAI,CAACI,QAAQ,CAACjB,KAAD,CAAb,EAAsB;AAClB,aAAOc,WAAW,CAACT,OAAZ,CAAoBL,KAAK,GAAG,CAAR,GAAY,KAAZ,GAAoB,MAAxC,EAAgDa,QAAhD,CAAP;AACH;;AACD,QAAIb,KAAK,GAAG,CAAR,KAAc,CAAlB,EAAqB;AACjB,aAAO,IAAP;AACH;;AACD,WAAOc,WAAW,CAACT,OAAZ,CAAoBL,KAAK,CAACkB,aAAN,CAAoB,EAApB,EAAwBC,OAAxB,CAAgC,YAAhC,EAA8C,KAA9C,CAApB,EAA0EN,QAA1E,CAAP;AACH;;AAvByB;;AAyB9Bd,OAAO,CAACI,uBAAR,GAAkCA,uBAAlC;AACAA,uBAAuB,CAACa,KAAxB,GAAgC,CAC5B,yCAD4B,EAE5B,0CAF4B,EAG5B,wCAH4B,CAAhC","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst Translator_1 = require(\"../Translator\");\n/**\n * Translates double numbers.\n */\nclass TypeHandlerNumberDouble {\n    fromRdf(literal, validate) {\n        const parsed = parseFloat(literal.value);\n        if (validate) {\n            if (isNaN(parsed)) {\n                Translator_1.Translator.incorrectRdfDataType(literal);\n            }\n            // TODO: validate more\n        }\n        return parsed;\n    }\n    toRdf(value, { datatype, dataFactory }) {\n        datatype = datatype || dataFactory.namedNode(TypeHandlerNumberDouble.TYPES[0]);\n        if (isNaN(value)) {\n            return dataFactory.literal('NaN', datatype);\n        }\n        if (!isFinite(value)) {\n            return dataFactory.literal(value > 0 ? 'INF' : '-INF', datatype);\n        }\n        if (value % 1 === 0) {\n            return null;\n        }\n        return dataFactory.literal(value.toExponential(15).replace(/(\\d)0*e\\+?/, '$1E'), datatype);\n    }\n}\nexports.TypeHandlerNumberDouble = TypeHandlerNumberDouble;\nTypeHandlerNumberDouble.TYPES = [\n    'http://www.w3.org/2001/XMLSchema#double',\n    'http://www.w3.org/2001/XMLSchema#decimal',\n    'http://www.w3.org/2001/XMLSchema#float',\n];\n//# sourceMappingURL=TypeHandlerNumberDouble.js.map"]},"metadata":{},"sourceType":"script"}