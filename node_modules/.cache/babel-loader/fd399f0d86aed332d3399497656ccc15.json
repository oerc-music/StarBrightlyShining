{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ActorRdfUpdateHypermediaPatchSparqlUpdate = void 0;\n\nconst bus_rdf_update_hypermedia_1 = require(\"@comunica/bus-rdf-update-hypermedia\");\n\nconst QuadDestinationPatchSparqlUpdate_1 = require(\"./QuadDestinationPatchSparqlUpdate\");\n/**\n * A comunica Patch SPARQL Update RDF Update Hypermedia Actor.\n */\n\n\nclass ActorRdfUpdateHypermediaPatchSparqlUpdate extends bus_rdf_update_hypermedia_1.ActorRdfUpdateHypermedia {\n  constructor(args) {\n    super(args, 'patchSparqlUpdate');\n  }\n\n  async testMetadata(action) {\n    if (!action.forceDestinationType && !action.metadata.patchSparqlUpdate) {\n      throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);\n    }\n\n    return true;\n  }\n\n  async run(action) {\n    this.logInfo(action.context, `Identified as patchSparqlUpdate destination: ${action.url}`);\n    return {\n      destination: new QuadDestinationPatchSparqlUpdate_1.QuadDestinationPatchSparqlUpdate(action.url, action.context, this.mediatorHttp, this.mediatorRdfSerialize)\n    };\n  }\n\n}\n\nexports.ActorRdfUpdateHypermediaPatchSparqlUpdate = ActorRdfUpdateHypermediaPatchSparqlUpdate;","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/@comunica/actor-rdf-update-hypermedia-patch-sparql-update/lib/ActorRdfUpdateHypermediaPatchSparqlUpdate.js"],"names":["Object","defineProperty","exports","value","ActorRdfUpdateHypermediaPatchSparqlUpdate","bus_rdf_update_hypermedia_1","require","QuadDestinationPatchSparqlUpdate_1","ActorRdfUpdateHypermedia","constructor","args","testMetadata","action","forceDestinationType","metadata","patchSparqlUpdate","Error","name","run","logInfo","context","url","destination","QuadDestinationPatchSparqlUpdate","mediatorHttp","mediatorRdfSerialize"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,yCAAR,GAAoD,KAAK,CAAzD;;AACA,MAAMC,2BAA2B,GAAGC,OAAO,CAAC,qCAAD,CAA3C;;AACA,MAAMC,kCAAkC,GAAGD,OAAO,CAAC,oCAAD,CAAlD;AACA;AACA;AACA;;;AACA,MAAMF,yCAAN,SAAwDC,2BAA2B,CAACG,wBAApF,CAA6G;AACzGC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,UAAMA,IAAN,EAAY,mBAAZ;AACH;;AACiB,QAAZC,YAAY,CAACC,MAAD,EAAS;AACvB,QAAI,CAACA,MAAM,CAACC,oBAAR,IAAgC,CAACD,MAAM,CAACE,QAAP,CAAgBC,iBAArD,EAAwE;AACpE,YAAM,IAAIC,KAAJ,CAAW,SAAQ,KAAKC,IAAK,4FAA7B,CAAN;AACH;;AACD,WAAO,IAAP;AACH;;AACQ,QAAHC,GAAG,CAACN,MAAD,EAAS;AACd,SAAKO,OAAL,CAAaP,MAAM,CAACQ,OAApB,EAA8B,gDAA+CR,MAAM,CAACS,GAAI,EAAxF;AACA,WAAO;AACHC,MAAAA,WAAW,EAAE,IAAIf,kCAAkC,CAACgB,gCAAvC,CAAwEX,MAAM,CAACS,GAA/E,EAAoFT,MAAM,CAACQ,OAA3F,EAAoG,KAAKI,YAAzG,EAAuH,KAAKC,oBAA5H;AADV,KAAP;AAGH;;AAfwG;;AAiB7GvB,OAAO,CAACE,yCAAR,GAAoDA,yCAApD","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActorRdfUpdateHypermediaPatchSparqlUpdate = void 0;\nconst bus_rdf_update_hypermedia_1 = require(\"@comunica/bus-rdf-update-hypermedia\");\nconst QuadDestinationPatchSparqlUpdate_1 = require(\"./QuadDestinationPatchSparqlUpdate\");\n/**\n * A comunica Patch SPARQL Update RDF Update Hypermedia Actor.\n */\nclass ActorRdfUpdateHypermediaPatchSparqlUpdate extends bus_rdf_update_hypermedia_1.ActorRdfUpdateHypermedia {\n    constructor(args) {\n        super(args, 'patchSparqlUpdate');\n    }\n    async testMetadata(action) {\n        if (!action.forceDestinationType && !action.metadata.patchSparqlUpdate) {\n            throw new Error(`Actor ${this.name} could not detect a destination with 'application/sparql-update' as 'Accept-Patch' header.`);\n        }\n        return true;\n    }\n    async run(action) {\n        this.logInfo(action.context, `Identified as patchSparqlUpdate destination: ${action.url}`);\n        return {\n            destination: new QuadDestinationPatchSparqlUpdate_1.QuadDestinationPatchSparqlUpdate(action.url, action.context, this.mediatorHttp, this.mediatorRdfSerialize),\n        };\n    }\n}\nexports.ActorRdfUpdateHypermediaPatchSparqlUpdate = ActorRdfUpdateHypermediaPatchSparqlUpdate;\n//# sourceMappingURL=ActorRdfUpdateHypermediaPatchSparqlUpdate.js.map"]},"metadata":{},"sourceType":"script"}