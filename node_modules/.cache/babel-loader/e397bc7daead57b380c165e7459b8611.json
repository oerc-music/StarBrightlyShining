{"ast":null,"code":"import { isAsyncIterable } from './valueUtils';\n/**\n * Converts an asynchronously iterable path into an array.\n *\n * Requires:\n * - (optional) an iterable path\n */\n\nexport default class ToArrayHandler {\n  handle(pathData, path) {\n    return async map => {\n      const items = [];\n\n      if (isAsyncIterable(path)) {\n        // Ensure the mapping function is valid\n        if (typeof map !== 'function') map = item => item; // Retrieve and map all elements\n\n        let index = 0;\n\n        for await (const item of path) items.push(await map(item, index++));\n      }\n\n      return items;\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/ldflex/module/ToArrayHandler.js"],"names":["isAsyncIterable","ToArrayHandler","handle","pathData","path","map","items","item","index","push"],"mappings":"AAAA,SAASA,eAAT,QAAgC,cAAhC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,MAAMC,cAAN,CAAqB;AAClCC,EAAAA,MAAM,CAACC,QAAD,EAAWC,IAAX,EAAiB;AACrB,WAAO,MAAMC,GAAN,IAAa;AAClB,YAAMC,KAAK,GAAG,EAAd;;AAEA,UAAIN,eAAe,CAACI,IAAD,CAAnB,EAA2B;AACzB;AACA,YAAI,OAAOC,GAAP,KAAe,UAAnB,EAA+BA,GAAG,GAAGE,IAAI,IAAIA,IAAd,CAFN,CAE0B;;AAEnD,YAAIC,KAAK,GAAG,CAAZ;;AAEA,mBAAW,MAAMD,IAAjB,IAAyBH,IAAzB,EAA+BE,KAAK,CAACG,IAAN,CAAW,MAAMJ,GAAG,CAACE,IAAD,EAAOC,KAAK,EAAZ,CAApB;AAChC;;AAED,aAAOF,KAAP;AACD,KAbD;AAcD;;AAhBiC","sourcesContent":["import { isAsyncIterable } from './valueUtils';\n/**\n * Converts an asynchronously iterable path into an array.\n *\n * Requires:\n * - (optional) an iterable path\n */\n\nexport default class ToArrayHandler {\n  handle(pathData, path) {\n    return async map => {\n      const items = [];\n\n      if (isAsyncIterable(path)) {\n        // Ensure the mapping function is valid\n        if (typeof map !== 'function') map = item => item; // Retrieve and map all elements\n\n        let index = 0;\n\n        for await (const item of path) items.push(await map(item, index++));\n      }\n\n      return items;\n    };\n  }\n\n}"]},"metadata":{},"sourceType":"module"}