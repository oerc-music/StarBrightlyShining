{"ast":null,"code":"module.exports =\n/******/\nfunction (modules) {\n  // webpackBootstrap\n\n  /******/\n  // The module cache\n\n  /******/\n  var installedModules = {};\n  /******/\n\n  /******/\n  // The require function\n\n  /******/\n\n  function __webpack_require__(moduleId) {\n    /******/\n\n    /******/\n    // Check if module is in cache\n\n    /******/\n    if (installedModules[moduleId]) {\n      /******/\n      return installedModules[moduleId].exports;\n      /******/\n    }\n    /******/\n    // Create a new module (and put it into the cache)\n\n    /******/\n\n\n    var module = installedModules[moduleId] = {\n      /******/\n      i: moduleId,\n\n      /******/\n      l: false,\n\n      /******/\n      exports: {}\n      /******/\n\n    };\n    /******/\n\n    /******/\n    // Execute the module function\n\n    /******/\n\n    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n    /******/\n\n    /******/\n    // Flag the module as loaded\n\n    /******/\n\n    module.l = true;\n    /******/\n\n    /******/\n    // Return the exports of the module\n\n    /******/\n\n    return module.exports;\n    /******/\n  }\n  /******/\n\n  /******/\n\n  /******/\n  // expose the modules object (__webpack_modules__)\n\n  /******/\n\n\n  __webpack_require__.m = modules;\n  /******/\n\n  /******/\n  // expose the module cache\n\n  /******/\n\n  __webpack_require__.c = installedModules;\n  /******/\n\n  /******/\n  // define getter function for harmony exports\n\n  /******/\n\n  __webpack_require__.d = function (exports, name, getter) {\n    /******/\n    if (!__webpack_require__.o(exports, name)) {\n      /******/\n      Object.defineProperty(exports, name, {\n        enumerable: true,\n        get: getter\n      });\n      /******/\n    }\n    /******/\n\n  };\n  /******/\n\n  /******/\n  // define __esModule on exports\n\n  /******/\n\n\n  __webpack_require__.r = function (exports) {\n    /******/\n    if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n      /******/\n      Object.defineProperty(exports, Symbol.toStringTag, {\n        value: 'Module'\n      });\n      /******/\n    }\n    /******/\n\n\n    Object.defineProperty(exports, '__esModule', {\n      value: true\n    });\n    /******/\n  };\n  /******/\n\n  /******/\n  // create a fake namespace object\n\n  /******/\n  // mode & 1: value is a module id, require it\n\n  /******/\n  // mode & 2: merge all properties of value into the ns\n\n  /******/\n  // mode & 4: return value when already ns object\n\n  /******/\n  // mode & 8|1: behave like require\n\n  /******/\n\n\n  __webpack_require__.t = function (value, mode) {\n    /******/\n    if (mode & 1) value = __webpack_require__(value);\n    /******/\n\n    if (mode & 8) return value;\n    /******/\n\n    if (mode & 4 && typeof value === 'object' && value && value.__esModule) return value;\n    /******/\n\n    var ns = Object.create(null);\n    /******/\n\n    __webpack_require__.r(ns);\n    /******/\n\n\n    Object.defineProperty(ns, 'default', {\n      enumerable: true,\n      value: value\n    });\n    /******/\n\n    if (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) {\n      return value[key];\n    }.bind(null, key));\n    /******/\n\n    return ns;\n    /******/\n  };\n  /******/\n\n  /******/\n  // getDefaultExport function for compatibility with non-harmony modules\n\n  /******/\n\n\n  __webpack_require__.n = function (module) {\n    /******/\n    var getter = module && module.__esModule ?\n    /******/\n    function getDefault() {\n      return module['default'];\n    } :\n    /******/\n    function getModuleExports() {\n      return module;\n    };\n    /******/\n\n    __webpack_require__.d(getter, 'a', getter);\n    /******/\n\n\n    return getter;\n    /******/\n  };\n  /******/\n\n  /******/\n  // Object.prototype.hasOwnProperty.call\n\n  /******/\n\n\n  __webpack_require__.o = function (object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n  };\n  /******/\n\n  /******/\n  // __webpack_public_path__\n\n  /******/\n\n\n  __webpack_require__.p = \"\";\n  /******/\n\n  /******/\n\n  /******/\n  // Load entry module and return exports\n\n  /******/\n\n  return __webpack_require__(__webpack_require__.s = 0);\n  /******/\n}([\n  /* 0 */\n\n  /***/\n\n  /* 1 */\n\n  /***/\n\n  /* 2 */\n\n  /***/\n\n  /* 3 */\n\n  /***/\n\n  /* 4 */\n\n  /***/\n\n  /* 5 */\n\n  /***/\n\n  /* 6 */\n\n  /***/\n\n  /* 7 */\n\n  /***/\n\n  /* 8 */\n\n  /***/\n\n  /* 9 */\n\n  /***/\n\n  /* 10 */\n\n  /***/\n\n  /* 11 */\n\n  /***/\n\n  /* 12 */\n\n  /***/\n\n  /* 13 */\n\n  /***/\n\n  /* 14 */\n\n  /***/\n\n  /* 15 */\n\n  /***/\n\n  /* 16 */\n\n  /***/\n\n  /* 17 */\n\n  /***/\n\n  /* 18 */\n\n  /***/\n\n  /* 19 */\n\n  /***/\n\n  /* 20 */\n\n  /***/\n\n  /* 21 */\n\n  /***/\n\n  /* 22 */\n\n  /***/\n\n  /* 23 */\n\n  /***/\n\n  /* 24 */\n\n  /***/\n\n  /* 25 */\n\n  /***/\n\n  /* 26 */\n\n  /***/\n\n  /* 27 */\n\n  /***/\n\n  /* 28 */\n\n  /***/\n\n  /* 29 */\n\n  /***/\n\n  /* 30 */\n\n  /***/\n\n  /* 31 */\n\n  /***/\n\n  /* 32 */\n\n  /***/\n\n  /* 33 */\n\n  /***/\n\n  /* 34 */\n\n  /***/\n\n  /* 35 */\n\n  /***/\n\n  /* 36 */\n\n  /***/\n\n  /* 37 */\n\n  /***/\n\n  /* 38 */\n\n  /***/\n\n  /* 39 */\n\n  /***/\n\n  /* 40 */\n\n  /***/\n\n  /* 41 */\n\n  /***/\n\n  /* 42 */\n\n  /***/\n\n  /* 43 */\n\n  /***/\n\n  /* 44 */\n\n  /***/\n\n  /* 45 */\n\n  /***/\n\n  /* 46 */\n\n  /***/\n\n  /* 47 */\n\n  /***/\n\n  /* 48 */\n\n  /***/\n\n  /* 49 */\n\n  /***/\n\n  /* 50 */\n\n  /***/\n\n  /* 51 */\n\n  /***/\n\n  /* 52 */\n\n  /***/\n\n  /* 53 */\n\n  /***/\n\n  /* 54 */\n\n  /***/\n\n  /* 55 */\n\n  /***/\n\n  /* 56 */\n\n  /***/\n\n  /* 57 */\n\n  /***/\n\n  /* 58 */\n\n  /***/\n\n  /* 59 */\n\n  /***/\n\n  /* 60 */\n\n  /***/\n\n  /* 61 */\n\n  /***/\n\n  /* 62 */\n\n  /***/\n\n  /* 63 */\n\n  /***/\n\n  /* 64 */\n\n  /***/\n\n  /* 65 */\n\n  /***/\n\n  /******/\nfunction (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _solid_auth_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1); // Export a singleton instance of SolidAuthClient\n\n\n  const auth = new _solid_auth_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n  /* harmony default export */\n\n  __webpack_exports__[\"default\"] = auth; // Bind methods to instance, so they can be invoked as regular functions\n  // (e.g., to pass around the fetch function)\n\n  Object.getOwnPropertyNames(_solid_auth_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype).forEach(property => {\n    const value = auth[property];\n\n    if (typeof value === 'function') {\n      auth[property] = value.bind(auth);\n    }\n  }); // Expose window.SolidAuthClient for backward compatibility\n\n  if (typeof window !== 'undefined') {\n    if ('SolidAuthClient' in window) {\n      console.warn('Caution: multiple versions of solid-auth-client active.');\n    } else {\n      let warned = false;\n      Object.defineProperty(window, 'SolidAuthClient', {\n        enumerable: true,\n        get: () => {\n          if (!warned) {\n            warned = true;\n            console.warn('window.SolidAuthClient has been deprecated.');\n            console.warn('Please use window.solid.auth instead.');\n          }\n\n          return auth;\n        }\n      });\n    }\n  }\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"default\", function () {\n    return SolidAuthClient;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n  /* harmony import */\n\n\n  var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _authn_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n  /* harmony import */\n\n\n  var _popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65);\n  /* harmony import */\n\n\n  var _session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n  /* harmony import */\n\n\n  var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n  /* harmony import */\n\n\n  var _url_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _webid_oidc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11);\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n  /* global fetch */\n  // Store the global fetch, so the user is free to override it\n\n\n  const globalFetch = fetch;\n\n  class SolidAuthClient extends events__WEBPACK_IMPORTED_MODULE_1___default.a {\n    constructor(...args) {\n      super(...args);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_pendingSession\", void 0);\n    }\n\n    fetch(input, options) {\n      this.emit('request', Object(_url_util__WEBPACK_IMPORTED_MODULE_6__[\"toUrlString\"])(input));\n      return Object(_authn_fetch__WEBPACK_IMPORTED_MODULE_2__[\"authnFetch\"])(Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])(), globalFetch, input, options);\n    }\n\n    login(idp, options) {\n      options = _objectSpread(_objectSpread({}, defaultLoginOptions(Object(_url_util__WEBPACK_IMPORTED_MODULE_6__[\"currentUrlNoParams\"])())), options);\n      return _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"login\"](idp, options);\n    }\n\n    async popupLogin(options) {\n      options = _objectSpread(_objectSpread({}, defaultLoginOptions()), options);\n\n      if (!/https?:/.test(options.popupUri)) {\n        options.popupUri = new URL(options.popupUri || '/.well-known/solid/login', window.location).toString();\n      }\n\n      if (!options.callbackUri) {\n        options.callbackUri = options.popupUri;\n      }\n\n      const popup = Object(_popup__WEBPACK_IMPORTED_MODULE_3__[\"openIdpPopup\"])(options.popupUri);\n      const session = await Object(_popup__WEBPACK_IMPORTED_MODULE_3__[\"obtainSession\"])(options.storage, popup, options);\n      this.emit('login', session);\n      this.emit('session', session);\n      return session;\n    }\n\n    async currentSession(storage = Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()) {\n      // Try to obtain a stored or pending session\n      let session = this._pendingSession || (await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage)); // If none found, attempt to create a new session\n\n      if (!session) {\n        // Try to create a new OIDC session from stored tokens\n        try {\n          this._pendingSession = _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"currentSession\"](storage);\n          session = await this._pendingSession;\n        } catch (err) {\n          console.error(err);\n        } // Save the new session and emit session events\n\n\n        if (session) {\n          await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"saveSession\"])(storage)(session);\n          this.emit('login', session);\n          this.emit('session', session);\n        }\n\n        delete this._pendingSession;\n      }\n\n      return session;\n    }\n\n    async trackSession(callback) {\n      /* eslint-disable standard/no-callback-literal */\n      callback(await this.currentSession());\n      this.on('session', callback);\n    }\n\n    stopTrackSession(callback) {\n      this.removeListener('session', callback);\n    }\n\n    async logout(storage = Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()) {\n      const session = await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage);\n\n      if (session) {\n        try {\n          await _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"logout\"](storage, globalFetch);\n          this.emit('logout');\n          this.emit('session', null);\n        } catch (err) {\n          console.warn('Error logging out:');\n          console.error(err);\n        }\n\n        await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"clearSession\"])(storage);\n      }\n    }\n\n  }\n\n  function defaultLoginOptions(url) {\n    return {\n      callbackUri: url ? url.split('#')[0] : '',\n      popupUri: '',\n      storage: Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()\n    };\n  }\n  /***/\n\n}, function (module, exports) {\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  module.exports = _defineProperty;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\"; // Copyright Joyent, Inc. and other Node contributors.\n  //\n  // Permission is hereby granted, free of charge, to any person obtaining a\n  // copy of this software and associated documentation files (the\n  // \"Software\"), to deal in the Software without restriction, including\n  // without limitation the rights to use, copy, modify, merge, publish,\n  // distribute, sublicense, and/or sell copies of the Software, and to permit\n  // persons to whom the Software is furnished to do so, subject to the\n  // following conditions:\n  //\n  // The above copyright notice and this permission notice shall be included\n  // in all copies or substantial portions of the Software.\n  //\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n  // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n  // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n  // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n  // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n  // USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n  var R = typeof Reflect === 'object' ? Reflect : null;\n  var ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  };\n  var ReflectOwnKeys;\n\n  if (R && typeof R.ownKeys === 'function') {\n    ReflectOwnKeys = R.ownKeys;\n  } else if (Object.getOwnPropertySymbols) {\n    ReflectOwnKeys = function ReflectOwnKeys(target) {\n      return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n    };\n  } else {\n    ReflectOwnKeys = function ReflectOwnKeys(target) {\n      return Object.getOwnPropertyNames(target);\n    };\n  }\n\n  function ProcessEmitWarning(warning) {\n    if (console && console.warn) console.warn(warning);\n  }\n\n  var NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n    return value !== value;\n  };\n\n  function EventEmitter() {\n    EventEmitter.init.call(this);\n  }\n\n  module.exports = EventEmitter;\n  module.exports.once = once; // Backwards-compat with node 0.10.x\n\n  EventEmitter.EventEmitter = EventEmitter;\n  EventEmitter.prototype._events = undefined;\n  EventEmitter.prototype._eventsCount = 0;\n  EventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n  // added to it. This is a useful default which helps finding memory leaks.\n\n  var defaultMaxListeners = 10;\n\n  function checkListener(listener) {\n    if (typeof listener !== 'function') {\n      throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n    }\n  }\n\n  Object.defineProperty(EventEmitter, 'defaultMaxListeners', {\n    enumerable: true,\n    get: function () {\n      return defaultMaxListeners;\n    },\n    set: function (arg) {\n      if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n        throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n      }\n\n      defaultMaxListeners = arg;\n    }\n  });\n\n  EventEmitter.init = function () {\n    if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    }\n\n    this._maxListeners = this._maxListeners || undefined;\n  }; // Obviously not all Emitters should be limited to 10. This function allows\n  // that to be increased. Set to zero for unlimited.\n\n\n  EventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n    if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n      throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n    }\n\n    this._maxListeners = n;\n    return this;\n  };\n\n  function _getMaxListeners(that) {\n    if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n    return that._maxListeners;\n  }\n\n  EventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n    return _getMaxListeners(this);\n  };\n\n  EventEmitter.prototype.emit = function emit(type) {\n    var args = [];\n\n    for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n\n    var doError = type === 'error';\n    var events = this._events;\n    if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n    if (doError) {\n      var er;\n      if (args.length > 0) er = args[0];\n\n      if (er instanceof Error) {\n        // Note: The comments on the `throw` lines are intentional, they show\n        // up in Node's output if this results in an unhandled exception.\n        throw er; // Unhandled 'error' event\n      } // At least give some kind of context to the user\n\n\n      var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n      err.context = er;\n      throw err; // Unhandled 'error' event\n    }\n\n    var handler = events[type];\n    if (handler === undefined) return false;\n\n    if (typeof handler === 'function') {\n      ReflectApply(handler, this, args);\n    } else {\n      var len = handler.length;\n      var listeners = arrayClone(handler, len);\n\n      for (var i = 0; i < len; ++i) ReflectApply(listeners[i], this, args);\n    }\n\n    return true;\n  };\n\n  function _addListener(target, type, listener, prepend) {\n    var m;\n    var events;\n    var existing;\n    checkListener(listener);\n    events = target._events;\n\n    if (events === undefined) {\n      events = target._events = Object.create(null);\n      target._eventsCount = 0;\n    } else {\n      // To avoid recursion in the case that type === \"newListener\"! Before\n      // adding it to the listeners, first emit \"newListener\".\n      if (events.newListener !== undefined) {\n        target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n        // this._events to be assigned to a new object\n\n        events = target._events;\n      }\n\n      existing = events[type];\n    }\n\n    if (existing === undefined) {\n      // Optimize the case of one listener. Don't need the extra array object.\n      existing = events[type] = listener;\n      ++target._eventsCount;\n    } else {\n      if (typeof existing === 'function') {\n        // Adding the second element, need to change to array.\n        existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n      } else if (prepend) {\n        existing.unshift(listener);\n      } else {\n        existing.push(listener);\n      } // Check for listener leak\n\n\n      m = _getMaxListeners(target);\n\n      if (m > 0 && existing.length > m && !existing.warned) {\n        existing.warned = true; // No error code for this since it is a Warning\n        // eslint-disable-next-line no-restricted-syntax\n\n        var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n        w.name = 'MaxListenersExceededWarning';\n        w.emitter = target;\n        w.type = type;\n        w.count = existing.length;\n        ProcessEmitWarning(w);\n      }\n    }\n\n    return target;\n  }\n\n  EventEmitter.prototype.addListener = function addListener(type, listener) {\n    return _addListener(this, type, listener, false);\n  };\n\n  EventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\n  EventEmitter.prototype.prependListener = function prependListener(type, listener) {\n    return _addListener(this, type, listener, true);\n  };\n\n  function onceWrapper() {\n    if (!this.fired) {\n      this.target.removeListener(this.type, this.wrapFn);\n      this.fired = true;\n      if (arguments.length === 0) return this.listener.call(this.target);\n      return this.listener.apply(this.target, arguments);\n    }\n  }\n\n  function _onceWrap(target, type, listener) {\n    var state = {\n      fired: false,\n      wrapFn: undefined,\n      target: target,\n      type: type,\n      listener: listener\n    };\n    var wrapped = onceWrapper.bind(state);\n    wrapped.listener = listener;\n    state.wrapFn = wrapped;\n    return wrapped;\n  }\n\n  EventEmitter.prototype.once = function once(type, listener) {\n    checkListener(listener);\n    this.on(type, _onceWrap(this, type, listener));\n    return this;\n  };\n\n  EventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n    checkListener(listener);\n    this.prependListener(type, _onceWrap(this, type, listener));\n    return this;\n  }; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\n  EventEmitter.prototype.removeListener = function removeListener(type, listener) {\n    var list, events, position, i, originalListener;\n    checkListener(listener);\n    events = this._events;\n    if (events === undefined) return this;\n    list = events[type];\n    if (list === undefined) return this;\n\n    if (list === listener || list.listener === listener) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else {\n        delete events[type];\n        if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n      }\n    } else if (typeof list !== 'function') {\n      position = -1;\n\n      for (i = list.length - 1; i >= 0; i--) {\n        if (list[i] === listener || list[i].listener === listener) {\n          originalListener = list[i].listener;\n          position = i;\n          break;\n        }\n      }\n\n      if (position < 0) return this;\n      if (position === 0) list.shift();else {\n        spliceOne(list, position);\n      }\n      if (list.length === 1) events[type] = list[0];\n      if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n    }\n\n    return this;\n  };\n\n  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\n  EventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n    var listeners, events, i;\n    events = this._events;\n    if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n    if (events.removeListener === undefined) {\n      if (arguments.length === 0) {\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n      } else if (events[type] !== undefined) {\n        if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n      }\n\n      return this;\n    } // emit removeListener for all listeners on all events\n\n\n    if (arguments.length === 0) {\n      var keys = Object.keys(events);\n      var key;\n\n      for (i = 0; i < keys.length; ++i) {\n        key = keys[i];\n        if (key === 'removeListener') continue;\n        this.removeAllListeners(key);\n      }\n\n      this.removeAllListeners('removeListener');\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n      return this;\n    }\n\n    listeners = events[type];\n\n    if (typeof listeners === 'function') {\n      this.removeListener(type, listeners);\n    } else if (listeners !== undefined) {\n      // LIFO order\n      for (i = listeners.length - 1; i >= 0; i--) {\n        this.removeListener(type, listeners[i]);\n      }\n    }\n\n    return this;\n  };\n\n  function _listeners(target, type, unwrap) {\n    var events = target._events;\n    if (events === undefined) return [];\n    var evlistener = events[type];\n    if (evlistener === undefined) return [];\n    if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n    return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n  }\n\n  EventEmitter.prototype.listeners = function listeners(type) {\n    return _listeners(this, type, true);\n  };\n\n  EventEmitter.prototype.rawListeners = function rawListeners(type) {\n    return _listeners(this, type, false);\n  };\n\n  EventEmitter.listenerCount = function (emitter, type) {\n    if (typeof emitter.listenerCount === 'function') {\n      return emitter.listenerCount(type);\n    } else {\n      return listenerCount.call(emitter, type);\n    }\n  };\n\n  EventEmitter.prototype.listenerCount = listenerCount;\n\n  function listenerCount(type) {\n    var events = this._events;\n\n    if (events !== undefined) {\n      var evlistener = events[type];\n\n      if (typeof evlistener === 'function') {\n        return 1;\n      } else if (evlistener !== undefined) {\n        return evlistener.length;\n      }\n    }\n\n    return 0;\n  }\n\n  EventEmitter.prototype.eventNames = function eventNames() {\n    return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n  };\n\n  function arrayClone(arr, n) {\n    var copy = new Array(n);\n\n    for (var i = 0; i < n; ++i) copy[i] = arr[i];\n\n    return copy;\n  }\n\n  function spliceOne(list, index) {\n    for (; index + 1 < list.length; index++) list[index] = list[index + 1];\n\n    list.pop();\n  }\n\n  function unwrapListeners(arr) {\n    var ret = new Array(arr.length);\n\n    for (var i = 0; i < ret.length; ++i) {\n      ret[i] = arr[i].listener || arr[i];\n    }\n\n    return ret;\n  }\n\n  function once(emitter, name) {\n    return new Promise(function (resolve, reject) {\n      function eventListener() {\n        if (errorListener !== undefined) {\n          emitter.removeListener('error', errorListener);\n        }\n\n        resolve([].slice.call(arguments));\n      }\n\n      ;\n      var errorListener; // Adding an error listener is not optional because\n      // if an error is thrown on an event emitter we cannot\n      // guarantee that the actual event we are waiting will\n      // be fired. The result could be a silent way to create\n      // memory or file descriptor leaks, which is something\n      // we should avoid.\n\n      if (name !== 'error') {\n        errorListener = function errorListener(err) {\n          emitter.removeListener(name, eventListener);\n          reject(err);\n        };\n\n        emitter.once('error', errorListener);\n      }\n\n      emitter.once(name, eventListener);\n    });\n  }\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"authnFetch\", function () {\n    return authnFetch;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n  /* harmony import */\n\n\n  var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var _url_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _host__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n  /* harmony import */\n\n\n  var _session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n  /* harmony import */\n\n\n  var _webid_oidc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11);\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  async function authnFetch(storage, fetch, input, options) {\n    // Copy headers into a modifiable object\n    if (options) {\n      const headers = copyHeaders(options.headers);\n      options = _objectSpread(_objectSpread({}, options), {}, {\n        headers\n      });\n    } // If not authenticated, perform a regular fetch\n\n\n    const session = await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage);\n\n    if (!session) {\n      return fetch(input, options);\n    } // If we know the server expects credentials, send them\n\n\n    if (await shouldShareCredentials(storage, input)) {\n      return Object(_webid_oidc__WEBPACK_IMPORTED_MODULE_5__[\"fetchWithCredentials\"])(session, fetch, input, options);\n    } // If we don't know for sure, try a regular fetch first\n\n\n    let resp = await fetch(input, options); // If the server then requests credentials, send them\n\n    if (resp.status === 401) {\n      await Object(_host__WEBPACK_IMPORTED_MODULE_3__[\"updateHostFromResponse\"])(storage)(resp);\n\n      if (await shouldShareCredentials(storage, input)) {\n        resp = Object(_webid_oidc__WEBPACK_IMPORTED_MODULE_5__[\"fetchWithCredentials\"])(session, fetch, input, options);\n      }\n    }\n\n    return resp;\n  }\n\n  async function shouldShareCredentials(storage, input) {\n    const requestHost = await Object(_host__WEBPACK_IMPORTED_MODULE_3__[\"getHost\"])(storage)(Object(_url_util__WEBPACK_IMPORTED_MODULE_2__[\"toUrlString\"])(input));\n    return requestHost != null && requestHost.requiresAuth;\n  }\n\n  function copyHeaders(origHeaders) {\n    const headers = {};\n\n    if (origHeaders) {\n      if (typeof origHeaders.forEach === 'function') {\n        origHeaders.forEach((value, key) => {\n          headers[key] = value;\n        });\n      } else {\n        for (const key in origHeaders) {\n          headers[key] = origHeaders[key];\n        }\n      }\n    }\n\n    return headers;\n  }\n  /***/\n\n}, function (module, exports) {\n  (function () {\n    module.exports = window[\"fetch\"];\n  })();\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"currentUrl\", function () {\n    return currentUrl;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"currentUrlNoParams\", function () {\n    return currentUrlNoParams;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"navigateTo\", function () {\n    return navigateTo;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"originOf\", function () {\n    return originOf;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"toUrlString\", function () {\n    return toUrlString;\n  });\n  /* eslint-env browser */\n\n\n  function getLocation() {\n    return typeof window !== 'undefined' ? window.location : {\n      href: 'https://example.org/',\n      pathname: '/',\n      origin: 'example.org'\n    };\n  }\n\n  const currentUrl = () => getLocation().href;\n\n  const currentUrlNoParams = () => getLocation().origin + getLocation().pathname;\n\n  const navigateTo = url => {\n    getLocation().href = url;\n  };\n\n  const originOf = url => new URL(url).origin;\n\n  const toUrlString = url => {\n    if (typeof url !== 'string') {\n      url = 'url' in url ? url.url : url.toString();\n    }\n\n    return new URL(url, currentUrl()).toString();\n  };\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"getHost\", function () {\n    return getHost;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"saveHost\", function () {\n    return saveHost;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"updateHostFromResponse\", function () {\n    return updateHostFromResponse;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);\n  /* harmony import */\n\n\n  var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\n  /* harmony import */\n\n\n  var _webid_oidc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n  /* globalRequest, Response, URL */\n\n\n  function getHost(storage) {\n    return async url => {\n      const {\n        host\n      } = new URL(url);\n      const session = await Object(_session__WEBPACK_IMPORTED_MODULE_1__[\"getSession\"])(storage);\n\n      if (session && host === new URL(session.idp).host) {\n        return {\n          url: host,\n          requiresAuth: true\n        };\n      }\n\n      const {\n        hosts\n      } = await Object(_storage__WEBPACK_IMPORTED_MODULE_2__[\"getData\"])(storage);\n      return hosts && hosts[host];\n    };\n  }\n\n  function saveHost(storage) {\n    return async ({\n      url,\n      requiresAuth\n    }) => {\n      await Object(_storage__WEBPACK_IMPORTED_MODULE_2__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n        hosts: _objectSpread(_objectSpread({}, data.hosts), {}, {\n          [url]: {\n            requiresAuth\n          }\n        })\n      }));\n    };\n  }\n\n  function updateHostFromResponse(storage) {\n    return async resp => {\n      if (_webid_oidc__WEBPACK_IMPORTED_MODULE_3__[\"requiresAuth\"](resp)) {\n        const {\n          host\n        } = new URL(resp.url);\n        await saveHost(storage)({\n          url: host,\n          requiresAuth: true\n        });\n      }\n    };\n  }\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"getSession\", function () {\n    return getSession;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"saveSession\", function () {\n    return saveSession;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"clearSession\", function () {\n    return clearSession;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  async function getSession(storage) {\n    const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"getData\"])(storage);\n    return data.session || null;\n  }\n\n  function saveSession(storage) {\n    return async session => {\n      const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n        session\n      }));\n      return data.session;\n    };\n  }\n\n  async function clearSession(storage) {\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n      session: null\n    }));\n  }\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"NAMESPACE\", function () {\n    return NAMESPACE;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"defaultStorage\", function () {\n    return defaultStorage;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"getData\", function () {\n    return getData;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"updateStorage\", function () {\n    return updateStorage;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"asyncStorage\", function () {\n    return asyncStorage;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"memStorage\", function () {\n    return memStorage;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"ipcStorage\", function () {\n    return ipcStorage;\n  });\n  /* harmony import */\n\n\n  var _ipc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n\n  const NAMESPACE = 'solid-auth-client';\n\n  const defaultStorage = () => {\n    const hasLocalStorage = typeof window !== 'undefined' && 'localStorage' in window;\n    return asyncStorage(hasLocalStorage ? window.localStorage : memStorage());\n  };\n  /**\n   * Gets the deserialized stored data\n   */\n\n\n  async function getData(store) {\n    let serialized;\n    let data;\n\n    try {\n      serialized = await store.getItem(NAMESPACE);\n      data = JSON.parse(serialized || '{}');\n    } catch (e) {\n      console.warn('Could not deserialize data:', serialized);\n      console.error(e);\n      data = {};\n    }\n\n    return data;\n  }\n  /**\n   * Updates a Storage object without mutating its intermediate representation.\n   */\n\n\n  async function updateStorage(store, update) {\n    const currentData = await getData(store);\n    const newData = update(currentData);\n    await store.setItem(NAMESPACE, JSON.stringify(newData));\n    return newData;\n  }\n  /**\n   * Takes a synchronous storage interface and wraps it with an async interface.\n   */\n\n\n  function asyncStorage(storage) {\n    return {\n      getItem: key => {\n        return Promise.resolve(storage.getItem(key));\n      },\n      setItem: (key, val) => {\n        return Promise.resolve(storage.setItem(key, val));\n      },\n      removeItem: key => {\n        return Promise.resolve(storage.removeItem(key));\n      }\n    };\n  }\n\n  const memStorage = () => {\n    const store = {};\n    return {\n      getItem: key => {\n        if (typeof store[key] === 'undefined') return null;\n        return store[key];\n      },\n      setItem: (key, val) => {\n        store[key] = val;\n      },\n      removeItem: key => {\n        delete store[key];\n      }\n    };\n  };\n\n  function ipcStorage(client) {\n    return {\n      getItem: key => client.request('storage/getItem', key),\n      setItem: (key, val) => client.request('storage/setItem', key, val),\n      removeItem: key => client.request('storage/removeItem', key)\n    };\n  }\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"Server\", function () {\n    return Server;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"Client\", function () {\n    return Client;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n  /*\n    This module describes a simple IPC interface for communicating between browser windows.\n    window.postMessage() is the transport interface, and a request/response interface\n    is defined on top of it as follows:\n  \n    const request = {\n      'solid-auth-client': {\n        id: 1234,\n        method: 'doSomethingPlease',\n        args: [ 'one', 'two', 'three' ]\n      }\n    }\n  \n    const response = {\n      'solid-auth-client': {\n        id: 1234,\n        ret: 'the_value'\n      }\n    }\n  */\n\n\n  const NAMESPACE = 'solid-auth-client';\n  /**\n   * Receives and handles remote procedure calls.\n   */\n\n  class Server {\n    constructor(clientWindow, clientOrigin, handle) {\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_clientWindow\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_clientOrigin\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_handler\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_messageListener\", void 0);\n\n      this._clientWindow = clientWindow;\n      this._clientOrigin = clientOrigin;\n      this._handler = handle;\n\n      this._messageListener = event => this._handleMessage(event);\n    }\n\n    async _handleMessage({\n      data,\n      origin\n    }) {\n      // Ensure we can post to the origin\n      if (origin !== this._clientOrigin) {\n        console.warn(\"solid-auth-client is listening to \".concat(this._clientOrigin, \" \") + \"so ignored a message received from \".concat(origin, \".\"));\n        return;\n      } // Parse the request and send it to the handler\n\n\n      const req = data && data[NAMESPACE];\n\n      if (req && req.method) {\n        const {\n          id,\n          method,\n          args\n        } = req;\n        const ret = await this._handler(method, ...args);\n\n        this._clientWindow.postMessage({\n          [NAMESPACE]: {\n            id,\n            ret\n          }\n        }, this._clientOrigin);\n      }\n    }\n\n    start() {\n      window.addEventListener('message', this._messageListener);\n    }\n\n    stop() {\n      window.removeEventListener('message', this._messageListener);\n    }\n\n  }\n  /**\n   * Makes remote procedure calls.\n   */\n\n\n  class Client {\n    constructor(serverWindow, serverOrigin) {\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_serverWindow\", void 0);\n\n      _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_serverOrigin\", void 0);\n\n      this._serverWindow = serverWindow;\n      this._serverOrigin = serverOrigin;\n    }\n\n    request(method, ...args) {\n      // Send the request as a message to the server window\n      const id = Math.random();\n\n      this._serverWindow.postMessage({\n        [NAMESPACE]: {\n          id,\n          method,\n          args\n        }\n      }, this._serverOrigin); // Create a promise that resolves to the request's return value\n\n\n      return new Promise((resolve, reject) => {\n        // Listen for responses to the request\n        window.addEventListener('message', responseListener); // Cancel if the response takes too long\n\n        const timeout = setTimeout(() => {\n          reject(new Error('Could not connect to main window.'));\n          window.removeEventListener('message', responseListener);\n        }, 2000); // Processes a possible response to the request\n\n        function responseListener({\n          data\n        }) {\n          const resp = data && data[NAMESPACE]; // eslint-disable-next-line no-prototype-builtins\n\n          if (resp && resp.id === id && resp.hasOwnProperty('ret')) {\n            resolve(resp.ret);\n            clearTimeout(timeout);\n            window.removeEventListener('message', responseListener);\n          }\n        }\n      });\n    }\n\n  }\n  /***/\n\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"login\", function () {\n    return login;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"currentSession\", function () {\n    return currentSession;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"logout\", function () {\n    return logout;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"getRegisteredRp\", function () {\n    return getRegisteredRp;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"requiresAuth\", function () {\n    return requiresAuth;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"fetchWithCredentials\", function () {\n    return fetchWithCredentials;\n  });\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n  /* harmony import */\n\n\n  var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n  /* harmony import */\n\n\n  var auth_header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14);\n  /* harmony import */\n\n\n  var auth_header__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(auth_header__WEBPACK_IMPORTED_MODULE_2__);\n  /* harmony import */\n\n\n  var _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(18);\n  /* harmony import */\n\n\n  var _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__);\n  /* harmony import */\n\n\n  var _solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(61);\n  /* harmony import */\n\n\n  var _solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4__);\n  /* harmony import */\n\n\n  var _url_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);\n  /* harmony import */\n\n\n  var _storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n  /* global Response */\n\n\n  async function login(idp, options) {\n    try {\n      const rp = await getRegisteredRp(idp, options);\n      await saveAppHashFragment(options.storage);\n      return sendAuthRequest(rp, options);\n    } catch (err) {\n      console.warn('Error logging in with WebID-OIDC');\n      console.error(err);\n      return null;\n    }\n  }\n\n  async function currentSession(storage = Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"defaultStorage\"])()) {\n    try {\n      // Obtain the Relying Party\n      const rp = await getStoredRp(storage);\n\n      if (!rp) {\n        return null;\n      } // Obtain and clear the OIDC URL fragment\n\n\n      const url = Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"currentUrl\"])();\n\n      if (!/#(.*&)?access_token=/.test(url)) {\n        return null;\n      }\n\n      window.location.hash = '';\n      await restoreAppHashFragment(storage); // Obtain a session from the Relying Party\n\n      const storeData = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n      const session = await rp.validateResponse(url, storeData);\n\n      if (!session) {\n        return null;\n      }\n\n      return _objectSpread(_objectSpread({}, session), {}, {\n        webId: session.idClaims.sub,\n        idp: session.issuer\n      });\n    } catch (err) {\n      console.warn('Error finding a WebID-OIDC session');\n      console.error(err);\n      return null;\n    }\n  }\n\n  async function logout(storage, fetch) {\n    const rp = await getStoredRp(storage);\n\n    if (rp) {\n      try {\n        // First log out from the IDP\n        await rp.logout(); // Then, log out from the RP\n\n        try {\n          await fetch('/.well-known/solid/logout', {\n            credentials: 'include'\n          });\n        } catch (e) {\n          // Ignore errors for when we are not on a Solid pod\n          // But tell users it is harmless because they will see the GET failure in the console\n          console.info(\"Couldn't find /.well-known/solid/logout, this is harmless.\");\n        }\n      } catch (err) {\n        console.warn('Error logging out of the WebID-OIDC session');\n        console.error(err);\n      }\n    }\n  }\n\n  async function getRegisteredRp(idp, options) {\n    // To reuse a possible previous RP,\n    // it be for the same IDP and redirect URI\n    let rp = await getStoredRp(options.storage);\n\n    if (!rp || rp.provider.url !== idp || !rp.registration.redirect_uris.includes(options.callbackUri)) {\n      // Register a new RP\n      rp = await registerRp(idp, options);\n      await storeRp(options.storage, idp, rp);\n    }\n\n    return rp;\n  }\n\n  async function getStoredRp(storage) {\n    const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n    const {\n      rpConfig\n    } = data;\n\n    if (rpConfig) {\n      rpConfig.store = storage;\n      return _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default.a.from(rpConfig);\n    } else {\n      return null;\n    }\n  }\n\n  async function storeRp(storage, idp, rp) {\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n      rpConfig: rp\n    }));\n    return rp;\n  }\n\n  function registerRp(idp, opts) {\n    const {\n      storage,\n      callbackUri\n    } = opts;\n    const responseType = 'id_token token';\n    const clientNameI18n = {};\n    Object.entries(opts).filter(([key, _]) => key.startsWith('clientName#')).forEach(([key, value]) => clientNameI18n[key.replace('clientName#', 'client_name#')] = value);\n    const supplementaryOptions = {\n      logo_uri: opts.logoUri,\n      contacts: opts.contacts,\n      client_name: opts.clientName\n    };\n\n    const registration = _objectSpread(_objectSpread({\n      issuer: idp,\n      grant_types: ['implicit'],\n      redirect_uris: [callbackUri],\n      response_types: [responseType],\n      scope: 'openid profile'\n    }, clientNameI18n), supplementaryOptions); // Note that overrides @solid/oidc-rp/RelyingParty defaults (i.e. not merged)\n\n\n    const options = {\n      defaults: {\n        authenticate: {\n          redirect_uri: callbackUri,\n          response_type: responseType,\n          display: 'page',\n          scope: ['openid']\n        }\n      },\n      store: storage\n    };\n    return _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default.a.register(idp, registration, options);\n  }\n\n  async function sendAuthRequest(rp, {\n    callbackUri,\n    storage\n  }) {\n    const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n    const url = await rp.createRequest({\n      redirect_uri: callbackUri\n    }, data);\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(storage, () => data);\n    return Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"navigateTo\"])(url);\n  }\n\n  async function saveAppHashFragment(store) {\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(store, data => _objectSpread(_objectSpread({}, data), {}, {\n      appHashFragment: window.location.hash\n    }));\n  }\n\n  async function restoreAppHashFragment(store) {\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(store, _ref => {\n      let {\n        appHashFragment = ''\n      } = _ref,\n          data = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, [\"appHashFragment\"]);\n\n      window.location.hash = appHashFragment;\n      return data;\n    });\n  }\n  /**\n   * Answers whether a HTTP response requires WebID-OIDC authentication.\n   */\n\n\n  function requiresAuth(resp) {\n    if (resp.status !== 401) {\n      return false;\n    }\n\n    const wwwAuthHeader = resp.headers.get('www-authenticate');\n\n    if (!wwwAuthHeader) {\n      return false;\n    }\n\n    const auth = auth_header__WEBPACK_IMPORTED_MODULE_2__[\"parse\"](wwwAuthHeader);\n    return auth.scheme === 'Bearer' && auth.params && auth.params.scope === 'openid webid';\n  }\n  /**\n   * Fetches a resource, providing the WebID-OIDC ID Token as authentication.\n   * Assumes that the resource has requested those tokens in a previous response.\n   */\n\n\n  async function fetchWithCredentials(session, fetch, input, options) {\n    // Add Authorization header (assuming a modifiable headers object)\n    const headers = (options ? options.headers : input.headers) || {};\n    const popToken = await _solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4___default.a.issueFor(Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"toUrlString\"])(input), session);\n    headers.authorization = \"Bearer \".concat(popToken);\n    return fetch(input, _objectSpread(_objectSpread({}, options), {}, {\n      credentials: 'include',\n      headers\n    }));\n  }\n  /***/\n\n}, function (module, exports, __webpack_require__) {\n  var objectWithoutPropertiesLoose = __webpack_require__(13);\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  module.exports = _objectWithoutProperties;\n  /***/\n}, function (module, exports) {\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  module.exports = _objectWithoutPropertiesLoose;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  Object.defineProperty(exports, \"format\", {\n    enumerable: true,\n    get: function get() {\n      return _format.default;\n    }\n  });\n  Object.defineProperty(exports, \"parse\", {\n    enumerable: true,\n    get: function get() {\n      return _parse.default;\n    }\n  });\n\n  var _format = _interopRequireDefault(__webpack_require__(15));\n\n  var _parse = _interopRequireDefault(__webpack_require__(17));\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n      default: obj\n    };\n  }\n  /***/\n\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _util = __webpack_require__(16);\n\n  function _toConsumableArray(arr) {\n    return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n  }\n\n  function _iterableToArray(iter) {\n    if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n        arr2[i] = arr[i];\n      }\n\n      return arr2;\n    }\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  var xxx = function xxx(key) {\n    return function (value) {\n      return `${key}=${value && !(0, _util.isToken)(value) ? (0, _util.quote)(value) : value}`;\n    };\n  };\n\n  var build = function build(params) {\n    return params.reduce(function (prev, _ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          key = _ref2[0],\n          values = _ref2[1];\n\n      var transform = xxx(key);\n\n      if (!(0, _util.isToken)(key)) {\n        throw new TypeError();\n      }\n\n      if (Array.isArray(values)) {\n        return _toConsumableArray(prev).concat(_toConsumableArray(values.map(transform)));\n      }\n\n      return _toConsumableArray(prev).concat([transform(values)]);\n    }, []);\n  };\n\n  var challenge = function challenge(params, options) {\n    if (Array.isArray(params)) {\n      return build(params);\n    } else if (typeof params === 'object') {\n      var entries = params;\n      return challenge(Object.keys(params).map(function (key) {\n        return [key, entries[key]];\n      }), options);\n    }\n\n    throw new TypeError();\n  };\n\n  var _default = function _default(scheme, token, params) {\n    var obj = typeof scheme === 'string' ? {\n      scheme,\n      token,\n      params\n    } : scheme;\n\n    if (typeof obj !== 'object') {\n      throw new TypeError();\n    } else if (!(0, _util.isScheme)(obj.scheme)) {\n      throw new TypeError('Invalid scheme.');\n    }\n\n    return [obj.scheme].concat(_toConsumableArray(typeof obj.token !== 'undefined' ? [obj.token] : []), _toConsumableArray(typeof obj.params !== 'undefined' ? challenge(obj.params) : [])).join(' ');\n  };\n\n  exports.default = _default;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.unquote = exports.quote = exports.isScheme = exports.isToken = void 0;\n  var token = /^[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+$/;\n\n  var isToken = function isToken(str) {\n    return typeof str === 'string' && token.test(str);\n  };\n\n  exports.isToken = isToken;\n  var isScheme = isToken;\n  exports.isScheme = isScheme;\n\n  var quote = function quote(str) {\n    return `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n  };\n\n  exports.quote = quote;\n\n  var unquote = function unquote(str) {\n    return str.substr(1, str.length - 2).replace(/\\\\\"/g, '\"');\n  };\n\n  exports.unquote = unquote;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _util = __webpack_require__(16); // lol dis\n\n\n  var body = /((?:[a-zA-Z0-9._~+\\/-]+=*(?:\\s+|$))|[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+)(?:=([^\\\\\"=\\s,]+|\"(?:[^\"\\\\]|\\\\.)*\"))?/g; // eslint-disable-line\n\n  var normalize = function normalize(prev, _cur) {\n    // Fixup quoted strings and tokens with spaces around them\n    var cur = _cur.charAt(0) === '\"' ? (0, _util.unquote)(_cur) : _cur.trim(); // Marshal\n\n    if (Array.isArray(prev)) {\n      return prev.concat(cur);\n    } else if (typeof prev === 'string') {\n      return [prev, cur];\n    }\n\n    return cur;\n  };\n\n  var parseProperties = function parseProperties(scheme, string) {\n    var token = null;\n    var params = {}; // eslint-disable-next-line no-constant-condition\n\n    while (true) {\n      var res = body.exec(string);\n\n      if (res === null) {\n        break;\n      }\n\n      if (res[2]) {\n        params[res[1]] = normalize(params[res[1]], res[2]);\n      } else {\n        token = normalize(token, res[1]);\n      }\n    }\n\n    return {\n      scheme,\n      params,\n      token\n    };\n  };\n\n  var _default = function _default(str) {\n    if (typeof str !== 'string') {\n      throw new TypeError('Header value must be a string.');\n    }\n\n    var start = str.indexOf(' ');\n    var scheme = str.substr(0, start);\n\n    if (!(0, _util.isScheme)(scheme)) {\n      throw new TypeError(`Invalid scheme ${scheme}`);\n    }\n\n    return parseProperties(scheme, str.substr(start));\n  };\n\n  exports.default = _default;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  module.exports = __webpack_require__(19);\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /* WEBPACK VAR INJECTION */\n  (function (global) {\n    /**\n    * Dependencies\n    */\n    const assert = __webpack_require__(21);\n\n    const fetch = __webpack_require__(5);\n\n    const {\n      URL\n    } = __webpack_require__(27);\n\n    const Headers = fetch.Headers ? fetch.Headers : global.Headers;\n\n    const {\n      JWKSet\n    } = __webpack_require__(28);\n\n    const AuthenticationRequest = __webpack_require__(55);\n\n    const AuthenticationResponse = __webpack_require__(57);\n\n    const onHttpError = __webpack_require__(60);\n\n    const FormUrlEncoded = __webpack_require__(56);\n    /**\n     * RelyingParty\n     *\n     * @class\n     * Client interface for OpenID Connect Relying Party.\n     *\n     * @example\n     *  let client = RelyingParty({\n     *    provider: {\n     *      name: 'Anvil Research, Inc.',\n     *      url: 'https://forge.anvil.io'\n     *      // configuration\n     *      // jwks\n     *    },\n     *    defaults: {\n     *      popToken: false,\n     *      authenticate: {\n     *        response_type: 'code',\n     *        display: 'popup',\n     *        scope: 'openid profile email'\n     *      },\n     *      register: {\n     *        client_name: 'Example',\n     *        client_uri: 'https://example.com',\n     *        logo_uri: 'https://example.com/assets/logo.png',\n     *        redirect_uris: ['https://app.example.com/callback'],\n     *        response_types: ['code', 'code id_token token'],\n     *        grant_types: ['authorization_code'],\n     *        default_max_age: 7200,\n     *        post_logout_redirect_uris: ['https://app.example.com']\n     *      },\n     *    },\n     *    registration: {\n     *      // if you have it saved somewhere\n     *    },\n     *    store: localStorage || req.session\n     *  })\n     *\n     *  client.discover() => Promise\n     *  client.jwks() => Promise\n     *  client.authenticate()\n     *  client.authenticateUri()\n     *  client.validateResponse(uri) => Promise\n     *  client.userinfo() => Promise\n     *  client.logout()\n     */\n\n\n    class RelyingParty {\n      constructor({\n        provider = {},\n        defaults,\n        registration = {},\n        store = {}\n      } = {}) {\n        this.provider = provider;\n        this.defaults = defaults || {\n          popToken: false,\n          authenticate: {\n            response_type: 'id_token token',\n            display: 'page',\n            scope: ['openid']\n          }\n        };\n        this.registration = registration;\n        this.store = store;\n      }\n      /**\n       * from\n       *\n       * @description\n       * Create a RelyingParty instance from a previously registered client.\n       *\n       * @param {Object} data\n       * @returns {Promise<RelyingParty>}\n       */\n\n\n      static async from(data) {\n        const rp = new RelyingParty(data);\n        const validation = rp.validate(); // schema validation\n\n        if (!validation.valid) {\n          throw validation.error;\n        }\n\n        const jwks = rp.provider.jwks; // request the JWK Set if missing\n\n        if (!jwks) {\n          return rp.jwks().then(() => rp);\n        } // otherwise import the JWK Set to webcrypto\n\n\n        return JWKSet.importKeys(jwks).then(jwks => {\n          rp.provider.jwks = jwks;\n          return rp;\n        });\n      }\n      /**\n       * register\n       *\n       * @param issuer {string} Provider URL\n       * @param registration {Object} Client dynamic registration options\n       * @param options {Object}\n       * @param options.defaults\n       * @param [options.store] {Session|Storage}\n       * @param [oobRegistration] {Object} Object providing getRegistration(key) function for out-of-band registrations\n       * @param [idpId] {string} A tag identifying the provider used for looking up out-of-band registration data.\n       * @returns {Promise<RelyingParty>} RelyingParty instance, registered.\n       */\n\n\n      static register(issuer, registration, options, idpId, oobRegistration) {\n        const rp = new RelyingParty({\n          provider: {\n            url: issuer\n          },\n          defaults: Object.assign({}, options.defaults),\n          store: options.store\n        });\n        return Promise.resolve().then(() => rp.discover()).then(() => rp.jwks()).then(() => {\n          assert(rp.provider.configuration, 'OpenID Configuration is not initialized.');\n          return rp.provider.configuration.registration_endpoint ? rp.register(registration) : rp.getRegistration(registration, idpId, oobRegistration);\n        }).then(() => rp);\n      }\n\n      validate() {\n        if (!this.provider || !this.provider.url) {\n          return {\n            valid: false,\n            error: new Error('Provider url is required.')\n          };\n        }\n\n        return {\n          valid: true\n        };\n      }\n      /**\n       * Discover\n       *\n       * @description Fetches the issuer's OpenID Configuration.\n       * @returns {Promise<Object>} Resolves with the provider configuration response\n       */\n\n\n      discover() {\n        try {\n          let issuer = this.provider.url;\n          assert(issuer, 'RelyingParty provider must define \"url\"');\n          let url = new URL(issuer);\n          url.pathname = '.well-known/openid-configuration';\n          return fetch(url.toString()).then(onHttpError('Error fetching openid configuration')).then(response => {\n            return response.json().then(json => this.provider.configuration = json);\n          });\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }\n      /**\n       * Register\n       *\n       * @description Register's a client with provider as a Relying Party\n       *\n       * @param options {Object}\n       * @returns {Promise<Object>} Resolves with the registration response object\n       */\n\n\n      register(options) {\n        try {\n          let configuration = this.provider.configuration;\n          assert(configuration, 'OpenID Configuration is not initialized.');\n          assert(configuration.registration_endpoint, 'OpenID Configuration is missing registration_endpoint.');\n          let uri = configuration.registration_endpoint;\n          let method = 'post';\n          let headers = new Headers({\n            'Content-Type': 'application/json'\n          });\n          let params = this.defaults.register;\n          let body = JSON.stringify(Object.assign({}, params, options));\n          return fetch(uri, {\n            method,\n            headers,\n            body\n          }).then(onHttpError('Error registering client')).then(response => {\n            return response.json().then(json => this.registration = json);\n          });\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }\n\n      serialize() {\n        return JSON.stringify(this);\n      }\n      /**\n       * @description\n       * Retrieves an existing Relying Party registration for a provider which does\n       * not support dynamic registration and which requires pre-registration by\n       * some 'out of band' method.\n       *\n       * @param options {Object}\n       * @param idp {string} Key identifying which registration data should be retrieved.\n       * @returns {Promise<Object>} Resolves with the registration response object.\n       */\n\n\n      getRegistration(options, idp, oobRegistration) {\n        return Promise.resolve().then(() => {\n          return this.registration = oobRegistration.getRegistration(idp);\n        }).catch(error => {\n          throw error;\n        });\n      }\n      /**\n       * jwks\n       *\n       * @description Promises the issuer's JWK Set.\n       * @returns {Promise}\n       */\n\n\n      jwks() {\n        try {\n          let configuration = this.provider.configuration;\n          assert(configuration, 'OpenID Configuration is not initialized.');\n          assert(configuration.jwks_uri, 'OpenID Configuration is missing jwks_uri.');\n          let uri = configuration.jwks_uri;\n          return fetch(uri).then(onHttpError('Error resolving provider keys')).then(response => {\n            return response.json().then(json => JWKSet.importKeys(json)).then(jwks => this.provider.jwks = jwks);\n          });\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }\n      /**\n       * createRequest\n       *\n       * @param options {Object} Authn request options hashmap\n       * @param options.redirect_uri {string}\n       * @param options.response_type {string} e.g. 'code' or 'id_token token'\n       * @param session {Session|Storage} req.session or localStorage\n       * @returns {Promise<string>} Authn request URL\n       */\n\n\n      createRequest(options, session) {\n        return AuthenticationRequest.create(this, options, session || this.store);\n      }\n      /**\n       * Validate Response\n       *\n       * @param response {string} req.query or req.body.text\n       * @param session {Session|Storage} req.session or localStorage or similar\n       *\n       * @returns {Promise<Session>}\n       */\n\n\n      validateResponse(response, session = this.store) {\n        let options;\n\n        if (response.match(/^http(s?):\\/\\//)) {\n          options = {\n            rp: this,\n            redirect: response,\n            session\n          };\n        } else {\n          options = {\n            rp: this,\n            body: response,\n            session\n          };\n        }\n\n        const authResponse = new AuthenticationResponse(options);\n        return AuthenticationResponse.validateResponse(authResponse);\n      }\n      /**\n       * userinfo\n       *\n       * @description\n       * Promises the authenticated user's claims.\n       * access_token can be supplied directly. If not, it is retrieved from storage, if available.\n       * Depending on when userinfo is called, access_token may not yet have been saved to storage.\n       *\n       * @param accessToken {string=} Optional access token from current user session for use against the User Info endpoint\n       * @returns {Promise}\n       */\n\n\n      userinfo(accessToken) {\n        try {\n          let configuration = this.provider.configuration;\n          assert(configuration, 'OpenID Configuration is not initialized.');\n          assert(configuration.userinfo_endpoint, 'OpenID Configuration is missing userinfo_endpoint.');\n          accessToken = accessToken || this.store.access_token;\n          assert(accessToken, 'Missing access token.');\n          let uri = configuration.userinfo_endpoint;\n          let headers = new Headers({\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${accessToken}`\n          });\n          return fetch(uri, {\n            headers\n          }).then(onHttpError('Error fetching userinfo')).then(response => response.json());\n        } catch (error) {\n          return Promise.reject(error);\n        }\n      }\n      /**\n       * logoutRequest\n       *\n       * Composes and returns the logout request URI, based on the OP's\n       * `end_session_endpoint`, with appropriate parameters.\n       *\n       * Note: Calling client code has the responsibility to clear the local\n       * session state (for example, by calling `rp.clearSession()`). In addition,\n       * some IdPs (such as Google) may not provide an `end_session_endpoint`,\n       * in which case, this method will return null.\n       *\n       * @see https://openid.net/specs/openid-connect-session-1_0.html#RPLogout\n       *\n       * @throws {Error} If provider config is not initialized\n       *\n       * @throws {Error} If `post_logout_redirect_uri` was provided without a\n       *   corresponding `id_token_hint`\n       *\n       * @param [options={}] {object}\n       *\n       * @param [options.id_token_hint] {string} RECOMMENDED.\n       *   Previously issued ID Token passed to the logout endpoint as\n       *   a hint about the End-User's current authenticated session with the\n       *   Client. This is used as an indication of the identity of the End-User\n       *   that the RP is requesting be logged out by the OP. The OP *need not* be\n       *   listed as an audience of the ID Token when it is used as an\n       *   `id_token_hint` value.\n       *\n       * @param [options.post_logout_redirect_uri] {string} OPTIONAL. URL to which\n       *   the RP is requesting that the End-User's User Agent be redirected after\n       *   a logout has been performed. The value MUST have been previously\n       *   registered with the OP, either using the `post_logout_redirect_uris`\n       *   Registration parameter or via another mechanism. If supplied, the OP\n       *   SHOULD honor this request following the logout.\n       *\n       *   Note: The requirement to validate the uri for previous registration means\n       *   that, in practice, the `id_token_hint` is REQUIRED if\n       *   `post_logout_redirect_uri` is used. Otherwise, the OP has no way to get\n       *   the `client_id` to load the saved client registration, to validate the\n       *   uri. The only way it can get it is by decoding the `id_token_hint`.\n       *\n       * @param [options.state] {string} OPTIONAL. Opaque value used by the RP to\n       *   maintain state between the logout request and the callback to the\n       *   endpoint specified by the `post_logout_redirect_uri` query parameter. If\n       *   included in the logout request, the OP passes this value back to the RP\n       *   using the `state` query parameter when redirecting the User Agent back to\n       *   the RP.\n       *\n       * TODO: In the future, consider adding `response_mode` param, for the OP to\n       *   determine how to return the `state` back the RP.\n       *   @see http://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#ResponseModes\n       *\n       * TODO: Handle special cases for popular providers (Google, MSFT)\n       *\n       * @returns {string|null} Logout uri (or null if no end_session_endpoint was\n       *   provided in the IdP config)\n       */\n\n\n      logoutRequest(options = {}) {\n        const {\n          id_token_hint,\n          post_logout_redirect_uri,\n          state\n        } = options;\n        let configuration;\n        assert(this.provider, 'OpenID Configuration is not initialized');\n        configuration = this.provider.configuration;\n        assert(configuration, 'OpenID Configuration is not initialized');\n\n        if (!configuration.end_session_endpoint) {\n          console.log(`OpenId Configuration for ` + `${configuration.issuer} is missing end_session_endpoint`);\n          return null;\n        }\n\n        if (post_logout_redirect_uri && !id_token_hint) {\n          throw new Error('id_token_hint is required when using post_logout_redirect_uri');\n        }\n\n        const params = {};\n\n        if (id_token_hint) {\n          params.id_token_hint = id_token_hint;\n        }\n\n        if (post_logout_redirect_uri) {\n          params.post_logout_redirect_uri = post_logout_redirect_uri;\n        }\n\n        if (state) {\n          params.state = state;\n        }\n\n        const url = new URL(configuration.end_session_endpoint);\n        url.search = FormUrlEncoded.encode(params);\n        return url.href;\n      }\n      /**\n       * Logout\n       *\n       * @deprecated\n       *\n       * TODO: Add deprecation warnings, then remove. Client code should\n       *   use `logoutRequest()` instead\n       *\n       * @returns {Promise}\n       */\n\n\n      logout() {\n        let configuration;\n\n        try {\n          assert(this.provider, 'OpenID Configuration is not initialized.');\n          configuration = this.provider.configuration;\n          assert(configuration, 'OpenID Configuration is not initialized.');\n        } catch (error) {\n          return Promise.reject(error);\n        }\n\n        if (!configuration.end_session_endpoint) {\n          this.clearSession();\n          return Promise.resolve(undefined);\n        }\n\n        let uri = configuration.end_session_endpoint;\n        let method = 'get';\n        return fetch(uri, {\n          method,\n          credentials: 'include'\n        }).then(onHttpError('Error logging out')).then(() => this.clearSession()); // TODO: Validate `frontchannel_logout_uri` if necessary\n\n        /**\n         * frontchannel_logout_uri - OPTIONAL. RP URL that will cause the RP to log\n         * itself out when rendered in an iframe by the OP.\n         *\n         * An `iss` (issuer) query parameter and a `sid`\n         * (session ID) query parameter MAY be included by the OP to enable the RP\n         * to validate the request and to determine which of the potentially\n         * multiple sessions is to be logged out. If a sid (session ID) query\n         * parameter is included, an iss (issuer) query parameter MUST also be\n         * included.\n         * @see https://openid.net/specs/openid-connect-frontchannel-1_0.html#RPLogout\n         */\n      }\n\n      clearSession() {\n        let session = this.store;\n\n        if (!session) {\n          return;\n        }\n\n        delete session[SESSION_PRIVATE_KEY];\n      }\n      /**\n       * @param uri {string} Target Resource Server URI\n       * @param idToken {IDToken} ID Token to be embedded in the PoP token\n       *\n       * @returns {Promise<PoPToken>}\n       */\n\n\n      popTokenFor(uri, idToken) {\n        return PoPToken.issueFor(uri, idToken);\n      }\n\n    }\n\n    const SESSION_PRIVATE_KEY = 'oidc.session.privateKey';\n    RelyingParty.SESSION_PRIVATE_KEY = SESSION_PRIVATE_KEY;\n    module.exports = RelyingParty;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(20));\n  /***/\n}, function (module, exports) {\n  var g; // This works in non-strict mode\n\n  g = function () {\n    return this;\n  }();\n\n  try {\n    // This works if eval is allowed (see CSP)\n    g = g || new Function(\"return this\")();\n  } catch (e) {\n    // This works if the window reference is available\n    if (typeof window === \"object\") g = window;\n  } // g can still be undefined, but nothing to do about it...\n  // We return undefined, instead of nothing here, so it's\n  // easier to handle this case. if(!global) { ...}\n\n\n  module.exports = g;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /* WEBPACK VAR INJECTION */\n\n  (function (global) {\n    var objectAssign = __webpack_require__(22); // compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n    // original notice:\n\n    /*!\n     * The buffer module from node.js, for the browser.\n     *\n     * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n     * @license  MIT\n     */\n\n\n    function compare(a, b) {\n      if (a === b) {\n        return 0;\n      }\n\n      var x = a.length;\n      var y = b.length;\n\n      for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n        if (a[i] !== b[i]) {\n          x = a[i];\n          y = b[i];\n          break;\n        }\n      }\n\n      if (x < y) {\n        return -1;\n      }\n\n      if (y < x) {\n        return 1;\n      }\n\n      return 0;\n    }\n\n    function isBuffer(b) {\n      if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n        return global.Buffer.isBuffer(b);\n      }\n\n      return !!(b != null && b._isBuffer);\n    } // based on node assert, original notice:\n    // NB: The URL to the CommonJS spec is kept just for tradition.\n    //     node-assert has evolved a lot since then, both in API and behavior.\n    // http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n    //\n    // THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n    //\n    // Originally from narwhal.js (http://narwhaljs.org)\n    // Copyright (c) 2009 Thomas Robinson <280north.com>\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a copy\n    // of this software and associated documentation files (the 'Software'), to\n    // deal in the Software without restriction, including without limitation the\n    // rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n    // sell copies of the Software, and to permit persons to whom the Software is\n    // furnished to do so, subject to the following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included in\n    // all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n    // IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n    // FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n    // AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n    // ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n    // WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n    var util = __webpack_require__(23);\n\n    var hasOwn = Object.prototype.hasOwnProperty;\n    var pSlice = Array.prototype.slice;\n\n    var functionsHaveNames = function () {\n      return function foo() {}.name === 'foo';\n    }();\n\n    function pToString(obj) {\n      return Object.prototype.toString.call(obj);\n    }\n\n    function isView(arrbuf) {\n      if (isBuffer(arrbuf)) {\n        return false;\n      }\n\n      if (typeof global.ArrayBuffer !== 'function') {\n        return false;\n      }\n\n      if (typeof ArrayBuffer.isView === 'function') {\n        return ArrayBuffer.isView(arrbuf);\n      }\n\n      if (!arrbuf) {\n        return false;\n      }\n\n      if (arrbuf instanceof DataView) {\n        return true;\n      }\n\n      if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n        return true;\n      }\n\n      return false;\n    } // 1. The assert module provides functions that throw\n    // AssertionError's when particular conditions are not met. The\n    // assert module must conform to the following interface.\n\n\n    var assert = module.exports = ok; // 2. The AssertionError is defined in assert.\n    // new assert.AssertionError({ message: message,\n    //                             actual: actual,\n    //                             expected: expected })\n\n    var regex = /\\s*function\\s+([^\\(\\s]*)\\s*/; // based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\n\n    function getName(func) {\n      if (!util.isFunction(func)) {\n        return;\n      }\n\n      if (functionsHaveNames) {\n        return func.name;\n      }\n\n      var str = func.toString();\n      var match = str.match(regex);\n      return match && match[1];\n    }\n\n    assert.AssertionError = function AssertionError(options) {\n      this.name = 'AssertionError';\n      this.actual = options.actual;\n      this.expected = options.expected;\n      this.operator = options.operator;\n\n      if (options.message) {\n        this.message = options.message;\n        this.generatedMessage = false;\n      } else {\n        this.message = getMessage(this);\n        this.generatedMessage = true;\n      }\n\n      var stackStartFunction = options.stackStartFunction || fail;\n\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, stackStartFunction);\n      } else {\n        // non v8 browsers so we can have a stacktrace\n        var err = new Error();\n\n        if (err.stack) {\n          var out = err.stack; // try to strip useless frames\n\n          var fn_name = getName(stackStartFunction);\n          var idx = out.indexOf('\\n' + fn_name);\n\n          if (idx >= 0) {\n            // once we have located the function frame\n            // we need to strip out everything before it (and its line)\n            var next_line = out.indexOf('\\n', idx + 1);\n            out = out.substring(next_line + 1);\n          }\n\n          this.stack = out;\n        }\n      }\n    }; // assert.AssertionError instanceof Error\n\n\n    util.inherits(assert.AssertionError, Error);\n\n    function truncate(s, n) {\n      if (typeof s === 'string') {\n        return s.length < n ? s : s.slice(0, n);\n      } else {\n        return s;\n      }\n    }\n\n    function inspect(something) {\n      if (functionsHaveNames || !util.isFunction(something)) {\n        return util.inspect(something);\n      }\n\n      var rawname = getName(something);\n      var name = rawname ? ': ' + rawname : '';\n      return '[Function' + name + ']';\n    }\n\n    function getMessage(self) {\n      return truncate(inspect(self.actual), 128) + ' ' + self.operator + ' ' + truncate(inspect(self.expected), 128);\n    } // At present only the three keys mentioned above are used and\n    // understood by the spec. Implementations or sub modules can pass\n    // other keys to the AssertionError's constructor - they will be\n    // ignored.\n    // 3. All of the following functions must throw an AssertionError\n    // when a corresponding condition is not met, with a message that\n    // may be undefined if not provided.  All assertion methods provide\n    // both the actual and expected values to the assertion error for\n    // display purposes.\n\n\n    function fail(actual, expected, message, operator, stackStartFunction) {\n      throw new assert.AssertionError({\n        message: message,\n        actual: actual,\n        expected: expected,\n        operator: operator,\n        stackStartFunction: stackStartFunction\n      });\n    } // EXTENSION! allows for well behaved errors defined elsewhere.\n\n\n    assert.fail = fail; // 4. Pure assertion tests whether a value is truthy, as determined\n    // by !!guard.\n    // assert.ok(guard, message_opt);\n    // This statement is equivalent to assert.equal(true, !!guard,\n    // message_opt);. To test strictly for the value true, use\n    // assert.strictEqual(true, guard, message_opt);.\n\n    function ok(value, message) {\n      if (!value) fail(value, true, message, '==', assert.ok);\n    }\n\n    assert.ok = ok; // 5. The equality assertion tests shallow, coercive equality with\n    // ==.\n    // assert.equal(actual, expected, message_opt);\n\n    assert.equal = function equal(actual, expected, message) {\n      if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n    }; // 6. The non-equality assertion tests for whether two objects are not equal\n    // with != assert.notEqual(actual, expected, message_opt);\n\n\n    assert.notEqual = function notEqual(actual, expected, message) {\n      if (actual == expected) {\n        fail(actual, expected, message, '!=', assert.notEqual);\n      }\n    }; // 7. The equivalence assertion tests a deep equality relation.\n    // assert.deepEqual(actual, expected, message_opt);\n\n\n    assert.deepEqual = function deepEqual(actual, expected, message) {\n      if (!_deepEqual(actual, expected, false)) {\n        fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n      }\n    };\n\n    assert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n      if (!_deepEqual(actual, expected, true)) {\n        fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n      }\n    };\n\n    function _deepEqual(actual, expected, strict, memos) {\n      // 7.1. All identical values are equivalent, as determined by ===.\n      if (actual === expected) {\n        return true;\n      } else if (isBuffer(actual) && isBuffer(expected)) {\n        return compare(actual, expected) === 0; // 7.2. If the expected value is a Date object, the actual value is\n        // equivalent if it is also a Date object that refers to the same time.\n      } else if (util.isDate(actual) && util.isDate(expected)) {\n        return actual.getTime() === expected.getTime(); // 7.3 If the expected value is a RegExp object, the actual value is\n        // equivalent if it is also a RegExp object with the same source and\n        // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n      } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n        return actual.source === expected.source && actual.global === expected.global && actual.multiline === expected.multiline && actual.lastIndex === expected.lastIndex && actual.ignoreCase === expected.ignoreCase; // 7.4. Other pairs that do not both pass typeof value == 'object',\n        // equivalence is determined by ==.\n      } else if ((actual === null || typeof actual !== 'object') && (expected === null || typeof expected !== 'object')) {\n        return strict ? actual === expected : actual == expected; // If both values are instances of typed arrays, wrap their underlying\n        // ArrayBuffers in a Buffer each to increase performance\n        // This optimization requires the arrays to have the same type as checked by\n        // Object.prototype.toString (aka pToString). Never perform binary\n        // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n        // bit patterns are not identical.\n      } else if (isView(actual) && isView(expected) && pToString(actual) === pToString(expected) && !(actual instanceof Float32Array || actual instanceof Float64Array)) {\n        return compare(new Uint8Array(actual.buffer), new Uint8Array(expected.buffer)) === 0; // 7.5 For all other Object pairs, including Array objects, equivalence is\n        // determined by having the same number of owned properties (as verified\n        // with Object.prototype.hasOwnProperty.call), the same set of keys\n        // (although not necessarily the same order), equivalent values for every\n        // corresponding key, and an identical 'prototype' property. Note: this\n        // accounts for both named and indexed properties on Arrays.\n      } else if (isBuffer(actual) !== isBuffer(expected)) {\n        return false;\n      } else {\n        memos = memos || {\n          actual: [],\n          expected: []\n        };\n        var actualIndex = memos.actual.indexOf(actual);\n\n        if (actualIndex !== -1) {\n          if (actualIndex === memos.expected.indexOf(expected)) {\n            return true;\n          }\n        }\n\n        memos.actual.push(actual);\n        memos.expected.push(expected);\n        return objEquiv(actual, expected, strict, memos);\n      }\n    }\n\n    function isArguments(object) {\n      return Object.prototype.toString.call(object) == '[object Arguments]';\n    }\n\n    function objEquiv(a, b, strict, actualVisitedObjects) {\n      if (a === null || a === undefined || b === null || b === undefined) return false; // if one is a primitive, the other must be same\n\n      if (util.isPrimitive(a) || util.isPrimitive(b)) return a === b;\n      if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b)) return false;\n      var aIsArgs = isArguments(a);\n      var bIsArgs = isArguments(b);\n      if (aIsArgs && !bIsArgs || !aIsArgs && bIsArgs) return false;\n\n      if (aIsArgs) {\n        a = pSlice.call(a);\n        b = pSlice.call(b);\n        return _deepEqual(a, b, strict);\n      }\n\n      var ka = objectKeys(a);\n      var kb = objectKeys(b);\n      var key, i; // having the same number of owned properties (keys incorporates\n      // hasOwnProperty)\n\n      if (ka.length !== kb.length) return false; //the same set of keys (although not necessarily the same order),\n\n      ka.sort();\n      kb.sort(); //~~~cheap key test\n\n      for (i = ka.length - 1; i >= 0; i--) {\n        if (ka[i] !== kb[i]) return false;\n      } //equivalent values for every corresponding key, and\n      //~~~possibly expensive deep test\n\n\n      for (i = ka.length - 1; i >= 0; i--) {\n        key = ka[i];\n        if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects)) return false;\n      }\n\n      return true;\n    } // 8. The non-equivalence assertion tests for any deep inequality.\n    // assert.notDeepEqual(actual, expected, message_opt);\n\n\n    assert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n      if (_deepEqual(actual, expected, false)) {\n        fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n      }\n    };\n\n    assert.notDeepStrictEqual = notDeepStrictEqual;\n\n    function notDeepStrictEqual(actual, expected, message) {\n      if (_deepEqual(actual, expected, true)) {\n        fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n      }\n    } // 9. The strict equality assertion tests strict equality, as determined by ===.\n    // assert.strictEqual(actual, expected, message_opt);\n\n\n    assert.strictEqual = function strictEqual(actual, expected, message) {\n      if (actual !== expected) {\n        fail(actual, expected, message, '===', assert.strictEqual);\n      }\n    }; // 10. The strict non-equality assertion tests for strict inequality, as\n    // determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\n\n    assert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n      if (actual === expected) {\n        fail(actual, expected, message, '!==', assert.notStrictEqual);\n      }\n    };\n\n    function expectedException(actual, expected) {\n      if (!actual || !expected) {\n        return false;\n      }\n\n      if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n        return expected.test(actual);\n      }\n\n      try {\n        if (actual instanceof expected) {\n          return true;\n        }\n      } catch (e) {// Ignore.  The instanceof check doesn't work for arrow functions.\n      }\n\n      if (Error.isPrototypeOf(expected)) {\n        return false;\n      }\n\n      return expected.call({}, actual) === true;\n    }\n\n    function _tryBlock(block) {\n      var error;\n\n      try {\n        block();\n      } catch (e) {\n        error = e;\n      }\n\n      return error;\n    }\n\n    function _throws(shouldThrow, block, expected, message) {\n      var actual;\n\n      if (typeof block !== 'function') {\n        throw new TypeError('\"block\" argument must be a function');\n      }\n\n      if (typeof expected === 'string') {\n        message = expected;\n        expected = null;\n      }\n\n      actual = _tryBlock(block);\n      message = (expected && expected.name ? ' (' + expected.name + ').' : '.') + (message ? ' ' + message : '.');\n\n      if (shouldThrow && !actual) {\n        fail(actual, expected, 'Missing expected exception' + message);\n      }\n\n      var userProvidedMessage = typeof message === 'string';\n      var isUnwantedException = !shouldThrow && util.isError(actual);\n      var isUnexpectedException = !shouldThrow && actual && !expected;\n\n      if (isUnwantedException && userProvidedMessage && expectedException(actual, expected) || isUnexpectedException) {\n        fail(actual, expected, 'Got unwanted exception' + message);\n      }\n\n      if (shouldThrow && actual && expected && !expectedException(actual, expected) || !shouldThrow && actual) {\n        throw actual;\n      }\n    } // 11. Expected to throw an error:\n    // assert.throws(block, Error_opt, message_opt);\n\n\n    assert.throws = function (block,\n    /*optional*/\n    error,\n    /*optional*/\n    message) {\n      _throws(true, block, error, message);\n    }; // EXTENSION! This is annoying to write outside this module.\n\n\n    assert.doesNotThrow = function (block,\n    /*optional*/\n    error,\n    /*optional*/\n    message) {\n      _throws(false, block, error, message);\n    };\n\n    assert.ifError = function (err) {\n      if (err) throw err;\n    }; // Expose a strict only variant of assert\n\n\n    function strict(value, message) {\n      if (!value) fail(value, true, message, '==', strict);\n    }\n\n    assert.strict = objectAssign(strict, assert, {\n      equal: assert.strictEqual,\n      deepEqual: assert.deepStrictEqual,\n      notEqual: assert.notStrictEqual,\n      notDeepEqual: assert.notDeepStrictEqual\n    });\n    assert.strict.strict = assert.strict;\n\n    var objectKeys = Object.keys || function (obj) {\n      var keys = [];\n\n      for (var key in obj) {\n        if (hasOwn.call(obj, key)) keys.push(key);\n      }\n\n      return keys;\n    };\n    /* WEBPACK VAR INJECTION */\n\n  }).call(this, __webpack_require__(20));\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /*\n  object-assign\n  (c) Sindre Sorhus\n  @license MIT\n  */\n\n  /* eslint-disable no-unused-vars */\n\n  var getOwnPropertySymbols = Object.getOwnPropertySymbols;\n  var hasOwnProperty = Object.prototype.hasOwnProperty;\n  var propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\n  function toObject(val) {\n    if (val === null || val === undefined) {\n      throw new TypeError('Object.assign cannot be called with null or undefined');\n    }\n\n    return Object(val);\n  }\n\n  function shouldUseNative() {\n    try {\n      if (!Object.assign) {\n        return false;\n      } // Detect buggy property enumeration order in older V8 versions.\n      // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n      var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n      test1[5] = 'de';\n\n      if (Object.getOwnPropertyNames(test1)[0] === '5') {\n        return false;\n      } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n      var test2 = {};\n\n      for (var i = 0; i < 10; i++) {\n        test2['_' + String.fromCharCode(i)] = i;\n      }\n\n      var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n        return test2[n];\n      });\n\n      if (order2.join('') !== '0123456789') {\n        return false;\n      } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n      var test3 = {};\n      'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n        test3[letter] = letter;\n      });\n\n      if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n        return false;\n      }\n\n      return true;\n    } catch (err) {\n      // We don't expect any of the above to throw, but better to be safe.\n      return false;\n    }\n  }\n\n  module.exports = shouldUseNative() ? Object.assign : function (target, source) {\n    var from;\n    var to = toObject(target);\n    var symbols;\n\n    for (var s = 1; s < arguments.length; s++) {\n      from = Object(arguments[s]);\n\n      for (var key in from) {\n        if (hasOwnProperty.call(from, key)) {\n          to[key] = from[key];\n        }\n      }\n\n      if (getOwnPropertySymbols) {\n        symbols = getOwnPropertySymbols(from);\n\n        for (var i = 0; i < symbols.length; i++) {\n          if (propIsEnumerable.call(from, symbols[i])) {\n            to[symbols[i]] = from[symbols[i]];\n          }\n        }\n      }\n    }\n\n    return to;\n  };\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /* WEBPACK VAR INJECTION */\n  (function (process) {\n    // Copyright Joyent, Inc. and other Node contributors.\n    //\n    // Permission is hereby granted, free of charge, to any person obtaining a\n    // copy of this software and associated documentation files (the\n    // \"Software\"), to deal in the Software without restriction, including\n    // without limitation the rights to use, copy, modify, merge, publish,\n    // distribute, sublicense, and/or sell copies of the Software, and to permit\n    // persons to whom the Software is furnished to do so, subject to the\n    // following conditions:\n    //\n    // The above copyright notice and this permission notice shall be included\n    // in all copies or substantial portions of the Software.\n    //\n    // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n    // OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n    // MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n    // NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n    // DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n    // OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n    // USE OR OTHER DEALINGS IN THE SOFTWARE.\n    var getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors || function getOwnPropertyDescriptors(obj) {\n      var keys = Object.keys(obj);\n      var descriptors = {};\n\n      for (var i = 0; i < keys.length; i++) {\n        descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n      }\n\n      return descriptors;\n    };\n\n    var formatRegExp = /%[sdj%]/g;\n\n    exports.format = function (f) {\n      if (!isString(f)) {\n        var objects = [];\n\n        for (var i = 0; i < arguments.length; i++) {\n          objects.push(inspect(arguments[i]));\n        }\n\n        return objects.join(' ');\n      }\n\n      var i = 1;\n      var args = arguments;\n      var len = args.length;\n      var str = String(f).replace(formatRegExp, function (x) {\n        if (x === '%%') return '%';\n        if (i >= len) return x;\n\n        switch (x) {\n          case '%s':\n            return String(args[i++]);\n\n          case '%d':\n            return Number(args[i++]);\n\n          case '%j':\n            try {\n              return JSON.stringify(args[i++]);\n            } catch (_) {\n              return '[Circular]';\n            }\n\n          default:\n            return x;\n        }\n      });\n\n      for (var x = args[i]; i < len; x = args[++i]) {\n        if (isNull(x) || !isObject(x)) {\n          str += ' ' + x;\n        } else {\n          str += ' ' + inspect(x);\n        }\n      }\n\n      return str;\n    }; // Mark that a method should not be used.\n    // Returns a modified function which warns once by default.\n    // If --no-deprecation is set, then it is a no-op.\n\n\n    exports.deprecate = function (fn, msg) {\n      if (typeof process !== 'undefined' && process.noDeprecation === true) {\n        return fn;\n      } // Allow for deprecating things in the process of starting up.\n\n\n      if (typeof process === 'undefined') {\n        return function () {\n          return exports.deprecate(fn, msg).apply(this, arguments);\n        };\n      }\n\n      var warned = false;\n\n      function deprecated() {\n        if (!warned) {\n          if (process.throwDeprecation) {\n            throw new Error(msg);\n          } else if (process.traceDeprecation) {\n            console.trace(msg);\n          } else {\n            console.error(msg);\n          }\n\n          warned = true;\n        }\n\n        return fn.apply(this, arguments);\n      }\n\n      return deprecated;\n    };\n\n    var debugs = {};\n    var debugEnviron;\n\n    exports.debuglog = function (set) {\n      if (isUndefined(debugEnviron)) debugEnviron = process.env.NODE_DEBUG || '';\n      set = set.toUpperCase();\n\n      if (!debugs[set]) {\n        if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n          var pid = process.pid;\n\n          debugs[set] = function () {\n            var msg = exports.format.apply(exports, arguments);\n            console.error('%s %d: %s', set, pid, msg);\n          };\n        } else {\n          debugs[set] = function () {};\n        }\n      }\n\n      return debugs[set];\n    };\n    /**\n     * Echos the value of a value. Trys to print the value out\n     * in the best way possible given the different types.\n     *\n     * @param {Object} obj The object to print out.\n     * @param {Object} opts Optional options object that alters the output.\n     */\n\n    /* legacy: obj, showHidden, depth, colors*/\n\n\n    function inspect(obj, opts) {\n      // default options\n      var ctx = {\n        seen: [],\n        stylize: stylizeNoColor\n      }; // legacy...\n\n      if (arguments.length >= 3) ctx.depth = arguments[2];\n      if (arguments.length >= 4) ctx.colors = arguments[3];\n\n      if (isBoolean(opts)) {\n        // legacy...\n        ctx.showHidden = opts;\n      } else if (opts) {\n        // got an \"options\" object\n        exports._extend(ctx, opts);\n      } // set default options\n\n\n      if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n      if (isUndefined(ctx.depth)) ctx.depth = 2;\n      if (isUndefined(ctx.colors)) ctx.colors = false;\n      if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n      if (ctx.colors) ctx.stylize = stylizeWithColor;\n      return formatValue(ctx, obj, ctx.depth);\n    }\n\n    exports.inspect = inspect; // http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\n\n    inspect.colors = {\n      'bold': [1, 22],\n      'italic': [3, 23],\n      'underline': [4, 24],\n      'inverse': [7, 27],\n      'white': [37, 39],\n      'grey': [90, 39],\n      'black': [30, 39],\n      'blue': [34, 39],\n      'cyan': [36, 39],\n      'green': [32, 39],\n      'magenta': [35, 39],\n      'red': [31, 39],\n      'yellow': [33, 39]\n    }; // Don't use 'blue' not visible on cmd.exe\n\n    inspect.styles = {\n      'special': 'cyan',\n      'number': 'yellow',\n      'boolean': 'yellow',\n      'undefined': 'grey',\n      'null': 'bold',\n      'string': 'green',\n      'date': 'magenta',\n      // \"name\": intentionally not styling\n      'regexp': 'red'\n    };\n\n    function stylizeWithColor(str, styleType) {\n      var style = inspect.styles[styleType];\n\n      if (style) {\n        return '\\u001b[' + inspect.colors[style][0] + 'm' + str + '\\u001b[' + inspect.colors[style][1] + 'm';\n      } else {\n        return str;\n      }\n    }\n\n    function stylizeNoColor(str, styleType) {\n      return str;\n    }\n\n    function arrayToHash(array) {\n      var hash = {};\n      array.forEach(function (val, idx) {\n        hash[val] = true;\n      });\n      return hash;\n    }\n\n    function formatValue(ctx, value, recurseTimes) {\n      // Provide a hook for user-specified inspect functions.\n      // Check that value is an object with an inspect function on it\n      if (ctx.customInspect && value && isFunction(value.inspect) && // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect && // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n        var ret = value.inspect(recurseTimes, ctx);\n\n        if (!isString(ret)) {\n          ret = formatValue(ctx, ret, recurseTimes);\n        }\n\n        return ret;\n      } // Primitive types cannot have properties\n\n\n      var primitive = formatPrimitive(ctx, value);\n\n      if (primitive) {\n        return primitive;\n      } // Look up the keys of the object.\n\n\n      var keys = Object.keys(value);\n      var visibleKeys = arrayToHash(keys);\n\n      if (ctx.showHidden) {\n        keys = Object.getOwnPropertyNames(value);\n      } // IE doesn't make error fields non-enumerable\n      // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n\n\n      if (isError(value) && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n        return formatError(value);\n      } // Some type of object without properties can be shortcutted.\n\n\n      if (keys.length === 0) {\n        if (isFunction(value)) {\n          var name = value.name ? ': ' + value.name : '';\n          return ctx.stylize('[Function' + name + ']', 'special');\n        }\n\n        if (isRegExp(value)) {\n          return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n        }\n\n        if (isDate(value)) {\n          return ctx.stylize(Date.prototype.toString.call(value), 'date');\n        }\n\n        if (isError(value)) {\n          return formatError(value);\n        }\n      }\n\n      var base = '',\n          array = false,\n          braces = ['{', '}']; // Make Array say that they are Array\n\n      if (isArray(value)) {\n        array = true;\n        braces = ['[', ']'];\n      } // Make functions say that they are functions\n\n\n      if (isFunction(value)) {\n        var n = value.name ? ': ' + value.name : '';\n        base = ' [Function' + n + ']';\n      } // Make RegExps say that they are RegExps\n\n\n      if (isRegExp(value)) {\n        base = ' ' + RegExp.prototype.toString.call(value);\n      } // Make dates with properties first say the date\n\n\n      if (isDate(value)) {\n        base = ' ' + Date.prototype.toUTCString.call(value);\n      } // Make error with message first say the error\n\n\n      if (isError(value)) {\n        base = ' ' + formatError(value);\n      }\n\n      if (keys.length === 0 && (!array || value.length == 0)) {\n        return braces[0] + base + braces[1];\n      }\n\n      if (recurseTimes < 0) {\n        if (isRegExp(value)) {\n          return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n        } else {\n          return ctx.stylize('[Object]', 'special');\n        }\n      }\n\n      ctx.seen.push(value);\n      var output;\n\n      if (array) {\n        output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n      } else {\n        output = keys.map(function (key) {\n          return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n        });\n      }\n\n      ctx.seen.pop();\n      return reduceToSingleString(output, base, braces);\n    }\n\n    function formatPrimitive(ctx, value) {\n      if (isUndefined(value)) return ctx.stylize('undefined', 'undefined');\n\n      if (isString(value)) {\n        var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '').replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"') + '\\'';\n        return ctx.stylize(simple, 'string');\n      }\n\n      if (isNumber(value)) return ctx.stylize('' + value, 'number');\n      if (isBoolean(value)) return ctx.stylize('' + value, 'boolean'); // For some reason typeof null is \"object\", so special case here.\n\n      if (isNull(value)) return ctx.stylize('null', 'null');\n    }\n\n    function formatError(value) {\n      return '[' + Error.prototype.toString.call(value) + ']';\n    }\n\n    function formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n      var output = [];\n\n      for (var i = 0, l = value.length; i < l; ++i) {\n        if (hasOwnProperty(value, String(i))) {\n          output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));\n        } else {\n          output.push('');\n        }\n      }\n\n      keys.forEach(function (key) {\n        if (!key.match(/^\\d+$/)) {\n          output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));\n        }\n      });\n      return output;\n    }\n\n    function formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n      var name, str, desc;\n      desc = Object.getOwnPropertyDescriptor(value, key) || {\n        value: value[key]\n      };\n\n      if (desc.get) {\n        if (desc.set) {\n          str = ctx.stylize('[Getter/Setter]', 'special');\n        } else {\n          str = ctx.stylize('[Getter]', 'special');\n        }\n      } else {\n        if (desc.set) {\n          str = ctx.stylize('[Setter]', 'special');\n        }\n      }\n\n      if (!hasOwnProperty(visibleKeys, key)) {\n        name = '[' + key + ']';\n      }\n\n      if (!str) {\n        if (ctx.seen.indexOf(desc.value) < 0) {\n          if (isNull(recurseTimes)) {\n            str = formatValue(ctx, desc.value, null);\n          } else {\n            str = formatValue(ctx, desc.value, recurseTimes - 1);\n          }\n\n          if (str.indexOf('\\n') > -1) {\n            if (array) {\n              str = str.split('\\n').map(function (line) {\n                return '  ' + line;\n              }).join('\\n').substr(2);\n            } else {\n              str = '\\n' + str.split('\\n').map(function (line) {\n                return '   ' + line;\n              }).join('\\n');\n            }\n          }\n        } else {\n          str = ctx.stylize('[Circular]', 'special');\n        }\n      }\n\n      if (isUndefined(name)) {\n        if (array && key.match(/^\\d+$/)) {\n          return str;\n        }\n\n        name = JSON.stringify('' + key);\n\n        if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n          name = name.substr(1, name.length - 2);\n          name = ctx.stylize(name, 'name');\n        } else {\n          name = name.replace(/'/g, \"\\\\'\").replace(/\\\\\"/g, '\"').replace(/(^\"|\"$)/g, \"'\");\n          name = ctx.stylize(name, 'string');\n        }\n      }\n\n      return name + ': ' + str;\n    }\n\n    function reduceToSingleString(output, base, braces) {\n      var numLinesEst = 0;\n      var length = output.reduce(function (prev, cur) {\n        numLinesEst++;\n        if (cur.indexOf('\\n') >= 0) numLinesEst++;\n        return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n      }, 0);\n\n      if (length > 60) {\n        return braces[0] + (base === '' ? '' : base + '\\n ') + ' ' + output.join(',\\n  ') + ' ' + braces[1];\n      }\n\n      return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n    } // NOTE: These type checking functions intentionally don't use `instanceof`\n    // because it is fragile and can be easily faked with `Object.create()`.\n\n\n    function isArray(ar) {\n      return Array.isArray(ar);\n    }\n\n    exports.isArray = isArray;\n\n    function isBoolean(arg) {\n      return typeof arg === 'boolean';\n    }\n\n    exports.isBoolean = isBoolean;\n\n    function isNull(arg) {\n      return arg === null;\n    }\n\n    exports.isNull = isNull;\n\n    function isNullOrUndefined(arg) {\n      return arg == null;\n    }\n\n    exports.isNullOrUndefined = isNullOrUndefined;\n\n    function isNumber(arg) {\n      return typeof arg === 'number';\n    }\n\n    exports.isNumber = isNumber;\n\n    function isString(arg) {\n      return typeof arg === 'string';\n    }\n\n    exports.isString = isString;\n\n    function isSymbol(arg) {\n      return typeof arg === 'symbol';\n    }\n\n    exports.isSymbol = isSymbol;\n\n    function isUndefined(arg) {\n      return arg === void 0;\n    }\n\n    exports.isUndefined = isUndefined;\n\n    function isRegExp(re) {\n      return isObject(re) && objectToString(re) === '[object RegExp]';\n    }\n\n    exports.isRegExp = isRegExp;\n\n    function isObject(arg) {\n      return typeof arg === 'object' && arg !== null;\n    }\n\n    exports.isObject = isObject;\n\n    function isDate(d) {\n      return isObject(d) && objectToString(d) === '[object Date]';\n    }\n\n    exports.isDate = isDate;\n\n    function isError(e) {\n      return isObject(e) && (objectToString(e) === '[object Error]' || e instanceof Error);\n    }\n\n    exports.isError = isError;\n\n    function isFunction(arg) {\n      return typeof arg === 'function';\n    }\n\n    exports.isFunction = isFunction;\n\n    function isPrimitive(arg) {\n      return arg === null || typeof arg === 'boolean' || typeof arg === 'number' || typeof arg === 'string' || typeof arg === 'symbol' || // ES6 symbol\n      typeof arg === 'undefined';\n    }\n\n    exports.isPrimitive = isPrimitive;\n    exports.isBuffer = __webpack_require__(25);\n\n    function objectToString(o) {\n      return Object.prototype.toString.call(o);\n    }\n\n    function pad(n) {\n      return n < 10 ? '0' + n.toString(10) : n.toString(10);\n    }\n\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']; // 26 Feb 16:19:34\n\n    function timestamp() {\n      var d = new Date();\n      var time = [pad(d.getHours()), pad(d.getMinutes()), pad(d.getSeconds())].join(':');\n      return [d.getDate(), months[d.getMonth()], time].join(' ');\n    } // log is just a thin wrapper to console.log that prepends a timestamp\n\n\n    exports.log = function () {\n      console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n    };\n    /**\n     * Inherit the prototype methods from one constructor into another.\n     *\n     * The Function.prototype.inherits from lang.js rewritten as a standalone\n     * function (not on Function.prototype). NOTE: If this file is to be loaded\n     * during bootstrapping this function needs to be rewritten using some native\n     * functions as prototype setup using normal JavaScript does not work as\n     * expected during bootstrapping (see mirror.js in r114903).\n     *\n     * @param {function} ctor Constructor function which needs to inherit the\n     *     prototype.\n     * @param {function} superCtor Constructor function to inherit prototype from.\n     */\n\n\n    exports.inherits = __webpack_require__(26);\n\n    exports._extend = function (origin, add) {\n      // Don't do anything if add isn't an object\n      if (!add || !isObject(add)) return origin;\n      var keys = Object.keys(add);\n      var i = keys.length;\n\n      while (i--) {\n        origin[keys[i]] = add[keys[i]];\n      }\n\n      return origin;\n    };\n\n    function hasOwnProperty(obj, prop) {\n      return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n    var kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\n    exports.promisify = function promisify(original) {\n      if (typeof original !== 'function') throw new TypeError('The \"original\" argument must be of type Function');\n\n      if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n        var fn = original[kCustomPromisifiedSymbol];\n\n        if (typeof fn !== 'function') {\n          throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n        }\n\n        Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n          value: fn,\n          enumerable: false,\n          writable: false,\n          configurable: true\n        });\n        return fn;\n      }\n\n      function fn() {\n        var promiseResolve, promiseReject;\n        var promise = new Promise(function (resolve, reject) {\n          promiseResolve = resolve;\n          promiseReject = reject;\n        });\n        var args = [];\n\n        for (var i = 0; i < arguments.length; i++) {\n          args.push(arguments[i]);\n        }\n\n        args.push(function (err, value) {\n          if (err) {\n            promiseReject(err);\n          } else {\n            promiseResolve(value);\n          }\n        });\n\n        try {\n          original.apply(this, args);\n        } catch (err) {\n          promiseReject(err);\n        }\n\n        return promise;\n      }\n\n      Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n      if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n        value: fn,\n        enumerable: false,\n        writable: false,\n        configurable: true\n      });\n      return Object.defineProperties(fn, getOwnPropertyDescriptors(original));\n    };\n\n    exports.promisify.custom = kCustomPromisifiedSymbol;\n\n    function callbackifyOnRejected(reason, cb) {\n      // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n      // Because `null` is a special error value in callbacks which means \"no error\n      // occurred\", we error-wrap so the callback consumer can distinguish between\n      // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n      if (!reason) {\n        var newReason = new Error('Promise was rejected with a falsy value');\n        newReason.reason = reason;\n        reason = newReason;\n      }\n\n      return cb(reason);\n    }\n\n    function callbackify(original) {\n      if (typeof original !== 'function') {\n        throw new TypeError('The \"original\" argument must be of type Function');\n      } // We DO NOT return the promise as it gives the user a false sense that\n      // the promise is actually somehow related to the callback's execution\n      // and that the callback throwing will reject the promise.\n\n\n      function callbackified() {\n        var args = [];\n\n        for (var i = 0; i < arguments.length; i++) {\n          args.push(arguments[i]);\n        }\n\n        var maybeCb = args.pop();\n\n        if (typeof maybeCb !== 'function') {\n          throw new TypeError('The last argument must be of type Function');\n        }\n\n        var self = this;\n\n        var cb = function () {\n          return maybeCb.apply(self, arguments);\n        }; // In true node style we process the callback on `nextTick` with all the\n        // implications (stack, `uncaughtException`, `async_hooks`)\n\n\n        original.apply(this, args).then(function (ret) {\n          process.nextTick(cb, null, ret);\n        }, function (rej) {\n          process.nextTick(callbackifyOnRejected, rej, cb);\n        });\n      }\n\n      Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n      Object.defineProperties(callbackified, getOwnPropertyDescriptors(original));\n      return callbackified;\n    }\n\n    exports.callbackify = callbackify;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(24));\n  /***/\n}, function (module, exports) {\n  // shim for using process in browser\n  var process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n  // don't break things.  But we need to wrap it in a try catch in case it is\n  // wrapped in strict mode code which doesn't define any globals.  It's inside a\n  // function because try/catches deoptimize in certain engines.\n\n  var cachedSetTimeout;\n  var cachedClearTimeout;\n\n  function defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n  }\n\n  function defaultClearTimeout() {\n    throw new Error('clearTimeout has not been defined');\n  }\n\n  (function () {\n    try {\n      if (typeof setTimeout === 'function') {\n        cachedSetTimeout = setTimeout;\n      } else {\n        cachedSetTimeout = defaultSetTimout;\n      }\n    } catch (e) {\n      cachedSetTimeout = defaultSetTimout;\n    }\n\n    try {\n      if (typeof clearTimeout === 'function') {\n        cachedClearTimeout = clearTimeout;\n      } else {\n        cachedClearTimeout = defaultClearTimeout;\n      }\n    } catch (e) {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  })();\n\n  function runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n      //normal enviroments in sane situations\n      return setTimeout(fun, 0);\n    } // if setTimeout wasn't available but was latter defined\n\n\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n      cachedSetTimeout = setTimeout;\n      return setTimeout(fun, 0);\n    }\n\n    try {\n      // when when somebody has screwed with setTimeout but no I.E. maddness\n      return cachedSetTimeout(fun, 0);\n    } catch (e) {\n      try {\n        // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n        return cachedSetTimeout.call(null, fun, 0);\n      } catch (e) {\n        // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n        return cachedSetTimeout.call(this, fun, 0);\n      }\n    }\n  }\n\n  function runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n      //normal enviroments in sane situations\n      return clearTimeout(marker);\n    } // if clearTimeout wasn't available but was latter defined\n\n\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n      cachedClearTimeout = clearTimeout;\n      return clearTimeout(marker);\n    }\n\n    try {\n      // when when somebody has screwed with setTimeout but no I.E. maddness\n      return cachedClearTimeout(marker);\n    } catch (e) {\n      try {\n        // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n        return cachedClearTimeout.call(null, marker);\n      } catch (e) {\n        // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n        // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n        return cachedClearTimeout.call(this, marker);\n      }\n    }\n  }\n\n  var queue = [];\n  var draining = false;\n  var currentQueue;\n  var queueIndex = -1;\n\n  function cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n      return;\n    }\n\n    draining = false;\n\n    if (currentQueue.length) {\n      queue = currentQueue.concat(queue);\n    } else {\n      queueIndex = -1;\n    }\n\n    if (queue.length) {\n      drainQueue();\n    }\n  }\n\n  function drainQueue() {\n    if (draining) {\n      return;\n    }\n\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n    var len = queue.length;\n\n    while (len) {\n      currentQueue = queue;\n      queue = [];\n\n      while (++queueIndex < len) {\n        if (currentQueue) {\n          currentQueue[queueIndex].run();\n        }\n      }\n\n      queueIndex = -1;\n      len = queue.length;\n    }\n\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n  }\n\n  process.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n\n    if (arguments.length > 1) {\n      for (var i = 1; i < arguments.length; i++) {\n        args[i - 1] = arguments[i];\n      }\n    }\n\n    queue.push(new Item(fun, args));\n\n    if (queue.length === 1 && !draining) {\n      runTimeout(drainQueue);\n    }\n  }; // v8 likes predictible objects\n\n\n  function Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n  }\n\n  Item.prototype.run = function () {\n    this.fun.apply(null, this.array);\n  };\n\n  process.title = 'browser';\n  process.browser = true;\n  process.env = {};\n  process.argv = [];\n  process.version = ''; // empty string to avoid regexp issues\n\n  process.versions = {};\n\n  function noop() {}\n\n  process.on = noop;\n  process.addListener = noop;\n  process.once = noop;\n  process.off = noop;\n  process.removeListener = noop;\n  process.removeAllListeners = noop;\n  process.emit = noop;\n  process.prependListener = noop;\n  process.prependOnceListener = noop;\n\n  process.listeners = function (name) {\n    return [];\n  };\n\n  process.binding = function (name) {\n    throw new Error('process.binding is not supported');\n  };\n\n  process.cwd = function () {\n    return '/';\n  };\n\n  process.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n  };\n\n  process.umask = function () {\n    return 0;\n  };\n  /***/\n\n}, function (module, exports) {\n  module.exports = function isBuffer(arg) {\n    return arg && typeof arg === 'object' && typeof arg.copy === 'function' && typeof arg.fill === 'function' && typeof arg.readUInt8 === 'function';\n  };\n  /***/\n\n}, function (module, exports) {\n  if (typeof Object.create === 'function') {\n    // implementation from standard node.js 'util' module\n    module.exports = function inherits(ctor, superCtor) {\n      ctor.super_ = superCtor;\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n    };\n  } else {\n    // old school shim for old browsers\n    module.exports = function inherits(ctor, superCtor) {\n      ctor.super_ = superCtor;\n\n      var TempCtor = function () {};\n\n      TempCtor.prototype = superCtor.prototype;\n      ctor.prototype = new TempCtor();\n      ctor.prototype.constructor = ctor;\n    };\n  }\n  /***/\n\n}, function (module, exports) {\n  (function () {\n    module.exports = window[\"window\"];\n  })();\n  /***/\n\n}, function (module, exports, __webpack_require__) {\n  /**\n   * @module JSON Object Signing and Encryption (JOSE)\n   */\n  const crypto = __webpack_require__(29);\n\n  const JWA = __webpack_require__(32);\n\n  const JWK = __webpack_require__(50);\n\n  const JWKSet = __webpack_require__(51);\n\n  const JWT = __webpack_require__(52);\n\n  const JWS = __webpack_require__(53);\n  /**\n   * Export\n   */\n\n\n  module.exports = {\n    crypto,\n    JWA,\n    JWK,\n    JWKSet,\n    JWT,\n    JWS\n  };\n  /***/\n}, function (module, exports, __webpack_require__) {\n  const imported = __webpack_require__(30);\n\n  module.exports = imported.default ? imported.default : imported;\n  /***/\n}, function (__webpack_module__, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony import */\n\n\n  var _webcrypto_shim_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(31);\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = window.crypto;\n  /***/\n}, function (__webpack_module__, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /**\n   * @file Web Cryptography API shim\n   * @author Artem S Vybornov <vybornov@gmail.com>\n   * @license MIT\n   */\n\n\n  (function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n      // AMD. Register as an anonymous module.\n      define([], function () {\n        return factory(global);\n      });\n    } else if (typeof module === 'object' && module.exports) {\n      // CommonJS-like environments that support module.exports\n      module.exports = factory(global);\n    } else {\n      factory(global);\n    }\n  })(typeof self !== 'undefined' ? self : undefined, function (global) {\n    'use strict';\n\n    if (typeof Promise !== 'function') throw \"Promise support required\";\n\n    var _crypto = global.crypto || global.msCrypto;\n\n    if (!_crypto) return;\n\n    var _subtle = _crypto.subtle || _crypto.webkitSubtle;\n\n    if (!_subtle) return;\n\n    var _Crypto = global.Crypto || _crypto.constructor || Object,\n        _SubtleCrypto = global.SubtleCrypto || _subtle.constructor || Object,\n        _CryptoKey = global.CryptoKey || global.Key || Object;\n\n    var isEdge = global.navigator.userAgent.indexOf('Edge/') > -1;\n    var isIE = !!global.msCrypto && !isEdge;\n    var isWebkit = !_crypto.subtle && !!_crypto.webkitSubtle;\n    if (!isIE && !isWebkit) return;\n\n    function s2a(s) {\n      return btoa(s).replace(/\\=+$/, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n    }\n\n    function a2s(s) {\n      s += '===', s = s.slice(0, -s.length % 4);\n      return atob(s.replace(/-/g, '+').replace(/_/g, '/'));\n    }\n\n    function s2b(s) {\n      var b = new Uint8Array(s.length);\n\n      for (var i = 0; i < s.length; i++) b[i] = s.charCodeAt(i);\n\n      return b;\n    }\n\n    function b2s(b) {\n      if (b instanceof ArrayBuffer) b = new Uint8Array(b);\n      return String.fromCharCode.apply(String, b);\n    }\n\n    function alg(a) {\n      var r = {\n        'name': (a.name || a || '').toUpperCase().replace('V', 'v')\n      };\n\n      switch (r.name) {\n        case 'SHA-1':\n        case 'SHA-256':\n        case 'SHA-384':\n        case 'SHA-512':\n          break;\n\n        case 'AES-CBC':\n        case 'AES-GCM':\n        case 'AES-KW':\n          if (a.length) r['length'] = a.length;\n          break;\n\n        case 'HMAC':\n          if (a.hash) r['hash'] = alg(a.hash);\n          if (a.length) r['length'] = a.length;\n          break;\n\n        case 'RSAES-PKCS1-v1_5':\n          if (a.publicExponent) r['publicExponent'] = new Uint8Array(a.publicExponent);\n          if (a.modulusLength) r['modulusLength'] = a.modulusLength;\n          break;\n\n        case 'RSASSA-PKCS1-v1_5':\n        case 'RSA-OAEP':\n          if (a.hash) r['hash'] = alg(a.hash);\n          if (a.publicExponent) r['publicExponent'] = new Uint8Array(a.publicExponent);\n          if (a.modulusLength) r['modulusLength'] = a.modulusLength;\n          break;\n\n        default:\n          throw new SyntaxError(\"Bad algorithm name\");\n      }\n\n      return r;\n    }\n\n    ;\n\n    function jwkAlg(a) {\n      return {\n        'HMAC': {\n          'SHA-1': 'HS1',\n          'SHA-256': 'HS256',\n          'SHA-384': 'HS384',\n          'SHA-512': 'HS512'\n        },\n        'RSASSA-PKCS1-v1_5': {\n          'SHA-1': 'RS1',\n          'SHA-256': 'RS256',\n          'SHA-384': 'RS384',\n          'SHA-512': 'RS512'\n        },\n        'RSAES-PKCS1-v1_5': {\n          '': 'RSA1_5'\n        },\n        'RSA-OAEP': {\n          'SHA-1': 'RSA-OAEP',\n          'SHA-256': 'RSA-OAEP-256'\n        },\n        'AES-KW': {\n          '128': 'A128KW',\n          '192': 'A192KW',\n          '256': 'A256KW'\n        },\n        'AES-GCM': {\n          '128': 'A128GCM',\n          '192': 'A192GCM',\n          '256': 'A256GCM'\n        },\n        'AES-CBC': {\n          '128': 'A128CBC',\n          '192': 'A192CBC',\n          '256': 'A256CBC'\n        }\n      }[a.name][(a.hash || {}).name || a.length || ''];\n    }\n\n    function b2jwk(k) {\n      if (k instanceof ArrayBuffer || k instanceof Uint8Array) k = JSON.parse(decodeURIComponent(escape(b2s(k))));\n      var jwk = {\n        'kty': k.kty,\n        'alg': k.alg,\n        'ext': k.ext || k.extractable\n      };\n\n      switch (jwk.kty) {\n        case 'oct':\n          jwk.k = k.k;\n\n        case 'RSA':\n          ['n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi', 'oth'].forEach(function (x) {\n            if (x in k) jwk[x] = k[x];\n          });\n          break;\n\n        default:\n          throw new TypeError(\"Unsupported key type\");\n      }\n\n      return jwk;\n    }\n\n    function jwk2b(k) {\n      var jwk = b2jwk(k);\n      if (isIE) jwk['extractable'] = jwk.ext, delete jwk.ext;\n      return s2b(unescape(encodeURIComponent(JSON.stringify(jwk)))).buffer;\n    }\n\n    function pkcs2jwk(k) {\n      var info = b2der(k),\n          prv = false;\n      if (info.length > 2) prv = true, info.shift(); // remove version from PKCS#8 PrivateKeyInfo structure\n\n      var jwk = {\n        'ext': true\n      };\n\n      switch (info[0][0]) {\n        case '1.2.840.113549.1.1.1':\n          var rsaComp = ['n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi'],\n              rsaKey = b2der(info[1]);\n          if (prv) rsaKey.shift(); // remove version from PKCS#1 RSAPrivateKey structure\n\n          for (var i = 0; i < rsaKey.length; i++) {\n            if (!rsaKey[i][0]) rsaKey[i] = rsaKey[i].subarray(1);\n            jwk[rsaComp[i]] = s2a(b2s(rsaKey[i]));\n          }\n\n          jwk['kty'] = 'RSA';\n          break;\n\n        default:\n          throw new TypeError(\"Unsupported key type\");\n      }\n\n      return jwk;\n    }\n\n    function jwk2pkcs(k) {\n      var key,\n          info = [['', null]],\n          prv = false;\n\n      switch (k.kty) {\n        case 'RSA':\n          var rsaComp = ['n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi'],\n              rsaKey = [];\n\n          for (var i = 0; i < rsaComp.length; i++) {\n            if (!(rsaComp[i] in k)) break;\n            var b = rsaKey[i] = s2b(a2s(k[rsaComp[i]]));\n            if (b[0] & 0x80) rsaKey[i] = new Uint8Array(b.length + 1), rsaKey[i].set(b, 1);\n          }\n\n          if (rsaKey.length > 2) prv = true, rsaKey.unshift(new Uint8Array([0])); // add version to PKCS#1 RSAPrivateKey structure\n\n          info[0][0] = '1.2.840.113549.1.1.1';\n          key = rsaKey;\n          break;\n\n        default:\n          throw new TypeError(\"Unsupported key type\");\n      }\n\n      info.push(new Uint8Array(der2b(key)).buffer);\n      if (!prv) info[1] = {\n        'tag': 0x03,\n        'value': info[1]\n      };else info.unshift(new Uint8Array([0])); // add version to PKCS#8 PrivateKeyInfo structure\n\n      return new Uint8Array(der2b(info)).buffer;\n    }\n\n    var oid2str = {\n      'KoZIhvcNAQEB': '1.2.840.113549.1.1.1'\n    },\n        str2oid = {\n      '1.2.840.113549.1.1.1': 'KoZIhvcNAQEB'\n    };\n\n    function b2der(buf, ctx) {\n      if (buf instanceof ArrayBuffer) buf = new Uint8Array(buf);\n      if (!ctx) ctx = {\n        pos: 0,\n        end: buf.length\n      };\n      if (ctx.end - ctx.pos < 2 || ctx.end > buf.length) throw new RangeError(\"Malformed DER\");\n      var tag = buf[ctx.pos++],\n          len = buf[ctx.pos++];\n\n      if (len >= 0x80) {\n        len &= 0x7f;\n        if (ctx.end - ctx.pos < len) throw new RangeError(\"Malformed DER\");\n\n        for (var xlen = 0; len--;) xlen <<= 8, xlen |= buf[ctx.pos++];\n\n        len = xlen;\n      }\n\n      if (ctx.end - ctx.pos < len) throw new RangeError(\"Malformed DER\");\n      var rv;\n\n      switch (tag) {\n        case 0x02:\n          // Universal Primitive INTEGER\n          rv = buf.subarray(ctx.pos, ctx.pos += len);\n          break;\n\n        case 0x03:\n          // Universal Primitive BIT STRING\n          if (buf[ctx.pos++]) throw new Error(\"Unsupported bit string\");\n          len--;\n\n        case 0x04:\n          // Universal Primitive OCTET STRING\n          rv = new Uint8Array(buf.subarray(ctx.pos, ctx.pos += len)).buffer;\n          break;\n\n        case 0x05:\n          // Universal Primitive NULL\n          rv = null;\n          break;\n\n        case 0x06:\n          // Universal Primitive OBJECT IDENTIFIER\n          var oid = btoa(b2s(buf.subarray(ctx.pos, ctx.pos += len)));\n          if (!(oid in oid2str)) throw new Error(\"Unsupported OBJECT ID \" + oid);\n          rv = oid2str[oid];\n          break;\n\n        case 0x30:\n          // Universal Constructed SEQUENCE\n          rv = [];\n\n          for (var end = ctx.pos + len; ctx.pos < end;) rv.push(b2der(buf, ctx));\n\n          break;\n\n        default:\n          throw new Error(\"Unsupported DER tag 0x\" + tag.toString(16));\n      }\n\n      return rv;\n    }\n\n    function der2b(val, buf) {\n      if (!buf) buf = [];\n      var tag = 0,\n          len = 0,\n          pos = buf.length + 2;\n      buf.push(0, 0); // placeholder\n\n      if (val instanceof Uint8Array) {\n        // Universal Primitive INTEGER\n        tag = 0x02, len = val.length;\n\n        for (var i = 0; i < len; i++) buf.push(val[i]);\n      } else if (val instanceof ArrayBuffer) {\n        // Universal Primitive OCTET STRING\n        tag = 0x04, len = val.byteLength, val = new Uint8Array(val);\n\n        for (var i = 0; i < len; i++) buf.push(val[i]);\n      } else if (val === null) {\n        // Universal Primitive NULL\n        tag = 0x05, len = 0;\n      } else if (typeof val === 'string' && val in str2oid) {\n        // Universal Primitive OBJECT IDENTIFIER\n        var oid = s2b(atob(str2oid[val]));\n        tag = 0x06, len = oid.length;\n\n        for (var i = 0; i < len; i++) buf.push(oid[i]);\n      } else if (val instanceof Array) {\n        // Universal Constructed SEQUENCE\n        for (var i = 0; i < val.length; i++) der2b(val[i], buf);\n\n        tag = 0x30, len = buf.length - pos;\n      } else if (typeof val === 'object' && val.tag === 0x03 && val.value instanceof ArrayBuffer) {\n        // Tag hint\n        val = new Uint8Array(val.value), tag = 0x03, len = val.byteLength;\n        buf.push(0);\n\n        for (var i = 0; i < len; i++) buf.push(val[i]);\n\n        len++;\n      } else {\n        throw new Error(\"Unsupported DER value \" + val);\n      }\n\n      if (len >= 0x80) {\n        var xlen = len,\n            len = 4;\n        buf.splice(pos, 0, xlen >> 24 & 0xff, xlen >> 16 & 0xff, xlen >> 8 & 0xff, xlen & 0xff);\n\n        while (len > 1 && !(xlen >> 24)) xlen <<= 8, len--;\n\n        if (len < 4) buf.splice(pos, 4 - len);\n        len |= 0x80;\n      }\n\n      buf.splice(pos - 2, 2, tag, len);\n      return buf;\n    }\n\n    function CryptoKey(key, alg, ext, use) {\n      Object.defineProperties(this, {\n        _key: {\n          value: key\n        },\n        type: {\n          value: key.type,\n          enumerable: true\n        },\n        extractable: {\n          value: ext === undefined ? key.extractable : ext,\n          enumerable: true\n        },\n        algorithm: {\n          value: alg === undefined ? key.algorithm : alg,\n          enumerable: true\n        },\n        usages: {\n          value: use === undefined ? key.usages : use,\n          enumerable: true\n        }\n      });\n    }\n\n    function isPubKeyUse(u) {\n      return u === 'verify' || u === 'encrypt' || u === 'wrapKey';\n    }\n\n    function isPrvKeyUse(u) {\n      return u === 'sign' || u === 'decrypt' || u === 'unwrapKey';\n    }\n\n    ['generateKey', 'importKey', 'unwrapKey'].forEach(function (m) {\n      var _fn = _subtle[m];\n\n      _subtle[m] = function (a, b, c) {\n        var args = [].slice.call(arguments),\n            ka,\n            kx,\n            ku;\n\n        switch (m) {\n          case 'generateKey':\n            ka = alg(a), kx = b, ku = c;\n            break;\n\n          case 'importKey':\n            ka = alg(c), kx = args[3], ku = args[4];\n\n            if (a === 'jwk') {\n              b = b2jwk(b);\n              if (!b.alg) b.alg = jwkAlg(ka);\n              if (!b.key_ops) b.key_ops = b.kty !== 'oct' ? 'd' in b ? ku.filter(isPrvKeyUse) : ku.filter(isPubKeyUse) : ku.slice();\n              args[1] = jwk2b(b);\n            }\n\n            break;\n\n          case 'unwrapKey':\n            ka = args[4], kx = args[5], ku = args[6];\n            args[2] = c._key;\n            break;\n        }\n\n        if (m === 'generateKey' && ka.name === 'HMAC' && ka.hash) {\n          ka.length = ka.length || {\n            'SHA-1': 512,\n            'SHA-256': 512,\n            'SHA-384': 1024,\n            'SHA-512': 1024\n          }[ka.hash.name];\n          return _subtle.importKey('raw', _crypto.getRandomValues(new Uint8Array(ka.length + 7 >> 3)), ka, kx, ku);\n        }\n\n        if (isWebkit && m === 'generateKey' && ka.name === 'RSASSA-PKCS1-v1_5' && (!ka.modulusLength || ka.modulusLength >= 2048)) {\n          a = alg(a), a.name = 'RSAES-PKCS1-v1_5', delete a.hash;\n          return _subtle.generateKey(a, true, ['encrypt', 'decrypt']).then(function (k) {\n            return Promise.all([_subtle.exportKey('jwk', k.publicKey), _subtle.exportKey('jwk', k.privateKey)]);\n          }).then(function (keys) {\n            keys[0].alg = keys[1].alg = jwkAlg(ka);\n            keys[0].key_ops = ku.filter(isPubKeyUse), keys[1].key_ops = ku.filter(isPrvKeyUse);\n            return Promise.all([_subtle.importKey('jwk', keys[0], ka, true, keys[0].key_ops), _subtle.importKey('jwk', keys[1], ka, kx, keys[1].key_ops)]);\n          }).then(function (keys) {\n            return {\n              publicKey: keys[0],\n              privateKey: keys[1]\n            };\n          });\n        }\n\n        if ((isWebkit || isIE && (ka.hash || {}).name === 'SHA-1') && m === 'importKey' && a === 'jwk' && ka.name === 'HMAC' && b.kty === 'oct') {\n          return _subtle.importKey('raw', s2b(a2s(b.k)), c, args[3], args[4]);\n        }\n\n        if (isWebkit && m === 'importKey' && (a === 'spki' || a === 'pkcs8')) {\n          return _subtle.importKey('jwk', pkcs2jwk(b), c, args[3], args[4]);\n        }\n\n        if (isIE && m === 'unwrapKey') {\n          return _subtle.decrypt(args[3], c, b).then(function (k) {\n            return _subtle.importKey(a, k, args[4], args[5], args[6]);\n          });\n        }\n\n        var op;\n\n        try {\n          op = _fn.apply(_subtle, args);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n\n        if (isIE) {\n          op = new Promise(function (res, rej) {\n            op.onabort = op.onerror = function (e) {\n              rej(e);\n            };\n\n            op.oncomplete = function (r) {\n              res(r.target.result);\n            };\n          });\n        }\n\n        op = op.then(function (k) {\n          if (ka.name === 'HMAC') {\n            if (!ka.length) ka.length = 8 * k.algorithm.length;\n          }\n\n          if (ka.name.search('RSA') == 0) {\n            if (!ka.modulusLength) ka.modulusLength = (k.publicKey || k).algorithm.modulusLength;\n            if (!ka.publicExponent) ka.publicExponent = (k.publicKey || k).algorithm.publicExponent;\n          }\n\n          if (k.publicKey && k.privateKey) {\n            k = {\n              publicKey: new CryptoKey(k.publicKey, ka, kx, ku.filter(isPubKeyUse)),\n              privateKey: new CryptoKey(k.privateKey, ka, kx, ku.filter(isPrvKeyUse))\n            };\n          } else {\n            k = new CryptoKey(k, ka, kx, ku);\n          }\n\n          return k;\n        });\n        return op;\n      };\n    });\n    ['exportKey', 'wrapKey'].forEach(function (m) {\n      var _fn = _subtle[m];\n\n      _subtle[m] = function (a, b, c) {\n        var args = [].slice.call(arguments);\n\n        switch (m) {\n          case 'exportKey':\n            args[1] = b._key;\n            break;\n\n          case 'wrapKey':\n            args[1] = b._key, args[2] = c._key;\n            break;\n        }\n\n        if ((isWebkit || isIE && (b.algorithm.hash || {}).name === 'SHA-1') && m === 'exportKey' && a === 'jwk' && b.algorithm.name === 'HMAC') {\n          args[0] = 'raw';\n        }\n\n        if (isWebkit && m === 'exportKey' && (a === 'spki' || a === 'pkcs8')) {\n          args[0] = 'jwk';\n        }\n\n        if (isIE && m === 'wrapKey') {\n          return _subtle.exportKey(a, b).then(function (k) {\n            if (a === 'jwk') k = s2b(unescape(encodeURIComponent(JSON.stringify(b2jwk(k)))));\n            return _subtle.encrypt(args[3], c, k);\n          });\n        }\n\n        var op;\n\n        try {\n          op = _fn.apply(_subtle, args);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n\n        if (isIE) {\n          op = new Promise(function (res, rej) {\n            op.onabort = op.onerror = function (e) {\n              rej(e);\n            };\n\n            op.oncomplete = function (r) {\n              res(r.target.result);\n            };\n          });\n        }\n\n        if (m === 'exportKey' && a === 'jwk') {\n          op = op.then(function (k) {\n            if ((isWebkit || isIE && (b.algorithm.hash || {}).name === 'SHA-1') && b.algorithm.name === 'HMAC') {\n              return {\n                'kty': 'oct',\n                'alg': jwkAlg(b.algorithm),\n                'key_ops': b.usages.slice(),\n                'ext': true,\n                'k': s2a(b2s(k))\n              };\n            }\n\n            k = b2jwk(k);\n            if (!k.alg) k['alg'] = jwkAlg(b.algorithm);\n            if (!k.key_ops) k['key_ops'] = b.type === 'public' ? b.usages.filter(isPubKeyUse) : b.type === 'private' ? b.usages.filter(isPrvKeyUse) : b.usages.slice();\n            return k;\n          });\n        }\n\n        if (isWebkit && m === 'exportKey' && (a === 'spki' || a === 'pkcs8')) {\n          op = op.then(function (k) {\n            k = jwk2pkcs(b2jwk(k));\n            return k;\n          });\n        }\n\n        return op;\n      };\n    });\n    ['encrypt', 'decrypt', 'sign', 'verify'].forEach(function (m) {\n      var _fn = _subtle[m];\n\n      _subtle[m] = function (a, b, c, d) {\n        if (isIE && (!c.byteLength || d && !d.byteLength)) throw new Error(\"Empy input is not allowed\");\n        var args = [].slice.call(arguments),\n            ka = alg(a);\n\n        if (isIE && m === 'decrypt' && ka.name === 'AES-GCM') {\n          var tl = a.tagLength >> 3;\n          args[2] = (c.buffer || c).slice(0, c.byteLength - tl), a.tag = (c.buffer || c).slice(c.byteLength - tl);\n        }\n\n        args[1] = b._key;\n        var op;\n\n        try {\n          op = _fn.apply(_subtle, args);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n\n        if (isIE) {\n          op = new Promise(function (res, rej) {\n            op.onabort = op.onerror = function (e) {\n              rej(e);\n            };\n\n            op.oncomplete = function (r) {\n              var r = r.target.result;\n\n              if (m === 'encrypt' && r instanceof AesGcmEncryptResult) {\n                var c = r.ciphertext,\n                    t = r.tag;\n                r = new Uint8Array(c.byteLength + t.byteLength);\n                r.set(new Uint8Array(c), 0);\n                r.set(new Uint8Array(t), c.byteLength);\n                r = r.buffer;\n              }\n\n              res(r);\n            };\n          });\n        }\n\n        return op;\n      };\n    });\n\n    if (isIE) {\n      var _digest = _subtle.digest;\n\n      _subtle['digest'] = function (a, b) {\n        if (!b.byteLength) throw new Error(\"Empy input is not allowed\");\n        var op;\n\n        try {\n          op = _digest.call(_subtle, a, b);\n        } catch (e) {\n          return Promise.reject(e);\n        }\n\n        op = new Promise(function (res, rej) {\n          op.onabort = op.onerror = function (e) {\n            rej(e);\n          };\n\n          op.oncomplete = function (r) {\n            res(r.target.result);\n          };\n        });\n        return op;\n      };\n\n      global.crypto = Object.create(_crypto, {\n        getRandomValues: {\n          value: function (a) {\n            return _crypto.getRandomValues(a);\n          }\n        },\n        subtle: {\n          value: _subtle\n        }\n      });\n      global.CryptoKey = CryptoKey;\n    }\n\n    if (isWebkit) {\n      _crypto.subtle = _subtle;\n      global.Crypto = _Crypto;\n      global.SubtleCrypto = _SubtleCrypto;\n      global.CryptoKey = CryptoKey;\n    }\n  });\n  /* harmony default export */\n\n\n  __webpack_exports__[\"default\"] = {}; // section modified by isomorphic-webcrypto build \n\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /**\n   * Dependencies\n   *\n   * TODO\n   * - switch between Node.js webcrypto package and browser implementation\n   */\n  // const base64url = require('base64url')\n  const supportedAlgorithms = __webpack_require__(33);\n\n  const {\n    NotSupportedError\n  } = __webpack_require__(48);\n  /**\n   * JWA\n   * https://tools.ietf.org/html/rfc7518\n   */\n\n\n  class JWA {\n    /**\n     * Sign\n     *\n     * @description\n     * Create a digital signature.\n     *\n     * @param {string} alg\n     * @param {CryptoKey} key\n     * @param {string|Buffer} data\n     *\n     * @return {Promise}\n     */\n    static async sign(alg, key, data) {\n      // normalize the algorithm\n      let normalizedAlgorithm = supportedAlgorithms.normalize('sign', alg); // validate algorithm is supported\n\n      if (normalizedAlgorithm instanceof Error) {\n        return Promise.reject(new NotSupportedError(alg));\n      } // validate type of key\n      // TODO\n      //  - is the key suitable for the algorithm?\n      //  - does that get validated in webcrypto?\n      //if (key instanceof CryptoKey) {\n      //  return Promise.reject(new InvalidKeyError())\n      //}\n      // sign the data\n\n\n      return normalizedAlgorithm.sign(key, data);\n    }\n    /**\n     * Verify\n     *\n     * @description\n     * Verify a digital signature.\n     *\n     * @param {string} alg\n     * @param {CryptoKey} privateKey\n     * @param {string|Buffer} signature\n     * @param {string|Buffer} data\n     *\n     * @return {Promise}\n     */\n\n\n    static async verify(alg, key, signature, data) {\n      let normalizedAlgorithm = supportedAlgorithms.normalize('verify', alg);\n\n      if (normalizedAlgorithm instanceof Error) {\n        return Promise.reject(new NotSupportedError(alg));\n      } // TODO\n      // validate publicKey\n      // verify the signature\n\n\n      return normalizedAlgorithm.verify(key, signature, data);\n    }\n    /**\n     * Encrypt\n     */\n\n    /**\n     * Decrypt\n     */\n\n    /**\n     * Import\n     */\n\n\n    static async importKey(key) {\n      let normalizedAlgorithm = supportedAlgorithms.normalize('importKey', key.alg);\n      return normalizedAlgorithm.importKey(key);\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = JWA;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /**\n   * Local dependencies\n   */\n  const None = __webpack_require__(34);\n\n  const HMAC = __webpack_require__(35);\n\n  const RSASSA_PKCS1_v1_5 = __webpack_require__(45);\n\n  const SupportedAlgorithms = __webpack_require__(46);\n  /**\n   * Register Supported Algorithms\n   */\n\n\n  const supportedAlgorithms = new SupportedAlgorithms();\n  /**\n   * Sign\n   */\n\n  supportedAlgorithms.define('HS256', 'sign', new HMAC({\n    name: 'HMAC',\n    hash: {\n      name: 'SHA-256'\n    }\n  }));\n  supportedAlgorithms.define('HS384', 'sign', new HMAC({\n    name: 'HMAC',\n    hash: {\n      name: 'SHA-384'\n    }\n  }));\n  supportedAlgorithms.define('HS512', 'sign', new HMAC({\n    name: 'HMAC',\n    hash: {\n      name: 'SHA-512'\n    }\n  }));\n  supportedAlgorithms.define('RS256', 'sign', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-256'\n    }\n  }));\n  supportedAlgorithms.define('RS384', 'sign', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-384'\n    }\n  }));\n  supportedAlgorithms.define('RS512', 'sign', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-512'\n    }\n  })); //supportedAlgorithms.define('ES256', 'sign', {})\n  //supportedAlgorithms.define('ES384', 'sign', {})\n  //supportedAlgorithms.define('ES512', 'sign', {})\n  //supportedAlgorithms.define('PS256', 'sign', {})\n  //supportedAlgorithms.define('PS384', 'sign', {})\n  //supportedAlgorithms.define('PS512', 'sign', {})\n\n  supportedAlgorithms.define('none', 'sign', new None({// nothing goes here\n  }));\n  /**\n   * Verify\n   */\n\n  supportedAlgorithms.define('HS256', 'verify', new HMAC({\n    name: 'HMAC',\n    hash: {\n      name: 'SHA-256'\n    }\n  }));\n  supportedAlgorithms.define('HS384', 'verify', new HMAC({\n    name: 'HMAC',\n    hash: {\n      name: 'SHA-384'\n    }\n  }));\n  supportedAlgorithms.define('HS512', 'verify', new HMAC({\n    name: 'HMAC',\n    hash: {\n      name: 'SHA-512'\n    }\n  }));\n  supportedAlgorithms.define('RS256', 'verify', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-256'\n    }\n  }));\n  supportedAlgorithms.define('RS384', 'verify', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-384'\n    }\n  }));\n  supportedAlgorithms.define('RS512', 'verify', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-512'\n    }\n  })); //supportedAlgorithms.define('ES256', 'verify', {})\n  //supportedAlgorithms.define('ES384', 'verify', {})\n  //supportedAlgorithms.define('ES512', 'verify', {})\n  //supportedAlgorithms.define('PS256', 'verify', {})\n  //supportedAlgorithms.define('PS384', 'verify', {})\n  //supportedAlgorithms.define('PS512', 'verify', {})\n\n  supportedAlgorithms.define('none', 'verify', new None({// nothing goes here\n  }));\n  supportedAlgorithms.define('RS256', 'importKey', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-256'\n    }\n  }));\n  supportedAlgorithms.define('RS384', 'importKey', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-384'\n    }\n  }));\n  supportedAlgorithms.define('RS512', 'importKey', new RSASSA_PKCS1_v1_5({\n    name: 'RSASSA-PKCS1-v1_5',\n    hash: {\n      name: 'SHA-512'\n    }\n  }));\n  /**\n   * Export\n   */\n\n  module.exports = supportedAlgorithms;\n  /***/\n}, function (module, exports) {\n  /**\n   * None\n   */\n  class None {\n    /**\n     * sign\n     */\n    sign() {\n      return Promise.resolve('');\n    }\n    /**\n     * verify\n     */\n\n\n    verify() {// this will never get called. but you looked.\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = None;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /* WEBPACK VAR INJECTION */\n\n  (function (Buffer) {\n    /**\n     * Dependencies\n     * @ignore\n     */\n    const base64url = __webpack_require__(40);\n\n    const crypto = __webpack_require__(30);\n\n    const TextEncoder = __webpack_require__(43);\n    /**\n     * HMAC with SHA-2 Functions\n     */\n\n\n    class HMAC {\n      /**\n       * Constructor\n       *\n       * @param {string} bitlength\n       */\n      constructor(params) {\n        this.params = params;\n      }\n      /**\n       * Sign\n       *\n       * @description\n       * Generate a hash-based message authentication code for a\n       * given input and key. Enforce the key length is equal to\n       * or greater than the bitlength.\n       *\n       * @param {CryptoKey} key\n       * @param {string} data\n       *\n       * @returns {string}\n       */\n\n\n      sign(key, data) {\n        let algorithm = this.params; // TODO: validate key length\n\n        data = new TextEncoder().encode(data);\n        return crypto.subtle.sign(algorithm, key, data).then(signature => base64url(Buffer.from(signature)));\n      }\n      /**\n       * Verify\n       *\n       * @description\n       * Verify a digital signature for a given input and private key.\n       *\n       * @param {CryptoKey} key\n       * @param {string} signature\n       * @param {string} data\n       *\n       * @returns {Boolean}\n       */\n\n\n      verify(key, signature, data) {\n        let algorithm = this.params;\n\n        if (typeof signature === 'string') {\n          signature = Uint8Array.from(base64url.toBuffer(signature));\n        }\n\n        if (typeof data === 'string') {\n          data = new TextEncoder().encode(data);\n        }\n\n        return crypto.subtle.verify(algorithm, key, signature, data);\n      }\n      /**\n       * Assert Sufficient Key Length\n       *\n       * @description Assert that the key length is sufficient\n       * @param {string} key\n       */\n\n\n      assertSufficientKeyLength(key) {\n        if (key.length < this.bitlength) {\n          throw new Error('The key is too short.');\n        }\n      }\n\n    }\n    /**\n     * Export\n     */\n\n\n    module.exports = HMAC;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(36).Buffer);\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /* WEBPACK VAR INJECTION */\n\n  (function (global) {\n    /*!\n    * The buffer module from node.js, for the browser.\n    *\n    * @author   Feross Aboukhadijeh <http://feross.org>\n    * @license  MIT\n    */\n\n    /* eslint-disable no-proto */\n    var base64 = __webpack_require__(37);\n\n    var ieee754 = __webpack_require__(38);\n\n    var isArray = __webpack_require__(39);\n\n    exports.Buffer = Buffer;\n    exports.SlowBuffer = SlowBuffer;\n    exports.INSPECT_MAX_BYTES = 50;\n    /**\n     * If `Buffer.TYPED_ARRAY_SUPPORT`:\n     *   === true    Use Uint8Array implementation (fastest)\n     *   === false   Use Object implementation (most compatible, even IE6)\n     *\n     * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n     * Opera 11.6+, iOS 4.2+.\n     *\n     * Due to various browser bugs, sometimes the Object implementation will be used even\n     * when the browser supports typed arrays.\n     *\n     * Note:\n     *\n     *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n     *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n     *\n     *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n     *\n     *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n     *     incorrect length in some situations.\n    \n     * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n     * get the Object implementation, which is slower but behaves correctly.\n     */\n\n    Buffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined ? global.TYPED_ARRAY_SUPPORT : typedArraySupport();\n    /*\n     * Export kMaxLength after typed array support is determined.\n     */\n\n    exports.kMaxLength = kMaxLength();\n\n    function typedArraySupport() {\n      try {\n        var arr = new Uint8Array(1);\n        arr.__proto__ = {\n          __proto__: Uint8Array.prototype,\n          foo: function () {\n            return 42;\n          }\n        };\n        return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0; // ie10 has broken `subarray`\n      } catch (e) {\n        return false;\n      }\n    }\n\n    function kMaxLength() {\n      return Buffer.TYPED_ARRAY_SUPPORT ? 0x7fffffff : 0x3fffffff;\n    }\n\n    function createBuffer(that, length) {\n      if (kMaxLength() < length) {\n        throw new RangeError('Invalid typed array length');\n      }\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = new Uint8Array(length);\n        that.__proto__ = Buffer.prototype;\n      } else {\n        // Fallback: Return an object instance of the Buffer class\n        if (that === null) {\n          that = new Buffer(length);\n        }\n\n        that.length = length;\n      }\n\n      return that;\n    }\n    /**\n     * The Buffer constructor returns instances of `Uint8Array` that have their\n     * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n     * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n     * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n     * returns a single octet.\n     *\n     * The `Uint8Array` prototype remains unmodified.\n     */\n\n\n    function Buffer(arg, encodingOrOffset, length) {\n      if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n        return new Buffer(arg, encodingOrOffset, length);\n      } // Common case.\n\n\n      if (typeof arg === 'number') {\n        if (typeof encodingOrOffset === 'string') {\n          throw new Error('If encoding is specified then the first argument must be a string');\n        }\n\n        return allocUnsafe(this, arg);\n      }\n\n      return from(this, arg, encodingOrOffset, length);\n    }\n\n    Buffer.poolSize = 8192; // not used by this implementation\n    // TODO: Legacy, not needed anymore. Remove in next major version.\n\n    Buffer._augment = function (arr) {\n      arr.__proto__ = Buffer.prototype;\n      return arr;\n    };\n\n    function from(that, value, encodingOrOffset, length) {\n      if (typeof value === 'number') {\n        throw new TypeError('\"value\" argument must not be a number');\n      }\n\n      if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n        return fromArrayBuffer(that, value, encodingOrOffset, length);\n      }\n\n      if (typeof value === 'string') {\n        return fromString(that, value, encodingOrOffset);\n      }\n\n      return fromObject(that, value);\n    }\n    /**\n     * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n     * if value is a number.\n     * Buffer.from(str[, encoding])\n     * Buffer.from(array)\n     * Buffer.from(buffer)\n     * Buffer.from(arrayBuffer[, byteOffset[, length]])\n     **/\n\n\n    Buffer.from = function (value, encodingOrOffset, length) {\n      return from(null, value, encodingOrOffset, length);\n    };\n\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      Buffer.prototype.__proto__ = Uint8Array.prototype;\n      Buffer.__proto__ = Uint8Array;\n\n      if (typeof Symbol !== 'undefined' && Symbol.species && Buffer[Symbol.species] === Buffer) {\n        // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n        Object.defineProperty(Buffer, Symbol.species, {\n          value: null,\n          configurable: true\n        });\n      }\n    }\n\n    function assertSize(size) {\n      if (typeof size !== 'number') {\n        throw new TypeError('\"size\" argument must be a number');\n      } else if (size < 0) {\n        throw new RangeError('\"size\" argument must not be negative');\n      }\n    }\n\n    function alloc(that, size, fill, encoding) {\n      assertSize(size);\n\n      if (size <= 0) {\n        return createBuffer(that, size);\n      }\n\n      if (fill !== undefined) {\n        // Only pay attention to encoding if it's a string. This\n        // prevents accidentally sending in a number that would\n        // be interpretted as a start offset.\n        return typeof encoding === 'string' ? createBuffer(that, size).fill(fill, encoding) : createBuffer(that, size).fill(fill);\n      }\n\n      return createBuffer(that, size);\n    }\n    /**\n     * Creates a new filled Buffer instance.\n     * alloc(size[, fill[, encoding]])\n     **/\n\n\n    Buffer.alloc = function (size, fill, encoding) {\n      return alloc(null, size, fill, encoding);\n    };\n\n    function allocUnsafe(that, size) {\n      assertSize(size);\n      that = createBuffer(that, size < 0 ? 0 : checked(size) | 0);\n\n      if (!Buffer.TYPED_ARRAY_SUPPORT) {\n        for (var i = 0; i < size; ++i) {\n          that[i] = 0;\n        }\n      }\n\n      return that;\n    }\n    /**\n     * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n     * */\n\n\n    Buffer.allocUnsafe = function (size) {\n      return allocUnsafe(null, size);\n    };\n    /**\n     * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n     */\n\n\n    Buffer.allocUnsafeSlow = function (size) {\n      return allocUnsafe(null, size);\n    };\n\n    function fromString(that, string, encoding) {\n      if (typeof encoding !== 'string' || encoding === '') {\n        encoding = 'utf8';\n      }\n\n      if (!Buffer.isEncoding(encoding)) {\n        throw new TypeError('\"encoding\" must be a valid string encoding');\n      }\n\n      var length = byteLength(string, encoding) | 0;\n      that = createBuffer(that, length);\n      var actual = that.write(string, encoding);\n\n      if (actual !== length) {\n        // Writing a hex string, for example, that contains invalid characters will\n        // cause everything after the first invalid character to be ignored. (e.g.\n        // 'abxxcd' will be treated as 'ab')\n        that = that.slice(0, actual);\n      }\n\n      return that;\n    }\n\n    function fromArrayLike(that, array) {\n      var length = array.length < 0 ? 0 : checked(array.length) | 0;\n      that = createBuffer(that, length);\n\n      for (var i = 0; i < length; i += 1) {\n        that[i] = array[i] & 255;\n      }\n\n      return that;\n    }\n\n    function fromArrayBuffer(that, array, byteOffset, length) {\n      array.byteLength; // this throws if `array` is not a valid ArrayBuffer\n\n      if (byteOffset < 0 || array.byteLength < byteOffset) {\n        throw new RangeError('\\'offset\\' is out of bounds');\n      }\n\n      if (array.byteLength < byteOffset + (length || 0)) {\n        throw new RangeError('\\'length\\' is out of bounds');\n      }\n\n      if (byteOffset === undefined && length === undefined) {\n        array = new Uint8Array(array);\n      } else if (length === undefined) {\n        array = new Uint8Array(array, byteOffset);\n      } else {\n        array = new Uint8Array(array, byteOffset, length);\n      }\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        // Return an augmented `Uint8Array` instance, for best performance\n        that = array;\n        that.__proto__ = Buffer.prototype;\n      } else {\n        // Fallback: Return an object instance of the Buffer class\n        that = fromArrayLike(that, array);\n      }\n\n      return that;\n    }\n\n    function fromObject(that, obj) {\n      if (Buffer.isBuffer(obj)) {\n        var len = checked(obj.length) | 0;\n        that = createBuffer(that, len);\n\n        if (that.length === 0) {\n          return that;\n        }\n\n        obj.copy(that, 0, 0, len);\n        return that;\n      }\n\n      if (obj) {\n        if (typeof ArrayBuffer !== 'undefined' && obj.buffer instanceof ArrayBuffer || 'length' in obj) {\n          if (typeof obj.length !== 'number' || isnan(obj.length)) {\n            return createBuffer(that, 0);\n          }\n\n          return fromArrayLike(that, obj);\n        }\n\n        if (obj.type === 'Buffer' && isArray(obj.data)) {\n          return fromArrayLike(that, obj.data);\n        }\n      }\n\n      throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.');\n    }\n\n    function checked(length) {\n      // Note: cannot use `length < kMaxLength()` here because that fails when\n      // length is NaN (which is otherwise coerced to zero.)\n      if (length >= kMaxLength()) {\n        throw new RangeError('Attempt to allocate Buffer larger than maximum ' + 'size: 0x' + kMaxLength().toString(16) + ' bytes');\n      }\n\n      return length | 0;\n    }\n\n    function SlowBuffer(length) {\n      if (+length != length) {\n        // eslint-disable-line eqeqeq\n        length = 0;\n      }\n\n      return Buffer.alloc(+length);\n    }\n\n    Buffer.isBuffer = function isBuffer(b) {\n      return !!(b != null && b._isBuffer);\n    };\n\n    Buffer.compare = function compare(a, b) {\n      if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n        throw new TypeError('Arguments must be Buffers');\n      }\n\n      if (a === b) return 0;\n      var x = a.length;\n      var y = b.length;\n\n      for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n        if (a[i] !== b[i]) {\n          x = a[i];\n          y = b[i];\n          break;\n        }\n      }\n\n      if (x < y) return -1;\n      if (y < x) return 1;\n      return 0;\n    };\n\n    Buffer.isEncoding = function isEncoding(encoding) {\n      switch (String(encoding).toLowerCase()) {\n        case 'hex':\n        case 'utf8':\n        case 'utf-8':\n        case 'ascii':\n        case 'latin1':\n        case 'binary':\n        case 'base64':\n        case 'ucs2':\n        case 'ucs-2':\n        case 'utf16le':\n        case 'utf-16le':\n          return true;\n\n        default:\n          return false;\n      }\n    };\n\n    Buffer.concat = function concat(list, length) {\n      if (!isArray(list)) {\n        throw new TypeError('\"list\" argument must be an Array of Buffers');\n      }\n\n      if (list.length === 0) {\n        return Buffer.alloc(0);\n      }\n\n      var i;\n\n      if (length === undefined) {\n        length = 0;\n\n        for (i = 0; i < list.length; ++i) {\n          length += list[i].length;\n        }\n      }\n\n      var buffer = Buffer.allocUnsafe(length);\n      var pos = 0;\n\n      for (i = 0; i < list.length; ++i) {\n        var buf = list[i];\n\n        if (!Buffer.isBuffer(buf)) {\n          throw new TypeError('\"list\" argument must be an Array of Buffers');\n        }\n\n        buf.copy(buffer, pos);\n        pos += buf.length;\n      }\n\n      return buffer;\n    };\n\n    function byteLength(string, encoding) {\n      if (Buffer.isBuffer(string)) {\n        return string.length;\n      }\n\n      if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' && (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n        return string.byteLength;\n      }\n\n      if (typeof string !== 'string') {\n        string = '' + string;\n      }\n\n      var len = string.length;\n      if (len === 0) return 0; // Use a for loop to avoid recursion\n\n      var loweredCase = false;\n\n      for (;;) {\n        switch (encoding) {\n          case 'ascii':\n          case 'latin1':\n          case 'binary':\n            return len;\n\n          case 'utf8':\n          case 'utf-8':\n          case undefined:\n            return utf8ToBytes(string).length;\n\n          case 'ucs2':\n          case 'ucs-2':\n          case 'utf16le':\n          case 'utf-16le':\n            return len * 2;\n\n          case 'hex':\n            return len >>> 1;\n\n          case 'base64':\n            return base64ToBytes(string).length;\n\n          default:\n            if (loweredCase) return utf8ToBytes(string).length; // assume utf8\n\n            encoding = ('' + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    }\n\n    Buffer.byteLength = byteLength;\n\n    function slowToString(encoding, start, end) {\n      var loweredCase = false; // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n      // property of a typed array.\n      // This behaves neither like String nor Uint8Array in that we set start/end\n      // to their upper/lower bounds if the value passed is out of range.\n      // undefined is handled specially as per ECMA-262 6th Edition,\n      // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n\n      if (start === undefined || start < 0) {\n        start = 0;\n      } // Return early if start > this.length. Done here to prevent potential uint32\n      // coercion fail below.\n\n\n      if (start > this.length) {\n        return '';\n      }\n\n      if (end === undefined || end > this.length) {\n        end = this.length;\n      }\n\n      if (end <= 0) {\n        return '';\n      } // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n\n\n      end >>>= 0;\n      start >>>= 0;\n\n      if (end <= start) {\n        return '';\n      }\n\n      if (!encoding) encoding = 'utf8';\n\n      while (true) {\n        switch (encoding) {\n          case 'hex':\n            return hexSlice(this, start, end);\n\n          case 'utf8':\n          case 'utf-8':\n            return utf8Slice(this, start, end);\n\n          case 'ascii':\n            return asciiSlice(this, start, end);\n\n          case 'latin1':\n          case 'binary':\n            return latin1Slice(this, start, end);\n\n          case 'base64':\n            return base64Slice(this, start, end);\n\n          case 'ucs2':\n          case 'ucs-2':\n          case 'utf16le':\n          case 'utf-16le':\n            return utf16leSlice(this, start, end);\n\n          default:\n            if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n            encoding = (encoding + '').toLowerCase();\n            loweredCase = true;\n        }\n      }\n    } // The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n    // Buffer instances.\n\n\n    Buffer.prototype._isBuffer = true;\n\n    function swap(b, n, m) {\n      var i = b[n];\n      b[n] = b[m];\n      b[m] = i;\n    }\n\n    Buffer.prototype.swap16 = function swap16() {\n      var len = this.length;\n\n      if (len % 2 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 16-bits');\n      }\n\n      for (var i = 0; i < len; i += 2) {\n        swap(this, i, i + 1);\n      }\n\n      return this;\n    };\n\n    Buffer.prototype.swap32 = function swap32() {\n      var len = this.length;\n\n      if (len % 4 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 32-bits');\n      }\n\n      for (var i = 0; i < len; i += 4) {\n        swap(this, i, i + 3);\n        swap(this, i + 1, i + 2);\n      }\n\n      return this;\n    };\n\n    Buffer.prototype.swap64 = function swap64() {\n      var len = this.length;\n\n      if (len % 8 !== 0) {\n        throw new RangeError('Buffer size must be a multiple of 64-bits');\n      }\n\n      for (var i = 0; i < len; i += 8) {\n        swap(this, i, i + 7);\n        swap(this, i + 1, i + 6);\n        swap(this, i + 2, i + 5);\n        swap(this, i + 3, i + 4);\n      }\n\n      return this;\n    };\n\n    Buffer.prototype.toString = function toString() {\n      var length = this.length | 0;\n      if (length === 0) return '';\n      if (arguments.length === 0) return utf8Slice(this, 0, length);\n      return slowToString.apply(this, arguments);\n    };\n\n    Buffer.prototype.equals = function equals(b) {\n      if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer');\n      if (this === b) return true;\n      return Buffer.compare(this, b) === 0;\n    };\n\n    Buffer.prototype.inspect = function inspect() {\n      var str = '';\n      var max = exports.INSPECT_MAX_BYTES;\n\n      if (this.length > 0) {\n        str = this.toString('hex', 0, max).match(/.{2}/g).join(' ');\n        if (this.length > max) str += ' ... ';\n      }\n\n      return '<Buffer ' + str + '>';\n    };\n\n    Buffer.prototype.compare = function compare(target, start, end, thisStart, thisEnd) {\n      if (!Buffer.isBuffer(target)) {\n        throw new TypeError('Argument must be a Buffer');\n      }\n\n      if (start === undefined) {\n        start = 0;\n      }\n\n      if (end === undefined) {\n        end = target ? target.length : 0;\n      }\n\n      if (thisStart === undefined) {\n        thisStart = 0;\n      }\n\n      if (thisEnd === undefined) {\n        thisEnd = this.length;\n      }\n\n      if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n        throw new RangeError('out of range index');\n      }\n\n      if (thisStart >= thisEnd && start >= end) {\n        return 0;\n      }\n\n      if (thisStart >= thisEnd) {\n        return -1;\n      }\n\n      if (start >= end) {\n        return 1;\n      }\n\n      start >>>= 0;\n      end >>>= 0;\n      thisStart >>>= 0;\n      thisEnd >>>= 0;\n      if (this === target) return 0;\n      var x = thisEnd - thisStart;\n      var y = end - start;\n      var len = Math.min(x, y);\n      var thisCopy = this.slice(thisStart, thisEnd);\n      var targetCopy = target.slice(start, end);\n\n      for (var i = 0; i < len; ++i) {\n        if (thisCopy[i] !== targetCopy[i]) {\n          x = thisCopy[i];\n          y = targetCopy[i];\n          break;\n        }\n      }\n\n      if (x < y) return -1;\n      if (y < x) return 1;\n      return 0;\n    }; // Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n    // OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n    //\n    // Arguments:\n    // - buffer - a Buffer to search\n    // - val - a string, Buffer, or number\n    // - byteOffset - an index into `buffer`; will be clamped to an int32\n    // - encoding - an optional encoding, relevant is val is a string\n    // - dir - true for indexOf, false for lastIndexOf\n\n\n    function bidirectionalIndexOf(buffer, val, byteOffset, encoding, dir) {\n      // Empty buffer means no match\n      if (buffer.length === 0) return -1; // Normalize byteOffset\n\n      if (typeof byteOffset === 'string') {\n        encoding = byteOffset;\n        byteOffset = 0;\n      } else if (byteOffset > 0x7fffffff) {\n        byteOffset = 0x7fffffff;\n      } else if (byteOffset < -0x80000000) {\n        byteOffset = -0x80000000;\n      }\n\n      byteOffset = +byteOffset; // Coerce to Number.\n\n      if (isNaN(byteOffset)) {\n        // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n        byteOffset = dir ? 0 : buffer.length - 1;\n      } // Normalize byteOffset: negative offsets start from the end of the buffer\n\n\n      if (byteOffset < 0) byteOffset = buffer.length + byteOffset;\n\n      if (byteOffset >= buffer.length) {\n        if (dir) return -1;else byteOffset = buffer.length - 1;\n      } else if (byteOffset < 0) {\n        if (dir) byteOffset = 0;else return -1;\n      } // Normalize val\n\n\n      if (typeof val === 'string') {\n        val = Buffer.from(val, encoding);\n      } // Finally, search either indexOf (if dir is true) or lastIndexOf\n\n\n      if (Buffer.isBuffer(val)) {\n        // Special case: looking for empty string/buffer always fails\n        if (val.length === 0) {\n          return -1;\n        }\n\n        return arrayIndexOf(buffer, val, byteOffset, encoding, dir);\n      } else if (typeof val === 'number') {\n        val = val & 0xFF; // Search for a byte value [0-255]\n\n        if (Buffer.TYPED_ARRAY_SUPPORT && typeof Uint8Array.prototype.indexOf === 'function') {\n          if (dir) {\n            return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset);\n          } else {\n            return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset);\n          }\n        }\n\n        return arrayIndexOf(buffer, [val], byteOffset, encoding, dir);\n      }\n\n      throw new TypeError('val must be string, number or Buffer');\n    }\n\n    function arrayIndexOf(arr, val, byteOffset, encoding, dir) {\n      var indexSize = 1;\n      var arrLength = arr.length;\n      var valLength = val.length;\n\n      if (encoding !== undefined) {\n        encoding = String(encoding).toLowerCase();\n\n        if (encoding === 'ucs2' || encoding === 'ucs-2' || encoding === 'utf16le' || encoding === 'utf-16le') {\n          if (arr.length < 2 || val.length < 2) {\n            return -1;\n          }\n\n          indexSize = 2;\n          arrLength /= 2;\n          valLength /= 2;\n          byteOffset /= 2;\n        }\n      }\n\n      function read(buf, i) {\n        if (indexSize === 1) {\n          return buf[i];\n        } else {\n          return buf.readUInt16BE(i * indexSize);\n        }\n      }\n\n      var i;\n\n      if (dir) {\n        var foundIndex = -1;\n\n        for (i = byteOffset; i < arrLength; i++) {\n          if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n            if (foundIndex === -1) foundIndex = i;\n            if (i - foundIndex + 1 === valLength) return foundIndex * indexSize;\n          } else {\n            if (foundIndex !== -1) i -= i - foundIndex;\n            foundIndex = -1;\n          }\n        }\n      } else {\n        if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength;\n\n        for (i = byteOffset; i >= 0; i--) {\n          var found = true;\n\n          for (var j = 0; j < valLength; j++) {\n            if (read(arr, i + j) !== read(val, j)) {\n              found = false;\n              break;\n            }\n          }\n\n          if (found) return i;\n        }\n      }\n\n      return -1;\n    }\n\n    Buffer.prototype.includes = function includes(val, byteOffset, encoding) {\n      return this.indexOf(val, byteOffset, encoding) !== -1;\n    };\n\n    Buffer.prototype.indexOf = function indexOf(val, byteOffset, encoding) {\n      return bidirectionalIndexOf(this, val, byteOffset, encoding, true);\n    };\n\n    Buffer.prototype.lastIndexOf = function lastIndexOf(val, byteOffset, encoding) {\n      return bidirectionalIndexOf(this, val, byteOffset, encoding, false);\n    };\n\n    function hexWrite(buf, string, offset, length) {\n      offset = Number(offset) || 0;\n      var remaining = buf.length - offset;\n\n      if (!length) {\n        length = remaining;\n      } else {\n        length = Number(length);\n\n        if (length > remaining) {\n          length = remaining;\n        }\n      } // must be an even number of digits\n\n\n      var strLen = string.length;\n      if (strLen % 2 !== 0) throw new TypeError('Invalid hex string');\n\n      if (length > strLen / 2) {\n        length = strLen / 2;\n      }\n\n      for (var i = 0; i < length; ++i) {\n        var parsed = parseInt(string.substr(i * 2, 2), 16);\n        if (isNaN(parsed)) return i;\n        buf[offset + i] = parsed;\n      }\n\n      return i;\n    }\n\n    function utf8Write(buf, string, offset, length) {\n      return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length);\n    }\n\n    function asciiWrite(buf, string, offset, length) {\n      return blitBuffer(asciiToBytes(string), buf, offset, length);\n    }\n\n    function latin1Write(buf, string, offset, length) {\n      return asciiWrite(buf, string, offset, length);\n    }\n\n    function base64Write(buf, string, offset, length) {\n      return blitBuffer(base64ToBytes(string), buf, offset, length);\n    }\n\n    function ucs2Write(buf, string, offset, length) {\n      return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length);\n    }\n\n    Buffer.prototype.write = function write(string, offset, length, encoding) {\n      // Buffer#write(string)\n      if (offset === undefined) {\n        encoding = 'utf8';\n        length = this.length;\n        offset = 0; // Buffer#write(string, encoding)\n      } else if (length === undefined && typeof offset === 'string') {\n        encoding = offset;\n        length = this.length;\n        offset = 0; // Buffer#write(string, offset[, length][, encoding])\n      } else if (isFinite(offset)) {\n        offset = offset | 0;\n\n        if (isFinite(length)) {\n          length = length | 0;\n          if (encoding === undefined) encoding = 'utf8';\n        } else {\n          encoding = length;\n          length = undefined;\n        } // legacy write(string, encoding, offset, length) - remove in v0.13\n\n      } else {\n        throw new Error('Buffer.write(string, encoding, offset[, length]) is no longer supported');\n      }\n\n      var remaining = this.length - offset;\n      if (length === undefined || length > remaining) length = remaining;\n\n      if (string.length > 0 && (length < 0 || offset < 0) || offset > this.length) {\n        throw new RangeError('Attempt to write outside buffer bounds');\n      }\n\n      if (!encoding) encoding = 'utf8';\n      var loweredCase = false;\n\n      for (;;) {\n        switch (encoding) {\n          case 'hex':\n            return hexWrite(this, string, offset, length);\n\n          case 'utf8':\n          case 'utf-8':\n            return utf8Write(this, string, offset, length);\n\n          case 'ascii':\n            return asciiWrite(this, string, offset, length);\n\n          case 'latin1':\n          case 'binary':\n            return latin1Write(this, string, offset, length);\n\n          case 'base64':\n            // Warning: maxLength not taken into account in base64Write\n            return base64Write(this, string, offset, length);\n\n          case 'ucs2':\n          case 'ucs-2':\n          case 'utf16le':\n          case 'utf-16le':\n            return ucs2Write(this, string, offset, length);\n\n          default:\n            if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding);\n            encoding = ('' + encoding).toLowerCase();\n            loweredCase = true;\n        }\n      }\n    };\n\n    Buffer.prototype.toJSON = function toJSON() {\n      return {\n        type: 'Buffer',\n        data: Array.prototype.slice.call(this._arr || this, 0)\n      };\n    };\n\n    function base64Slice(buf, start, end) {\n      if (start === 0 && end === buf.length) {\n        return base64.fromByteArray(buf);\n      } else {\n        return base64.fromByteArray(buf.slice(start, end));\n      }\n    }\n\n    function utf8Slice(buf, start, end) {\n      end = Math.min(buf.length, end);\n      var res = [];\n      var i = start;\n\n      while (i < end) {\n        var firstByte = buf[i];\n        var codePoint = null;\n        var bytesPerSequence = firstByte > 0xEF ? 4 : firstByte > 0xDF ? 3 : firstByte > 0xBF ? 2 : 1;\n\n        if (i + bytesPerSequence <= end) {\n          var secondByte, thirdByte, fourthByte, tempCodePoint;\n\n          switch (bytesPerSequence) {\n            case 1:\n              if (firstByte < 0x80) {\n                codePoint = firstByte;\n              }\n\n              break;\n\n            case 2:\n              secondByte = buf[i + 1];\n\n              if ((secondByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0x1F) << 0x6 | secondByte & 0x3F;\n\n                if (tempCodePoint > 0x7F) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n              break;\n\n            case 3:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n\n              if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | thirdByte & 0x3F;\n\n                if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n              break;\n\n            case 4:\n              secondByte = buf[i + 1];\n              thirdByte = buf[i + 2];\n              fourthByte = buf[i + 3];\n\n              if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n                tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | fourthByte & 0x3F;\n\n                if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n                  codePoint = tempCodePoint;\n                }\n              }\n\n          }\n        }\n\n        if (codePoint === null) {\n          // we did not generate a valid codePoint so insert a\n          // replacement char (U+FFFD) and advance only 1 byte\n          codePoint = 0xFFFD;\n          bytesPerSequence = 1;\n        } else if (codePoint > 0xFFFF) {\n          // encode to utf16 (surrogate pair dance)\n          codePoint -= 0x10000;\n          res.push(codePoint >>> 10 & 0x3FF | 0xD800);\n          codePoint = 0xDC00 | codePoint & 0x3FF;\n        }\n\n        res.push(codePoint);\n        i += bytesPerSequence;\n      }\n\n      return decodeCodePointsArray(res);\n    } // Based on http://stackoverflow.com/a/22747272/680742, the browser with\n    // the lowest limit is Chrome, with 0x10000 args.\n    // We go 1 magnitude less, for safety\n\n\n    var MAX_ARGUMENTS_LENGTH = 0x1000;\n\n    function decodeCodePointsArray(codePoints) {\n      var len = codePoints.length;\n\n      if (len <= MAX_ARGUMENTS_LENGTH) {\n        return String.fromCharCode.apply(String, codePoints); // avoid extra slice()\n      } // Decode in chunks to avoid \"call stack size exceeded\".\n\n\n      var res = '';\n      var i = 0;\n\n      while (i < len) {\n        res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n      }\n\n      return res;\n    }\n\n    function asciiSlice(buf, start, end) {\n      var ret = '';\n      end = Math.min(buf.length, end);\n\n      for (var i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i] & 0x7F);\n      }\n\n      return ret;\n    }\n\n    function latin1Slice(buf, start, end) {\n      var ret = '';\n      end = Math.min(buf.length, end);\n\n      for (var i = start; i < end; ++i) {\n        ret += String.fromCharCode(buf[i]);\n      }\n\n      return ret;\n    }\n\n    function hexSlice(buf, start, end) {\n      var len = buf.length;\n      if (!start || start < 0) start = 0;\n      if (!end || end < 0 || end > len) end = len;\n      var out = '';\n\n      for (var i = start; i < end; ++i) {\n        out += toHex(buf[i]);\n      }\n\n      return out;\n    }\n\n    function utf16leSlice(buf, start, end) {\n      var bytes = buf.slice(start, end);\n      var res = '';\n\n      for (var i = 0; i < bytes.length; i += 2) {\n        res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256);\n      }\n\n      return res;\n    }\n\n    Buffer.prototype.slice = function slice(start, end) {\n      var len = this.length;\n      start = ~~start;\n      end = end === undefined ? len : ~~end;\n\n      if (start < 0) {\n        start += len;\n        if (start < 0) start = 0;\n      } else if (start > len) {\n        start = len;\n      }\n\n      if (end < 0) {\n        end += len;\n        if (end < 0) end = 0;\n      } else if (end > len) {\n        end = len;\n      }\n\n      if (end < start) end = start;\n      var newBuf;\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        newBuf = this.subarray(start, end);\n        newBuf.__proto__ = Buffer.prototype;\n      } else {\n        var sliceLen = end - start;\n        newBuf = new Buffer(sliceLen, undefined);\n\n        for (var i = 0; i < sliceLen; ++i) {\n          newBuf[i] = this[i + start];\n        }\n      }\n\n      return newBuf;\n    };\n    /*\n     * Need to make sure that buffer isn't trying to write out of bounds.\n     */\n\n\n    function checkOffset(offset, ext, length) {\n      if (offset % 1 !== 0 || offset < 0) throw new RangeError('offset is not uint');\n      if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length');\n    }\n\n    Buffer.prototype.readUIntLE = function readUIntLE(offset, byteLength, noAssert) {\n      offset = offset | 0;\n      byteLength = byteLength | 0;\n      if (!noAssert) checkOffset(offset, byteLength, this.length);\n      var val = this[offset];\n      var mul = 1;\n      var i = 0;\n\n      while (++i < byteLength && (mul *= 0x100)) {\n        val += this[offset + i] * mul;\n      }\n\n      return val;\n    };\n\n    Buffer.prototype.readUIntBE = function readUIntBE(offset, byteLength, noAssert) {\n      offset = offset | 0;\n      byteLength = byteLength | 0;\n\n      if (!noAssert) {\n        checkOffset(offset, byteLength, this.length);\n      }\n\n      var val = this[offset + --byteLength];\n      var mul = 1;\n\n      while (byteLength > 0 && (mul *= 0x100)) {\n        val += this[offset + --byteLength] * mul;\n      }\n\n      return val;\n    };\n\n    Buffer.prototype.readUInt8 = function readUInt8(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 1, this.length);\n      return this[offset];\n    };\n\n    Buffer.prototype.readUInt16LE = function readUInt16LE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      return this[offset] | this[offset + 1] << 8;\n    };\n\n    Buffer.prototype.readUInt16BE = function readUInt16BE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      return this[offset] << 8 | this[offset + 1];\n    };\n\n    Buffer.prototype.readUInt32LE = function readUInt32LE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return (this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16) + this[offset + 3] * 0x1000000;\n    };\n\n    Buffer.prototype.readUInt32BE = function readUInt32BE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] * 0x1000000 + (this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3]);\n    };\n\n    Buffer.prototype.readIntLE = function readIntLE(offset, byteLength, noAssert) {\n      offset = offset | 0;\n      byteLength = byteLength | 0;\n      if (!noAssert) checkOffset(offset, byteLength, this.length);\n      var val = this[offset];\n      var mul = 1;\n      var i = 0;\n\n      while (++i < byteLength && (mul *= 0x100)) {\n        val += this[offset + i] * mul;\n      }\n\n      mul *= 0x80;\n      if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n      return val;\n    };\n\n    Buffer.prototype.readIntBE = function readIntBE(offset, byteLength, noAssert) {\n      offset = offset | 0;\n      byteLength = byteLength | 0;\n      if (!noAssert) checkOffset(offset, byteLength, this.length);\n      var i = byteLength;\n      var mul = 1;\n      var val = this[offset + --i];\n\n      while (i > 0 && (mul *= 0x100)) {\n        val += this[offset + --i] * mul;\n      }\n\n      mul *= 0x80;\n      if (val >= mul) val -= Math.pow(2, 8 * byteLength);\n      return val;\n    };\n\n    Buffer.prototype.readInt8 = function readInt8(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 1, this.length);\n      if (!(this[offset] & 0x80)) return this[offset];\n      return (0xff - this[offset] + 1) * -1;\n    };\n\n    Buffer.prototype.readInt16LE = function readInt16LE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      var val = this[offset] | this[offset + 1] << 8;\n      return val & 0x8000 ? val | 0xFFFF0000 : val;\n    };\n\n    Buffer.prototype.readInt16BE = function readInt16BE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 2, this.length);\n      var val = this[offset + 1] | this[offset] << 8;\n      return val & 0x8000 ? val | 0xFFFF0000 : val;\n    };\n\n    Buffer.prototype.readInt32LE = function readInt32LE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] | this[offset + 1] << 8 | this[offset + 2] << 16 | this[offset + 3] << 24;\n    };\n\n    Buffer.prototype.readInt32BE = function readInt32BE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return this[offset] << 24 | this[offset + 1] << 16 | this[offset + 2] << 8 | this[offset + 3];\n    };\n\n    Buffer.prototype.readFloatLE = function readFloatLE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return ieee754.read(this, offset, true, 23, 4);\n    };\n\n    Buffer.prototype.readFloatBE = function readFloatBE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 4, this.length);\n      return ieee754.read(this, offset, false, 23, 4);\n    };\n\n    Buffer.prototype.readDoubleLE = function readDoubleLE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 8, this.length);\n      return ieee754.read(this, offset, true, 52, 8);\n    };\n\n    Buffer.prototype.readDoubleBE = function readDoubleBE(offset, noAssert) {\n      if (!noAssert) checkOffset(offset, 8, this.length);\n      return ieee754.read(this, offset, false, 52, 8);\n    };\n\n    function checkInt(buf, value, offset, ext, max, min) {\n      if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance');\n      if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds');\n      if (offset + ext > buf.length) throw new RangeError('Index out of range');\n    }\n\n    Buffer.prototype.writeUIntLE = function writeUIntLE(value, offset, byteLength, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      byteLength = byteLength | 0;\n\n      if (!noAssert) {\n        var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n        checkInt(this, value, offset, byteLength, maxBytes, 0);\n      }\n\n      var mul = 1;\n      var i = 0;\n      this[offset] = value & 0xFF;\n\n      while (++i < byteLength && (mul *= 0x100)) {\n        this[offset + i] = value / mul & 0xFF;\n      }\n\n      return offset + byteLength;\n    };\n\n    Buffer.prototype.writeUIntBE = function writeUIntBE(value, offset, byteLength, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      byteLength = byteLength | 0;\n\n      if (!noAssert) {\n        var maxBytes = Math.pow(2, 8 * byteLength) - 1;\n        checkInt(this, value, offset, byteLength, maxBytes, 0);\n      }\n\n      var i = byteLength - 1;\n      var mul = 1;\n      this[offset + i] = value & 0xFF;\n\n      while (--i >= 0 && (mul *= 0x100)) {\n        this[offset + i] = value / mul & 0xFF;\n      }\n\n      return offset + byteLength;\n    };\n\n    Buffer.prototype.writeUInt8 = function writeUInt8(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0);\n      if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n      this[offset] = value & 0xff;\n      return offset + 1;\n    };\n\n    function objectWriteUInt16(buf, value, offset, littleEndian) {\n      if (value < 0) value = 0xffff + value + 1;\n\n      for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n        buf[offset + i] = (value & 0xff << 8 * (littleEndian ? i : 1 - i)) >>> (littleEndian ? i : 1 - i) * 8;\n      }\n    }\n\n    Buffer.prototype.writeUInt16LE = function writeUInt16LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 0xff;\n        this[offset + 1] = value >>> 8;\n      } else {\n        objectWriteUInt16(this, value, offset, true);\n      }\n\n      return offset + 2;\n    };\n\n    Buffer.prototype.writeUInt16BE = function writeUInt16BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 8;\n        this[offset + 1] = value & 0xff;\n      } else {\n        objectWriteUInt16(this, value, offset, false);\n      }\n\n      return offset + 2;\n    };\n\n    function objectWriteUInt32(buf, value, offset, littleEndian) {\n      if (value < 0) value = 0xffffffff + value + 1;\n\n      for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n        buf[offset + i] = value >>> (littleEndian ? i : 3 - i) * 8 & 0xff;\n      }\n    }\n\n    Buffer.prototype.writeUInt32LE = function writeUInt32LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset + 3] = value >>> 24;\n        this[offset + 2] = value >>> 16;\n        this[offset + 1] = value >>> 8;\n        this[offset] = value & 0xff;\n      } else {\n        objectWriteUInt32(this, value, offset, true);\n      }\n\n      return offset + 4;\n    };\n\n    Buffer.prototype.writeUInt32BE = function writeUInt32BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 24;\n        this[offset + 1] = value >>> 16;\n        this[offset + 2] = value >>> 8;\n        this[offset + 3] = value & 0xff;\n      } else {\n        objectWriteUInt32(this, value, offset, false);\n      }\n\n      return offset + 4;\n    };\n\n    Buffer.prototype.writeIntLE = function writeIntLE(value, offset, byteLength, noAssert) {\n      value = +value;\n      offset = offset | 0;\n\n      if (!noAssert) {\n        var limit = Math.pow(2, 8 * byteLength - 1);\n        checkInt(this, value, offset, byteLength, limit - 1, -limit);\n      }\n\n      var i = 0;\n      var mul = 1;\n      var sub = 0;\n      this[offset] = value & 0xFF;\n\n      while (++i < byteLength && (mul *= 0x100)) {\n        if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n          sub = 1;\n        }\n\n        this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n      }\n\n      return offset + byteLength;\n    };\n\n    Buffer.prototype.writeIntBE = function writeIntBE(value, offset, byteLength, noAssert) {\n      value = +value;\n      offset = offset | 0;\n\n      if (!noAssert) {\n        var limit = Math.pow(2, 8 * byteLength - 1);\n        checkInt(this, value, offset, byteLength, limit - 1, -limit);\n      }\n\n      var i = byteLength - 1;\n      var mul = 1;\n      var sub = 0;\n      this[offset + i] = value & 0xFF;\n\n      while (--i >= 0 && (mul *= 0x100)) {\n        if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n          sub = 1;\n        }\n\n        this[offset + i] = (value / mul >> 0) - sub & 0xFF;\n      }\n\n      return offset + byteLength;\n    };\n\n    Buffer.prototype.writeInt8 = function writeInt8(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80);\n      if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value);\n      if (value < 0) value = 0xff + value + 1;\n      this[offset] = value & 0xff;\n      return offset + 1;\n    };\n\n    Buffer.prototype.writeInt16LE = function writeInt16LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 0xff;\n        this[offset + 1] = value >>> 8;\n      } else {\n        objectWriteUInt16(this, value, offset, true);\n      }\n\n      return offset + 2;\n    };\n\n    Buffer.prototype.writeInt16BE = function writeInt16BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 8;\n        this[offset + 1] = value & 0xff;\n      } else {\n        objectWriteUInt16(this, value, offset, false);\n      }\n\n      return offset + 2;\n    };\n\n    Buffer.prototype.writeInt32LE = function writeInt32LE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value & 0xff;\n        this[offset + 1] = value >>> 8;\n        this[offset + 2] = value >>> 16;\n        this[offset + 3] = value >>> 24;\n      } else {\n        objectWriteUInt32(this, value, offset, true);\n      }\n\n      return offset + 4;\n    };\n\n    Buffer.prototype.writeInt32BE = function writeInt32BE(value, offset, noAssert) {\n      value = +value;\n      offset = offset | 0;\n      if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000);\n      if (value < 0) value = 0xffffffff + value + 1;\n\n      if (Buffer.TYPED_ARRAY_SUPPORT) {\n        this[offset] = value >>> 24;\n        this[offset + 1] = value >>> 16;\n        this[offset + 2] = value >>> 8;\n        this[offset + 3] = value & 0xff;\n      } else {\n        objectWriteUInt32(this, value, offset, false);\n      }\n\n      return offset + 4;\n    };\n\n    function checkIEEE754(buf, value, offset, ext, max, min) {\n      if (offset + ext > buf.length) throw new RangeError('Index out of range');\n      if (offset < 0) throw new RangeError('Index out of range');\n    }\n\n    function writeFloat(buf, value, offset, littleEndian, noAssert) {\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38);\n      }\n\n      ieee754.write(buf, value, offset, littleEndian, 23, 4);\n      return offset + 4;\n    }\n\n    Buffer.prototype.writeFloatLE = function writeFloatLE(value, offset, noAssert) {\n      return writeFloat(this, value, offset, true, noAssert);\n    };\n\n    Buffer.prototype.writeFloatBE = function writeFloatBE(value, offset, noAssert) {\n      return writeFloat(this, value, offset, false, noAssert);\n    };\n\n    function writeDouble(buf, value, offset, littleEndian, noAssert) {\n      if (!noAssert) {\n        checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308);\n      }\n\n      ieee754.write(buf, value, offset, littleEndian, 52, 8);\n      return offset + 8;\n    }\n\n    Buffer.prototype.writeDoubleLE = function writeDoubleLE(value, offset, noAssert) {\n      return writeDouble(this, value, offset, true, noAssert);\n    };\n\n    Buffer.prototype.writeDoubleBE = function writeDoubleBE(value, offset, noAssert) {\n      return writeDouble(this, value, offset, false, noAssert);\n    }; // copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\n\n\n    Buffer.prototype.copy = function copy(target, targetStart, start, end) {\n      if (!start) start = 0;\n      if (!end && end !== 0) end = this.length;\n      if (targetStart >= target.length) targetStart = target.length;\n      if (!targetStart) targetStart = 0;\n      if (end > 0 && end < start) end = start; // Copy 0 bytes; we're done\n\n      if (end === start) return 0;\n      if (target.length === 0 || this.length === 0) return 0; // Fatal error conditions\n\n      if (targetStart < 0) {\n        throw new RangeError('targetStart out of bounds');\n      }\n\n      if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds');\n      if (end < 0) throw new RangeError('sourceEnd out of bounds'); // Are we oob?\n\n      if (end > this.length) end = this.length;\n\n      if (target.length - targetStart < end - start) {\n        end = target.length - targetStart + start;\n      }\n\n      var len = end - start;\n      var i;\n\n      if (this === target && start < targetStart && targetStart < end) {\n        // descending copy from end\n        for (i = len - 1; i >= 0; --i) {\n          target[i + targetStart] = this[i + start];\n        }\n      } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n        // ascending copy from start\n        for (i = 0; i < len; ++i) {\n          target[i + targetStart] = this[i + start];\n        }\n      } else {\n        Uint8Array.prototype.set.call(target, this.subarray(start, start + len), targetStart);\n      }\n\n      return len;\n    }; // Usage:\n    //    buffer.fill(number[, offset[, end]])\n    //    buffer.fill(buffer[, offset[, end]])\n    //    buffer.fill(string[, offset[, end]][, encoding])\n\n\n    Buffer.prototype.fill = function fill(val, start, end, encoding) {\n      // Handle string cases:\n      if (typeof val === 'string') {\n        if (typeof start === 'string') {\n          encoding = start;\n          start = 0;\n          end = this.length;\n        } else if (typeof end === 'string') {\n          encoding = end;\n          end = this.length;\n        }\n\n        if (val.length === 1) {\n          var code = val.charCodeAt(0);\n\n          if (code < 256) {\n            val = code;\n          }\n        }\n\n        if (encoding !== undefined && typeof encoding !== 'string') {\n          throw new TypeError('encoding must be a string');\n        }\n\n        if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n          throw new TypeError('Unknown encoding: ' + encoding);\n        }\n      } else if (typeof val === 'number') {\n        val = val & 255;\n      } // Invalid ranges are not set to a default, so can range check early.\n\n\n      if (start < 0 || this.length < start || this.length < end) {\n        throw new RangeError('Out of range index');\n      }\n\n      if (end <= start) {\n        return this;\n      }\n\n      start = start >>> 0;\n      end = end === undefined ? this.length : end >>> 0;\n      if (!val) val = 0;\n      var i;\n\n      if (typeof val === 'number') {\n        for (i = start; i < end; ++i) {\n          this[i] = val;\n        }\n      } else {\n        var bytes = Buffer.isBuffer(val) ? val : utf8ToBytes(new Buffer(val, encoding).toString());\n        var len = bytes.length;\n\n        for (i = 0; i < end - start; ++i) {\n          this[i + start] = bytes[i % len];\n        }\n      }\n\n      return this;\n    }; // HELPER FUNCTIONS\n    // ================\n\n\n    var INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g;\n\n    function base64clean(str) {\n      // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n      str = stringtrim(str).replace(INVALID_BASE64_RE, ''); // Node converts strings with length < 2 to ''\n\n      if (str.length < 2) return ''; // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n\n      while (str.length % 4 !== 0) {\n        str = str + '=';\n      }\n\n      return str;\n    }\n\n    function stringtrim(str) {\n      if (str.trim) return str.trim();\n      return str.replace(/^\\s+|\\s+$/g, '');\n    }\n\n    function toHex(n) {\n      if (n < 16) return '0' + n.toString(16);\n      return n.toString(16);\n    }\n\n    function utf8ToBytes(string, units) {\n      units = units || Infinity;\n      var codePoint;\n      var length = string.length;\n      var leadSurrogate = null;\n      var bytes = [];\n\n      for (var i = 0; i < length; ++i) {\n        codePoint = string.charCodeAt(i); // is surrogate component\n\n        if (codePoint > 0xD7FF && codePoint < 0xE000) {\n          // last char was a lead\n          if (!leadSurrogate) {\n            // no lead yet\n            if (codePoint > 0xDBFF) {\n              // unexpected trail\n              if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n              continue;\n            } else if (i + 1 === length) {\n              // unpaired lead\n              if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n              continue;\n            } // valid lead\n\n\n            leadSurrogate = codePoint;\n            continue;\n          } // 2 leads in a row\n\n\n          if (codePoint < 0xDC00) {\n            if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n            leadSurrogate = codePoint;\n            continue;\n          } // valid surrogate pair\n\n\n          codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000;\n        } else if (leadSurrogate) {\n          // valid bmp char, but last char was a lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD);\n        }\n\n        leadSurrogate = null; // encode utf8\n\n        if (codePoint < 0x80) {\n          if ((units -= 1) < 0) break;\n          bytes.push(codePoint);\n        } else if (codePoint < 0x800) {\n          if ((units -= 2) < 0) break;\n          bytes.push(codePoint >> 0x6 | 0xC0, codePoint & 0x3F | 0x80);\n        } else if (codePoint < 0x10000) {\n          if ((units -= 3) < 0) break;\n          bytes.push(codePoint >> 0xC | 0xE0, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        } else if (codePoint < 0x110000) {\n          if ((units -= 4) < 0) break;\n          bytes.push(codePoint >> 0x12 | 0xF0, codePoint >> 0xC & 0x3F | 0x80, codePoint >> 0x6 & 0x3F | 0x80, codePoint & 0x3F | 0x80);\n        } else {\n          throw new Error('Invalid code point');\n        }\n      }\n\n      return bytes;\n    }\n\n    function asciiToBytes(str) {\n      var byteArray = [];\n\n      for (var i = 0; i < str.length; ++i) {\n        // Node's code seems to be doing this and not & 0x7F..\n        byteArray.push(str.charCodeAt(i) & 0xFF);\n      }\n\n      return byteArray;\n    }\n\n    function utf16leToBytes(str, units) {\n      var c, hi, lo;\n      var byteArray = [];\n\n      for (var i = 0; i < str.length; ++i) {\n        if ((units -= 2) < 0) break;\n        c = str.charCodeAt(i);\n        hi = c >> 8;\n        lo = c % 256;\n        byteArray.push(lo);\n        byteArray.push(hi);\n      }\n\n      return byteArray;\n    }\n\n    function base64ToBytes(str) {\n      return base64.toByteArray(base64clean(str));\n    }\n\n    function blitBuffer(src, dst, offset, length) {\n      for (var i = 0; i < length; ++i) {\n        if (i + offset >= dst.length || i >= src.length) break;\n        dst[i + offset] = src[i];\n      }\n\n      return i;\n    }\n\n    function isnan(val) {\n      return val !== val; // eslint-disable-line no-self-compare\n    }\n    /* WEBPACK VAR INJECTION */\n\n  }).call(this, __webpack_require__(20));\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  exports.byteLength = byteLength;\n  exports.toByteArray = toByteArray;\n  exports.fromByteArray = fromByteArray;\n  var lookup = [];\n  var revLookup = [];\n  var Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i];\n    revLookup[code.charCodeAt(i)] = i;\n  } // Support decoding URL-safe base64 strings, as Node.js does.\n  // See: https://en.wikipedia.org/wiki/Base64#URL_applications\n\n\n  revLookup['-'.charCodeAt(0)] = 62;\n  revLookup['_'.charCodeAt(0)] = 63;\n\n  function getLens(b64) {\n    var len = b64.length;\n\n    if (len % 4 > 0) {\n      throw new Error('Invalid string. Length must be a multiple of 4');\n    } // Trim off extra bytes after placeholder bytes are found\n    // See: https://github.com/beatgammit/base64-js/issues/42\n\n\n    var validLen = b64.indexOf('=');\n    if (validLen === -1) validLen = len;\n    var placeHoldersLen = validLen === len ? 0 : 4 - validLen % 4;\n    return [validLen, placeHoldersLen];\n  } // base64 is 4/3 + up to two characters of the original data\n\n\n  function byteLength(b64) {\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n  }\n\n  function _byteLength(b64, validLen, placeHoldersLen) {\n    return (validLen + placeHoldersLen) * 3 / 4 - placeHoldersLen;\n  }\n\n  function toByteArray(b64) {\n    var tmp;\n    var lens = getLens(b64);\n    var validLen = lens[0];\n    var placeHoldersLen = lens[1];\n    var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen));\n    var curByte = 0; // if there are placeholders, only get up to the last complete 4 chars\n\n    var len = placeHoldersLen > 0 ? validLen - 4 : validLen;\n    var i;\n\n    for (i = 0; i < len; i += 4) {\n      tmp = revLookup[b64.charCodeAt(i)] << 18 | revLookup[b64.charCodeAt(i + 1)] << 12 | revLookup[b64.charCodeAt(i + 2)] << 6 | revLookup[b64.charCodeAt(i + 3)];\n      arr[curByte++] = tmp >> 16 & 0xFF;\n      arr[curByte++] = tmp >> 8 & 0xFF;\n      arr[curByte++] = tmp & 0xFF;\n    }\n\n    if (placeHoldersLen === 2) {\n      tmp = revLookup[b64.charCodeAt(i)] << 2 | revLookup[b64.charCodeAt(i + 1)] >> 4;\n      arr[curByte++] = tmp & 0xFF;\n    }\n\n    if (placeHoldersLen === 1) {\n      tmp = revLookup[b64.charCodeAt(i)] << 10 | revLookup[b64.charCodeAt(i + 1)] << 4 | revLookup[b64.charCodeAt(i + 2)] >> 2;\n      arr[curByte++] = tmp >> 8 & 0xFF;\n      arr[curByte++] = tmp & 0xFF;\n    }\n\n    return arr;\n  }\n\n  function tripletToBase64(num) {\n    return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F];\n  }\n\n  function encodeChunk(uint8, start, end) {\n    var tmp;\n    var output = [];\n\n    for (var i = start; i < end; i += 3) {\n      tmp = (uint8[i] << 16 & 0xFF0000) + (uint8[i + 1] << 8 & 0xFF00) + (uint8[i + 2] & 0xFF);\n      output.push(tripletToBase64(tmp));\n    }\n\n    return output.join('');\n  }\n\n  function fromByteArray(uint8) {\n    var tmp;\n    var len = uint8.length;\n    var extraBytes = len % 3; // if we have 1 byte left, pad 2 bytes\n\n    var parts = [];\n    var maxChunkLength = 16383; // must be multiple of 3\n    // go through the array every three bytes, we'll deal with trailing stuff later\n\n    for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n      parts.push(encodeChunk(uint8, i, i + maxChunkLength > len2 ? len2 : i + maxChunkLength));\n    } // pad the end with zeros, but make sure to not forget the extra bytes\n\n\n    if (extraBytes === 1) {\n      tmp = uint8[len - 1];\n      parts.push(lookup[tmp >> 2] + lookup[tmp << 4 & 0x3F] + '==');\n    } else if (extraBytes === 2) {\n      tmp = (uint8[len - 2] << 8) + uint8[len - 1];\n      parts.push(lookup[tmp >> 10] + lookup[tmp >> 4 & 0x3F] + lookup[tmp << 2 & 0x3F] + '=');\n    }\n\n    return parts.join('');\n  }\n  /***/\n\n}, function (module, exports) {\n  exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n    var e, m;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var nBits = -7;\n    var i = isLE ? nBytes - 1 : 0;\n    var d = isLE ? -1 : 1;\n    var s = buffer[offset + i];\n    i += d;\n    e = s & (1 << -nBits) - 1;\n    s >>= -nBits;\n    nBits += eLen;\n\n    for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    m = e & (1 << -nBits) - 1;\n    e >>= -nBits;\n    nBits += mLen;\n\n    for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n    if (e === 0) {\n      e = 1 - eBias;\n    } else if (e === eMax) {\n      return m ? NaN : (s ? -1 : 1) * Infinity;\n    } else {\n      m = m + Math.pow(2, mLen);\n      e = e - eBias;\n    }\n\n    return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n  };\n\n  exports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n    var e, m, c;\n    var eLen = nBytes * 8 - mLen - 1;\n    var eMax = (1 << eLen) - 1;\n    var eBias = eMax >> 1;\n    var rt = mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0;\n    var i = isLE ? 0 : nBytes - 1;\n    var d = isLE ? 1 : -1;\n    var s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0;\n    value = Math.abs(value);\n\n    if (isNaN(value) || value === Infinity) {\n      m = isNaN(value) ? 1 : 0;\n      e = eMax;\n    } else {\n      e = Math.floor(Math.log(value) / Math.LN2);\n\n      if (value * (c = Math.pow(2, -e)) < 1) {\n        e--;\n        c *= 2;\n      }\n\n      if (e + eBias >= 1) {\n        value += rt / c;\n      } else {\n        value += rt * Math.pow(2, 1 - eBias);\n      }\n\n      if (value * c >= 2) {\n        e++;\n        c /= 2;\n      }\n\n      if (e + eBias >= eMax) {\n        m = 0;\n        e = eMax;\n      } else if (e + eBias >= 1) {\n        m = (value * c - 1) * Math.pow(2, mLen);\n        e = e + eBias;\n      } else {\n        m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n        e = 0;\n      }\n    }\n\n    for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n    e = e << mLen | m;\n    eLen += mLen;\n\n    for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n    buffer[offset + i - d] |= s * 128;\n  };\n  /***/\n\n}, function (module, exports) {\n  var toString = {}.toString;\n\n  module.exports = Array.isArray || function (arr) {\n    return toString.call(arr) == '[object Array]';\n  };\n  /***/\n\n}, function (module, exports, __webpack_require__) {\n  module.exports = __webpack_require__(41).default;\n  module.exports.default = module.exports;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /* WEBPACK VAR INJECTION */\n\n  (function (Buffer) {\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    var pad_string_1 = __webpack_require__(42);\n\n    function encode(input, encoding) {\n      if (encoding === void 0) {\n        encoding = \"utf8\";\n      }\n\n      if (Buffer.isBuffer(input)) {\n        return fromBase64(input.toString(\"base64\"));\n      }\n\n      return fromBase64(Buffer.from(input, encoding).toString(\"base64\"));\n    }\n\n    ;\n\n    function decode(base64url, encoding) {\n      if (encoding === void 0) {\n        encoding = \"utf8\";\n      }\n\n      return Buffer.from(toBase64(base64url), \"base64\").toString(encoding);\n    }\n\n    function toBase64(base64url) {\n      base64url = base64url.toString();\n      return pad_string_1.default(base64url).replace(/\\-/g, \"+\").replace(/_/g, \"/\");\n    }\n\n    function fromBase64(base64) {\n      return base64.replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n    }\n\n    function toBuffer(base64url) {\n      return Buffer.from(toBase64(base64url), \"base64\");\n    }\n\n    var base64url = encode;\n    base64url.encode = encode;\n    base64url.decode = decode;\n    base64url.toBase64 = toBase64;\n    base64url.fromBase64 = fromBase64;\n    base64url.toBuffer = toBuffer;\n    exports.default = base64url;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(36).Buffer);\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /* WEBPACK VAR INJECTION */\n\n  (function (Buffer) {\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n\n    function padString(input) {\n      var segmentLength = 4;\n      var stringLength = input.length;\n      var diff = stringLength % segmentLength;\n\n      if (!diff) {\n        return input;\n      }\n\n      var position = stringLength;\n      var padLength = segmentLength - diff;\n      var paddedStringLength = stringLength + padLength;\n      var buffer = Buffer.alloc(paddedStringLength);\n      buffer.write(input);\n\n      while (padLength--) {\n        buffer.write(\"=\", position++);\n      }\n\n      return buffer.toString();\n    }\n\n    exports.default = padString;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(36).Buffer);\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /* WEBPACK VAR INJECTION */\n  (function (global) {\n    const TextEncoder = global.TextEncoder ? global.TextEncoder // browser\n    : __webpack_require__(44).TextEncoder; // node shim\n\n    module.exports = TextEncoder;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(20));\n  /***/\n}, function (module, exports) {\n  /* (ignored) */\n\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /* WEBPACK VAR INJECTION */\n\n  (function (Buffer) {\n    /**\n     * Dependencies\n     * @ignore\n     */\n    const base64url = __webpack_require__(40);\n\n    let crypto = __webpack_require__(29);\n\n    const TextEncoder = __webpack_require__(43);\n    /**\n     * RSASSA-PKCS1-v1_5\n     */\n\n\n    class RSASSA_PKCS1_v1_5 {\n      /**\n       * constructor\n       *\n       * @param {string} bitlength\n       */\n      constructor(params) {\n        this.params = params;\n      }\n      /**\n       * sign\n       *\n       * @description\n       * Generate a digital signature for a given input and private key.\n       *\n       * @param {CryptoKey} key\n       * @param {BufferSource} data\n       *\n       * @returns {Promise}\n       */\n\n\n      sign(key, data) {\n        let algorithm = this.params; // TODO\n        //if (!this.sufficientKeySize()) {\n        //  return Promise.reject(\n        //    new Error(\n        //      'A key size of 2048 bits or larger must be used with RSASSA-PKCS1-v1_5'\n        //    )\n        //  )\n        //}\n\n        data = new TextEncoder().encode(data);\n        return crypto.subtle.sign(algorithm, key, data).then(signature => base64url(Buffer.from(signature)));\n      }\n      /**\n       * verify\n       *\n       * @description\n       * Verify a digital signature for a given input and private key.\n       *\n       * @param {CryptoKey} key\n       * @param {BufferSource} signature\n       * @param {BufferSource} data\n       *\n       * @returns {Promise}\n       */\n\n\n      verify(key, signature, data) {\n        let algorithm = this.params;\n\n        if (typeof signature === 'string') {\n          signature = Uint8Array.from(base64url.toBuffer(signature));\n        }\n\n        if (typeof data === 'string') {\n          data = new TextEncoder().encode(data);\n        } // ...\n\n\n        return crypto.subtle.verify(algorithm, key, signature, data);\n      }\n      /**\n       * importKey\n       *\n       * @param {JWK} key\n       * @returns {Promise}\n       */\n\n\n      async importKey(key) {\n        let jwk = Object.assign({}, key);\n        let algorithm = this.params;\n        let usages = key['key_ops'] || [];\n\n        if (key.use === 'sig') {\n          usages.push('verify');\n        }\n\n        if (key.use === 'enc') {\n          // TODO: handle encryption keys\n          return Promise.resolve(key);\n        }\n\n        if (key.key_ops) {\n          usages = key.key_ops;\n        }\n\n        return crypto.subtle.importKey('jwk', jwk, algorithm, true, usages).then(cryptoKey => {\n          Object.defineProperty(jwk, 'cryptoKey', {\n            enumerable: false,\n            value: cryptoKey\n          });\n          return jwk;\n        });\n      }\n\n    }\n    /**\n     * Export\n     */\n\n\n    module.exports = RSASSA_PKCS1_v1_5;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(36).Buffer);\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /**\n   * Dependencies\n   */\n  const NotSupportedError = __webpack_require__(47);\n  /**\n   * Operations\n   */\n\n\n  const operations = ['sign', 'verify', 'encrypt', 'decrypt', 'importKey'];\n  /**\n   * SupportedAlgorithms\n   */\n\n  class SupportedAlgorithms {\n    /**\n     * constructor\n     */\n    constructor() {\n      operations.forEach(op => {\n        this[op] = {};\n      });\n    }\n    /**\n     * Supported Operations\n     */\n\n\n    static get operations() {\n      return operations;\n    }\n    /**\n     * define\n     *\n     * @description\n     * Register Web Crypto API algorithm parameter for an algorithm\n     * and operation.\n     *\n     * @param {string} alg\n     * @param {string} op\n     * @param {Object} argument\n     */\n\n\n    define(alg, op, argument) {\n      let registeredAlgorithms = this[op];\n      registeredAlgorithms[alg] = argument;\n    }\n    /**\n     * normalize\n     *\n     * @description\n     * Map JWA alg name to Web Crypto API algorithm parameter\n     *\n     * @param {string} op\n     * @param {Object} alg\n     *\n     * @returns {Object}\n     */\n\n\n    normalize(op, alg) {\n      let registeredAlgorithms = this[op];\n\n      if (!registeredAlgorithms) {\n        return new SyntaxError(); // what kind of error should this be?\n      }\n\n      let argument = registeredAlgorithms[alg];\n\n      if (!argument) {\n        return new NotSupportedError(alg);\n      }\n\n      return argument;\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = SupportedAlgorithms;\n  /***/\n}, function (module, exports) {\n  /**\n   * NotSupportedError\n   */\n  class NotSupportedError extends Error {\n    constructor(alg) {\n      super();\n      this.message = `${alg} is not a supported algorithm`;\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = NotSupportedError;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  module.exports = {\n    DataError: __webpack_require__(49),\n    NotSupportedError: __webpack_require__(47)\n  };\n  /***/\n}, function (module, exports) {\n  /**\n   * DataError\n   */\n  class DataError extends Error {\n    constructor(message) {\n      super(message);\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = DataError;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Dependencies\n   * @ignore\n   */\n\n  const JWA = __webpack_require__(32);\n  /**\n   * JWK Class\n   */\n\n\n  class JWK {\n    constructor({\n      kty,\n      use,\n      key_ops,\n      alg,\n      kid,\n      x5u,\n      x5c,\n      x5t\n    } = {}) {\n      this.kty = kty;\n      this.use = use;\n      this.key_ops = key_ops;\n      this.alg = alg;\n      this.kid = kid;\n      this.x5u = x5u;\n      this.x5c = x5c;\n      this.x5t = x5t;\n    }\n    /**\n     * importKey\n     *\n     * TODO:\n     * - should this be on JWA?\n     */\n\n\n    static async importKey(jwk) {\n      return JWA.importKey(jwk);\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = JWK;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Dependencies\n   */\n\n  const JWK = __webpack_require__(50);\n  /**\n   * JWKSet\n   *\n   * @class\n   * JWKSet represents a JSON Web Key Set as described in Section 5 of RFC 7517:\n   * https://tools.ietf.org/html/rfc7517#section-5\n   */\n\n\n  class JWKSet {\n    constructor({\n      keys\n    } = {}) {\n      this.keys = keys;\n    }\n    /**\n     * importKeys\n     */\n\n\n    static async importKeys(jwks) {\n      if (!jwks.keys) {\n        return Promise.reject(new Error('Cannot import JWKSet: keys property is empty'));\n      }\n\n      let imported, importing;\n\n      try {\n        imported = new JWKSet(jwks);\n        importing = jwks.keys.map(key => JWK.importKey(key));\n      } catch (err) {\n        return Promise.reject(err);\n      }\n\n      return Promise.all(importing).then(keys => {\n        imported.keys = keys;\n        return imported;\n      });\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = JWKSet;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /**\n   * Dependencies\n   */\n  const base64url = __webpack_require__(40);\n\n  const JWS = __webpack_require__(53);\n\n  const DataError = __webpack_require__(49);\n\n  const JOSEHeader = __webpack_require__(54);\n  /**\n   * JWT\n   */\n\n\n  class JWT {\n    constructor(data = {}) {\n      this.type = data.type;\n      this.segments = data.segments;\n      this.header = new JOSEHeader(data.header);\n      this.protected = data.protected;\n      this.unprotected = data.unprotected;\n      this.iv = data.iv;\n      this.aad = data.aad;\n      this.ciphertext = data.ciphertext;\n      this.tag = data.tag;\n      this.recipients = data.recipients;\n      this.payload = data.payload;\n      this.signatures = data.signatures;\n      this.signature = data.signature;\n      this.key = data.key;\n      this.serialization = data.serialization || 'compact'; // default\n    }\n    /**\n     * decode\n     *\n     * @description\n     * Decode a JSON Web Token\n     *\n     * @param {string} data\n     * @returns {JWT}\n     */\n\n\n    static decode(data) {\n      let ExtendedJWT = this;\n      let jwt;\n\n      if (typeof data !== 'string') {\n        throw new DataError('JWT must be a string');\n      } // JSON of Flattened JSON Serialization\n\n\n      if (data.startsWith('{')) {\n        try {\n          data = JSON.parse(data, () => {});\n        } catch (error) {\n          throw new DataError('Invalid JWT serialization');\n        }\n\n        if (data.signatures || data.recipients) {\n          data.serialization = 'json';\n        } else {\n          data.serialization = 'flattened';\n        }\n\n        jwt = new ExtendedJWT(data, {\n          filter: false\n        }); // Compact Serialization\n      } else {\n        try {\n          let serialization = 'compact';\n          let segments = data.split('.');\n          let length = segments.length;\n\n          if (length !== 3 && length !== 5) {\n            throw new Error('Malformed JWT');\n          }\n\n          let header = JSON.parse(base64url.decode(segments[0])); // JSON Web Signature\n\n          if (length === 3) {\n            let type = 'JWS';\n            let payload = JSON.parse(base64url.decode(segments[1]));\n            let signature = segments[2];\n            jwt = new ExtendedJWT({\n              type,\n              segments,\n              header,\n              payload,\n              signature,\n              serialization\n            }, {\n              filter: false\n            });\n          } // JSON Web Encryption\n\n\n          if (length === 5) {//let type = 'JWE'\n            //let [protected, encryption_key, iv, ciphertext, tag] = segments\n            //jwt = new ExtendedJWT({\n            //  type,\n            //  protected: base64url.decode(JSON.parse(protected)),\n            //  encryption_key,\n            //  iv,\n            //  ciphertext,\n            //  tag,\n            //  serialization\n            //})\n          }\n        } catch (error) {\n          throw new DataError('Invalid JWT compact serialization');\n        }\n      }\n\n      return jwt;\n    }\n    /**\n     * encode\n     *\n     * @description\n     * Encode a JSON Web Token\n     *\n     * @param {Object} header\n     * @param {Object} payload\n     * @param {CryptoKey} key\n     *\n     * @returns {Promise}\n     */\n\n\n    static encode(header, payload, key) {\n      let jwt = new JWT(header, payload);\n      return jwt.encode(key);\n    }\n    /**\n     * verify\n     *\n     * @description\n     *\n     * @param {CryptoKey} key\n     * @param {string} token\n     *\n     * @returns {Promise}\n     */\n\n\n    static async verify(key, token) {\n      let jwt = JWT.decode(token);\n      jwt.key = key;\n      return jwt.verify().then(verified => jwt);\n    }\n    /**\n     * isJWE\n     */\n\n\n    isJWE() {\n      return !!this.header.enc;\n    }\n    /**\n     * resolveKeys\n     */\n\n\n    resolveKeys(jwks) {\n      let kid = this.header.kid;\n      let keys, match; // treat an array as the \"keys\" property of a JWK Set\n\n      if (Array.isArray(jwks)) {\n        keys = jwks;\n      } // presence of keys indicates object is a JWK Set\n\n\n      if (jwks.keys) {\n        keys = jwks.keys;\n      } // wrap a plain object they is not a JWK Set in Array\n\n\n      if (!jwks.keys && typeof jwks === 'object') {\n        keys = [jwks];\n      } // ensure there are keys to search\n\n\n      if (!keys) {\n        throw new DataError('Invalid JWK argument');\n      } // match by \"kid\" or \"use\" header\n\n\n      if (kid) {\n        match = keys.find(jwk => jwk.kid === kid);\n      } else {\n        match = keys.find(jwk => jwk.use === 'sig');\n      } // assign matching key to JWT and return a boolean\n\n\n      if (match) {\n        this.key = match.cryptoKey;\n        return true;\n      } else {\n        return false;\n      }\n    }\n    /**\n     * encode\n     *\n     * @description\n     * Encode a JWT instance\n     *\n     * @returns {Promise}\n     */\n\n\n    async encode() {\n      let token = this;\n\n      if (this.isJWE()) {\n        return JWE.encrypt(token);\n      } else {\n        return JWS.sign(token);\n      }\n    }\n    /**\n     * verify\n     *\n     * @description\n     * Verify a decoded JWT instance\n     *\n     * @returns {Promise}\n     */\n\n\n    async verify() {\n      return JWS.verify(this);\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = JWT;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /**\n   * Dependencies\n   */\n  const base64url = __webpack_require__(40);\n\n  const JWA = __webpack_require__(32);\n\n  const {\n    DataError\n  } = __webpack_require__(48);\n\n  const JOSEHeader = __webpack_require__(54);\n  /**\n   * JWS\n   */\n\n\n  class JWS {\n    constructor(data = {}) {\n      // compact\n      this.header = new JOSEHeader(data.header);\n      this.payload = data.payload || {};\n      this.signature = data.signature; // flattened\n\n      this.protected = data.protected; // JSON serialization\n\n      this.signatures = data.signatures;\n      this.verified = false;\n    }\n    /**\n     * sign\n     *\n     * @description\n     * Encode a JWT instance\n     *\n     * @param {Object} token\n     * @returns {Promise}\n     */\n\n\n    static async sign(token) {\n      let payload = base64url(JSON.stringify(token.payload)); // compact serialization\n\n      if (token.serialization === 'compact') {\n        let {\n          key,\n          header: {\n            alg\n          }\n        } = token;\n        let header = base64url(JSON.stringify(token.header));\n        let data = `${header}.${payload}`;\n        return JWA.sign(alg, key, data).then(signature => `${data}.${signature}`);\n      } // JSON serialization\n\n\n      if (token.serialization === 'json') {} // Flattened serialization\n\n\n      if (token.serialization === 'flattened') {}\n\n      return Promise.reject(new DataError('Unsupported serialization'));\n    }\n    /**\n     * verify\n     */\n\n\n    static async verify(jwt) {\n      // multiple signatures\n      if (jwt.signatures) {// ...\n      }\n\n      let {\n        key,\n        signature,\n        header: {\n          alg\n        }\n      } = jwt; // one signature\n\n      if (jwt.signature) {\n        let [header, payload] = jwt.segments;\n        let data = `${header}.${payload}`;\n\n        if (alg === 'none') {\n          return Promise.reject(new DataError('Signature provided to verify with alg: none'));\n        }\n\n        return JWA.verify(alg, key, signature, data).then(verified => {\n          jwt.verified = verified;\n          return verified;\n        });\n      }\n\n      if (alg === 'none') {\n        if (!key && !signature) {\n          jwt.verified = true;\n          return Promise.resolve(true);\n        }\n\n        if (key) {\n          return Promise.reject(new DataError('Key provided to verify signature with alg: none'));\n        }\n      } // no signatures to verify\n\n\n      return Promise.reject(new DataError('Missing signature(s)'));\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = JWS;\n  /***/\n}, function (module, exports) {\n  /**\n   * Header\n   */\n  class JOSEHeader {\n    constructor({\n      typ,\n      cty,\n      alg,\n      jku,\n      kid,\n      x5u,\n      x5c,\n      x5t,\n      crit,\n      enc,\n      zip\n    } = {}) {\n      this.typ = typ;\n      this.cty = cty;\n      this.alg = alg;\n      this.jku = jku;\n      this.kid = kid;\n      this.x5u = x5u;\n      this.x5c = x5c;\n      this.x5t = x5t;\n      this.crit = crit;\n      this.enc = enc;\n      this.zip = zip;\n    }\n    /**\n     * isJWS\n     */\n\n\n    isJWS() {}\n    /**\n     * isJWE\n     */\n\n\n    isJWE() {}\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = JOSEHeader;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /* WEBPACK VAR INJECTION */\n  (function (Buffer) {\n    /**\n    * Dependencies\n    */\n    const assert = __webpack_require__(21);\n\n    const base64url = __webpack_require__(40);\n\n    const {\n      crypto,\n      JWT\n    } = __webpack_require__(28);\n\n    const FormUrlEncoded = __webpack_require__(56);\n\n    const {\n      URL\n    } = __webpack_require__(27);\n    /**\n     * Authentication Request\n     */\n\n\n    class AuthenticationRequest {\n      /**\n       * create\n       *\n       * @description\n       * Create a new authentication request with generated state and nonce,\n       * validate presence of required parameters, serialize the request data and\n       * persist it to the session, and return a promise for an authentication\n       * request URI.\n       *\n       * @param {RelyingParty} rp  instance of RelyingParty\n       * @param {Object} options - optional request parameters\n       * @param {Object} session  reference to localStorage or other session object\n       *\n       * @returns {Promise}\n       */\n      static create(rp, options, session) {\n        const {\n          provider,\n          defaults,\n          registration\n        } = rp;\n        let issuer, endpoint, client, params;\n        return Promise.resolve().then(() => {\n          // validate presence of OP configuration, RP client registration,\n          // and default parameters\n          assert(provider.configuration, 'RelyingParty provider OpenID Configuration is missing');\n          assert(defaults.authenticate, 'RelyingParty default authentication parameters are missing');\n          assert(registration, 'RelyingParty client registration is missing'); // define basic elements of the request\n\n          issuer = provider.configuration.issuer;\n          endpoint = provider.configuration.authorization_endpoint;\n          client = {\n            client_id: registration.client_id\n          };\n          params = Object.assign(defaults.authenticate, client, options); // validate presence of required configuration and parameters\n\n          assert(issuer, 'Missing issuer in provider OpenID Configuration');\n          assert(endpoint, 'Missing authorization_endpoint in provider OpenID Configuration');\n          assert(params.scope, 'Missing scope parameter in authentication request');\n          assert(params.response_type, 'Missing response_type parameter in authentication request');\n          assert(params.client_id, 'Missing client_id parameter in authentication request');\n          assert(params.redirect_uri, 'Missing redirect_uri parameter in authentication request'); // generate state and nonce random octets\n\n          params.state = Array.from(crypto.getRandomValues(new Uint8Array(16)));\n          params.nonce = Array.from(crypto.getRandomValues(new Uint8Array(16))); // hash the state and nonce parameter values\n\n          return Promise.all([crypto.subtle.digest({\n            name: 'SHA-256'\n          }, new Uint8Array(params.state)), crypto.subtle.digest({\n            name: 'SHA-256'\n          }, new Uint8Array(params.nonce))]);\n        }) // serialize the request with original values, store in session by\n        // encoded state param, and replace state/nonce octets with encoded\n        // digests\n        .then(digests => {\n          let state = base64url(Buffer.from(digests[0]));\n          let nonce = base64url(Buffer.from(digests[1]));\n          let key = `${issuer}/requestHistory/${state}`; // store the request params for response validation\n          // with serialized octet values for state and nonce\n\n          session[key] = JSON.stringify(params); // replace state and nonce octets with base64url encoded digests\n\n          params.state = state;\n          params.nonce = nonce;\n        }).then(() => AuthenticationRequest.generateSessionKeys()).then(sessionKeys => {\n          AuthenticationRequest.storeSessionKeys(sessionKeys, params, session);\n        }) // optionally encode a JWT with the request parameters\n        // and replace params with `{ request: <jwt> }\n        .then(() => {\n          if (provider.configuration.request_parameter_supported) {\n            return AuthenticationRequest.encodeRequestParams(params).then(encodedParams => {\n              params = encodedParams;\n            });\n          }\n        }) // render the request URI and terminate the algorithm\n        .then(() => {\n          let url = new URL(endpoint);\n          url.search = FormUrlEncoded.encode(params);\n          return url.href;\n        });\n      }\n\n      static generateSessionKeys() {\n        return crypto.subtle.generateKey({\n          name: \"RSASSA-PKCS1-v1_5\",\n          modulusLength: 2048,\n          publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n          hash: {\n            name: \"SHA-256\"\n          }\n        }, true, [\"sign\", \"verify\"]).then(keyPair => {\n          // returns a keypair object\n          return Promise.all([crypto.subtle.exportKey('jwk', keyPair.publicKey), crypto.subtle.exportKey('jwk', keyPair.privateKey)]);\n        }).then(jwkPair => {\n          let [publicJwk, privateJwk] = jwkPair;\n          return {\n            public: publicJwk,\n            private: privateJwk\n          };\n        });\n      }\n\n      static storeSessionKeys(sessionKeys, params, session) {\n        // store the private one in session, public one goes into params\n        session['oidc.session.privateKey'] = JSON.stringify(sessionKeys.private);\n        params.key = sessionKeys.public;\n      }\n\n      static encodeRequestParams(params) {\n        const excludeParams = ['scope', 'client_id', 'response_type', 'state'];\n        const keysToEncode = Object.keys(params).filter(key => !excludeParams.includes(key));\n        let payload = {};\n        keysToEncode.forEach(key => {\n          payload[key] = params[key];\n        });\n        let requestParamJwt = new JWT({\n          header: {\n            alg: 'none'\n          },\n          payload\n        }, {\n          filter: false\n        });\n        return requestParamJwt.encode().then(requestParamCompact => {\n          let newParams = {\n            scope: params['scope'],\n            client_id: params['client_id'],\n            response_type: params['response_type'],\n            request: requestParamCompact,\n            state: params['state']\n          };\n          return newParams;\n        });\n      }\n\n    }\n    /**\n     * Export\n     */\n\n\n    module.exports = AuthenticationRequest;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(36).Buffer);\n  /***/\n}, function (module, exports) {\n  /**\n   * Dependencies\n   */\n\n  /**\n   * FormUrlEncoded\n   */\n  class FormUrlEncoded {\n    /**\n     * Encode\n     *\n     * @description\n     * Represent an object as x-www-form-urlencoded string.\n     *\n     * @param {Object} data\n     * @returns {string}\n     */\n    static encode(data) {\n      let pairs = [];\n      Object.keys(data).forEach(function (key) {\n        pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n      });\n      return pairs.join('&');\n    }\n    /**\n     * Decode\n     *\n     * @description\n     * Parse a x-www-form-urlencoded into an object.\n     *\n     * @param {string} data\n     * @returns {Object}\n     */\n\n\n    static decode(data) {\n      let obj = {};\n      data.split('&').forEach(function (property) {\n        let pair = property.split('=');\n        let key = decodeURIComponent(pair[0]);\n        let val = decodeURIComponent(pair[1]);\n        obj[key] = val;\n      });\n      return obj;\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = FormUrlEncoded;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /* WEBPACK VAR INJECTION */\n  (function (global, Buffer) {\n    /**\n    * Dependencies\n    */\n    const {\n      URL\n    } = __webpack_require__(27);\n\n    const assert = __webpack_require__(21);\n\n    const {\n      crypto\n    } = __webpack_require__(28);\n\n    const base64url = __webpack_require__(40);\n\n    const fetch = __webpack_require__(5);\n\n    const Headers = fetch.Headers ? fetch.Headers : global.Headers;\n\n    const FormUrlEncoded = __webpack_require__(56);\n\n    const IDToken = __webpack_require__(58);\n\n    const Session = __webpack_require__(59);\n\n    const onHttpError = __webpack_require__(60);\n\n    const HttpError = __webpack_require__(62);\n    /**\n     * AuthenticationResponse\n     */\n\n\n    class AuthenticationResponse {\n      /**\n       * @param rp {RelyingParty}\n       * @param [redirect] {string} req.query\n       * @param [body] {string} req.body.text\n       * @param session {Session|Storage} req.session or localStorage or similar\n       * @param params {object} hashmap\n       * @param mode {string} 'query'/'fragment'/'form_post',\n       *   determined in `parseResponse()`\n       */\n      constructor({\n        rp,\n        redirect,\n        body,\n        session,\n        mode,\n        params = {}\n      }) {\n        this.rp = rp;\n        this.redirect = redirect;\n        this.body = body;\n        this.session = session;\n        this.mode = mode;\n        this.params = params;\n      }\n      /**\n       * validateResponse\n       *\n       * @description\n       * Authentication response validation.\n       *\n       * @param {string|Object} response\n       *\n       * @returns {Promise<Session>}\n       */\n\n\n      static validateResponse(response) {\n        return Promise.resolve(response).then(this.parseResponse).then(this.errorResponse).then(this.matchRequest).then(this.validateStateParam).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(Session.fromAuthResponse);\n      }\n      /**\n       * parseResponse\n       *\n       * @param {object} response\n       *\n       * @returns {object}\n       */\n\n\n      static parseResponse(response) {\n        let {\n          redirect,\n          body\n        } = response; // response must be either a redirect uri or request body, but not both\n\n        if (redirect && body || !redirect && !body) {\n          throw new HttpError(400, 'Invalid response mode');\n        } // parse redirect uri\n\n\n        if (redirect) {\n          let url = new URL(redirect);\n          let {\n            search,\n            hash\n          } = url;\n\n          if (search && hash || !search && !hash) {\n            throw new HttpError(400, 'Invalid response mode');\n          }\n\n          if (search) {\n            response.params = FormUrlEncoded.decode(search.substring(1));\n            response.mode = 'query';\n          }\n\n          if (hash) {\n            response.params = FormUrlEncoded.decode(hash.substring(1));\n            response.mode = 'fragment';\n          }\n        } // parse request form body\n\n\n        if (body) {\n          response.params = FormUrlEncoded.decode(body);\n          response.mode = 'form_post';\n        }\n\n        return response;\n      }\n      /**\n       * errorResponse\n       *\n       * @param {AuthenticationResponse} response\n       *\n       * @throws {Error} If response params include the OAuth2 'error' param,\n       *   throws an error based on it.\n       *\n       * @returns {AuthenticationResponse} Chainable\n       *\n       * @todo Figure out HTTP status code (typically 400, 401 or 403)\n       *   based on the OAuth2/OIDC `error` code, probably using an external library\n       */\n\n\n      static errorResponse(response) {\n        const errorCode = response.params.error;\n\n        if (errorCode) {\n          const errorParams = {};\n          errorParams['error'] = errorCode;\n          errorParams['error_description'] = response.params['error_description'];\n          errorParams['error_uri'] = response.params['error_uri'];\n          errorParams['state'] = response.params['state'];\n          const error = new Error(`AuthenticationResponse error: ${errorCode}`);\n          error.info = errorParams;\n          throw error;\n        }\n\n        return response;\n      }\n      /**\n       * matchRequest\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static matchRequest(response) {\n        let {\n          rp,\n          params,\n          session\n        } = response;\n        let state = params.state;\n        let issuer = rp.provider.configuration.issuer;\n\n        if (!state) {\n          throw new Error('Missing state parameter in authentication response');\n        }\n\n        let key = `${issuer}/requestHistory/${state}`;\n        let request = session[key];\n\n        if (!request) {\n          throw new Error('Mismatching state parameter in authentication response');\n        }\n\n        response.request = JSON.parse(request);\n        return response;\n      }\n      /**\n       * validateStateParam\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateStateParam(response) {\n        let octets = new Uint8Array(response.request.state);\n        let encoded = response.params.state;\n        return crypto.subtle.digest({\n          name: 'SHA-256'\n        }, octets).then(digest => {\n          if (encoded !== base64url(Buffer.from(digest))) {\n            throw new Error('Mismatching state parameter in authentication response');\n          }\n\n          return response;\n        });\n      }\n      /**\n       * validateResponseMode\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateResponseMode(response) {\n        if (response.request.response_type !== 'code' && response.mode === 'query') {\n          throw new Error('Invalid response mode');\n        }\n\n        return response;\n      }\n      /**\n       * validateResponseParams\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateResponseParams(response) {\n        let {\n          request,\n          params\n        } = response;\n        let expectedParams = request.response_type.split(' ');\n\n        if (expectedParams.includes('code')) {\n          assert(params.code, 'Missing authorization code in authentication response'); // TODO assert novelty of code\n        }\n\n        if (expectedParams.includes('id_token')) {\n          assert(params.id_token, 'Missing id_token in authentication response');\n        }\n\n        if (expectedParams.includes('token')) {\n          assert(params.access_token, 'Missing access_token in authentication response');\n          assert(params.token_type, 'Missing token_type in authentication response');\n        }\n\n        return response;\n      }\n      /**\n       * exchangeAuthorizationCode\n       *\n       * @param {Object} response\n       * @returns {Promise} response object\n       */\n\n\n      static exchangeAuthorizationCode(response) {\n        let {\n          rp,\n          params,\n          request\n        } = response;\n        let code = params.code; // only exchange the authorization code when the response type is \"code\"\n\n        if (!code || request['response_type'] !== 'code') {\n          return Promise.resolve(response);\n        }\n\n        let {\n          provider,\n          registration\n        } = rp;\n        let id = registration['client_id'];\n        let secret = registration['client_secret']; // verify the client is not public\n\n        if (!secret) {\n          return Promise.reject(new Error('Client cannot exchange authorization code because ' + 'it is not a confidential client'));\n        } // initialize token request arguments\n\n\n        let endpoint = provider.configuration.token_endpoint;\n        let method = 'POST'; // initialize headers\n\n        let headers = new Headers({\n          'Content-Type': 'application/x-www-form-urlencoded'\n        }); // initialize the token request parameters\n\n        let bodyContents = {\n          'grant_type': 'authorization_code',\n          'code': code,\n          'redirect_uri': request['redirect_uri']\n        }; // determine client authentication method\n\n        let authMethod = registration['token_endpoint_auth_method'] || 'client_secret_basic'; // client secret basic authentication\n\n        if (authMethod === 'client_secret_basic') {\n          let credentials = new Buffer(`${id}:${secret}`).toString('base64');\n          headers.set('Authorization', `Basic ${credentials}`);\n        } // client secret post authentication\n\n\n        if (authMethod === 'client_secret_post') {\n          bodyContents['client_id'] = id;\n          bodyContents['client_secret'] = secret;\n        }\n\n        let body = FormUrlEncoded.encode(bodyContents); // TODO\n        // client_secret_jwt authentication\n        // private_key_jwt\n        // make the token request\n\n        return fetch(endpoint, {\n          method,\n          headers,\n          body\n        }).then(onHttpError('Error exchanging authorization code')).then(tokenResponse => tokenResponse.json()).then(tokenResponse => {\n          assert(tokenResponse['access_token'], 'Missing access_token in token response');\n          assert(tokenResponse['token_type'], 'Missing token_type in token response');\n          assert(tokenResponse['id_token'], 'Missing id_token in token response'); // anything else?\n          // IS THIS THE RIGHT THING TO DO HERE?\n\n          response.params = Object.assign(response.params, tokenResponse);\n          return response;\n        });\n      }\n      /**\n       * validateIDToken\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateIDToken(response) {\n        // only validate the ID Token if present in the response\n        if (!response.params.id_token) {\n          return Promise.resolve(response);\n        }\n\n        return Promise.resolve(response).then(AuthenticationResponse.decryptIDToken).then(AuthenticationResponse.decodeIDToken).then(AuthenticationResponse.validateIssuer).then(AuthenticationResponse.validateAudience).then(AuthenticationResponse.resolveKeys).then(AuthenticationResponse.verifySignature).then(AuthenticationResponse.validateExpires).then(AuthenticationResponse.verifyNonce).then(AuthenticationResponse.validateAcr).then(AuthenticationResponse.validateAuthTime).then(AuthenticationResponse.validateAccessTokenHash).then(AuthenticationResponse.validateAuthorizationCodeHash);\n      }\n      /**\n       * decryptIDToken\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static decryptIDToken(response) {\n        // TODO\n        return Promise.resolve(response);\n      }\n      /**\n       * decodeIDToken\n       *\n       * Note: If the `id_token` is not present in params, this method does not\n       * get called (short-circuited in `validateIDToken()`).\n       *\n       * @param response {AuthenticationResponse}\n       * @param response.params {object}\n       * @param [response.params.id_token] {string} IDToken encoded as a JWT\n       *\n       * @returns {AuthenticationResponse} Chainable\n       */\n\n\n      static decodeIDToken(response) {\n        let jwt = response.params.id_token;\n\n        try {\n          response.decoded = IDToken.decode(jwt);\n        } catch (decodeError) {\n          const error = new HttpError(400, 'Error decoding ID Token');\n          error.cause = decodeError;\n          error.info = {\n            id_token: jwt\n          };\n          throw error;\n        }\n\n        return response;\n      }\n      /**\n       * validateIssuer\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateIssuer(response) {\n        let configuration = response.rp.provider.configuration;\n        let payload = response.decoded.payload; // validate issuer of token matches this relying party's provider\n\n        if (payload.iss !== configuration.issuer) {\n          throw new Error('Mismatching issuer in ID Token');\n        }\n\n        return response;\n      }\n      /**\n       * validateAudience\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateAudience(response) {\n        let registration = response.rp.registration;\n        let {\n          aud,\n          azp\n        } = response.decoded.payload; // validate audience includes this relying party\n\n        if (typeof aud === 'string' && aud !== registration['client_id']) {\n          throw new Error('Mismatching audience in id_token');\n        } // validate audience includes this relying party\n\n\n        if (Array.isArray(aud) && !aud.includes(registration['client_id'])) {\n          throw new Error('Mismatching audience in id_token');\n        } // validate authorized party is present if required\n\n\n        if (Array.isArray(aud) && !azp) {\n          throw new Error('Missing azp claim in id_token');\n        } // validate authorized party is this relying party\n\n\n        if (azp && azp !== registration['client_id']) {\n          throw new Error('Mismatching azp claim in id_token');\n        }\n\n        return response;\n      }\n      /**\n       * resolveKeys\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static resolveKeys(response) {\n        let rp = response.rp;\n        let provider = rp.provider;\n        let decoded = response.decoded;\n        let isFreshJwks = false;\n        return Promise.resolve(provider.jwks).then(jwks => jwks ? jwks : (isFreshJwks = true, rp.jwks())).then(jwks => {\n          if (decoded.resolveKeys(jwks)) {\n            return Promise.resolve(response);\n          }\n\n          if (!isFreshJwks) {\n            // The OP JWK Set cached by the RP may be stale due to key rotation by the OP.\n            return rp.jwks().then(jwks => {\n              if (decoded.resolveKeys(jwks)) {\n                return Promise.resolve(response);\n              }\n\n              throw new Error('Cannot resolve signing key for ID Token');\n            });\n          }\n\n          throw new Error('Cannot resolve signing key for ID Token');\n        });\n      }\n      /**\n       * verifySignature\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static verifySignature(response) {\n        let alg = response.decoded.header.alg;\n        let registration = response.rp.registration;\n        let expectedAlgorithm = registration['id_token_signed_response_alg'] || 'RS256'; // validate signing algorithm matches expectation\n\n        if (alg !== expectedAlgorithm) {\n          throw new Error(`Expected ID Token to be signed with ${expectedAlgorithm}`);\n        }\n\n        return response.decoded.verify().then(verified => {\n          if (!verified) {\n            throw new Error('Invalid ID Token signature');\n          }\n\n          return response;\n        });\n      }\n      /**\n       * validateExpires\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateExpires(response) {\n        let exp = response.decoded.payload.exp; // validate expiration of token\n\n        if (exp <= Math.floor(Date.now() / 1000)) {\n          throw new Error('Expired ID Token');\n        }\n\n        return response;\n      }\n      /**\n       * verifyNonce\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static verifyNonce(response) {\n        let octets = new Uint8Array(response.request.nonce);\n        let nonce = response.decoded.payload.nonce;\n\n        if (!nonce) {\n          throw new Error('Missing nonce in ID Token');\n        }\n\n        return crypto.subtle.digest({\n          name: 'SHA-256'\n        }, octets).then(digest => {\n          if (nonce !== base64url(Buffer.from(digest))) {\n            throw new Error('Mismatching nonce in ID Token');\n          }\n\n          return response;\n        });\n      }\n      /**\n       * validateAcr\n       *\n       * @param {Object} response\n       * @returns {Object}\n       */\n\n\n      static validateAcr(response) {\n        // TODO\n        return response;\n      }\n      /**\n       * validateAuthTime\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateAuthTime(response) {\n        // TODO\n        return response;\n      }\n      /**\n       * validateAccessTokenHash\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateAccessTokenHash(response) {\n        // TODO\n        return response;\n      }\n      /**\n       * validateAuthorizationCodeHash\n       *\n       * @param {Object} response\n       * @returns {Promise}\n       */\n\n\n      static validateAuthorizationCodeHash(response) {\n        // TODO\n        return response;\n      }\n\n    }\n    /**\n     * Export\n     */\n\n\n    module.exports = AuthenticationResponse;\n    /* WEBPACK VAR INJECTION */\n  }).call(this, __webpack_require__(20), __webpack_require__(36).Buffer);\n  /***/\n}, function (module, exports, __webpack_require__) {\n  /**\n   * Local dependencies\n   */\n  const {\n    JWT\n  } = __webpack_require__(28);\n\n  const REQUIRED_CLAIMS = ['iss', 'sub', 'aud', 'exp', 'iat'];\n\n  class TokenClaimsSet {\n    /**\n     * Claims inherited from JWT:\n     * @param iss {string} Issuer URL\n     * @param sub {string} Subject identifier\n     * @param aud {string|Array<string>} Audience\n     * @param exp {number} Expiration (seconds since epoch, RFC3339)\n     * @param iat {number} Expiration (seconds since epoch, RFC3339)\n     * @param [nbf] {number} Not Before (seconds since epoch, RFC3339)\n     * @param [jti] {string} JWT Identifier\n     *\n     * Claims specific to ID Token:\n     * @param [auth_time] {number} Time when user authn occurred (RFC3339)\n     * @param [nonce] {string}\n     * @param [acr] {string} Authentication Context Class Reference\n     * @param [amr] {string} Authentication Methods References\n     * @param [azp] {string} Authorized party\n     */\n    constructor({\n      iss,\n      sub,\n      aud,\n      exp,\n      iat,\n      nbf,\n      jti,\n      auth_time,\n      nonce,\n      acr,\n      amr\n    } = {}) {\n      this.iss = iss;\n      this.sub = sub;\n      this.aud = aud;\n      this.exp = exp;\n      this.iat = iat;\n      this.nbf = nbf;\n      this.jti = jti;\n      this.auth_time = auth_time;\n      this.nonce = nonce;\n      this.acr = acr;\n      this.amr = amr;\n    }\n\n    validate() {\n      let valid = true;\n      let error;\n\n      try {\n        for (const claim of REQUIRED_CLAIMS) {\n          if (!this[claim]) {\n            valid = false;\n            throw new Error(`Required claim ${claim} is missing.`);\n          }\n        }\n      } catch (validationError) {\n        error = validationError;\n      }\n\n      return {\n        valid,\n        error\n      };\n    }\n\n  }\n  /**\n   * IDToken\n   */\n\n\n  class IDToken extends JWT {\n    constructor(data = {}) {\n      super(data);\n      this.payload = new TokenClaimsSet(data.payload);\n    }\n\n    validate() {\n      const payloadResult = this.payload.validate();\n\n      if (!payloadResult.valid) {\n        return payloadResult;\n      }\n\n      let valid = true;\n      let error;\n      return {\n        valid,\n        error\n      };\n    }\n\n  }\n  /**\n   * Export\n   */\n\n\n  module.exports = IDToken;\n  module.exports.TokenClaimsSet = TokenClaimsSet;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  const fetch = __webpack_require__(5);\n\n  const onHttpError = __webpack_require__(60);\n\n  const PoPToken = __webpack_require__(61);\n\n  class Session {\n    /**\n     * @param options {Object}\n     *\n     * @param options.credentialType {string} 'access_token' or 'pop_token'\n     *\n     * @param options.issuer {string} Identity provider (issuer of ID/Access Token)\n     *\n     * @param options.authorization {object}\n     * @param options.authorization.client_id {string} OIDC/OAuth2 client id\n     * @param [options.authorization.id_token] {string} Compact-serialized id_token param\n     * @param [options.authorization.access_token] {string} Compact-serialized access_token param\n     * @param [options.authorization.refresh_token] {string} Compact-serialized refresh_token\n     *\n     * @param [options.sessionKey] {string} Serialized client session key generated\n     *   during the Authentication Request, used to issue PoPTokens\n     *\n     * @param [options.idClaims] {object} Decoded/verified ID Token JWT payload\n     *\n     * @param [options.accessClaims] {object} Decoded/verified Access Token JWT payload\n     */\n    constructor(options) {\n      this.credentialType = options.credentialType || 'access_token';\n      this.issuer = options.issuer;\n      this.authorization = options.authorization || {};\n      this.sessionKey = options.sessionKey;\n      this.idClaims = options.idClaims;\n      this.accessClaims = options.accessClaims;\n    }\n\n    static from(options) {\n      return new Session(options);\n    }\n    /**\n     * @param response {AuthenticationResponse}\n     *\n     * @returns {Session} RelyingParty Session object\n     */\n\n\n    static fromAuthResponse(response) {\n      const RelyingParty = __webpack_require__(19); // import here due to circular dep\n\n\n      let idClaims = response.decoded && response.decoded.payload || {};\n      let {\n        rp\n      } = response;\n      let registration = rp.registration;\n      let rpAuthOptions = rp.defaults.authenticate || {};\n      let credentialType = rpAuthOptions['credential_type'] || rp.defaults.popToken ? 'pop_token' : 'access_token';\n      let sessionKey = response.session[RelyingParty.SESSION_PRIVATE_KEY];\n      let options = {\n        credentialType,\n        sessionKey,\n        issuer: idClaims.iss,\n        idClaims,\n        authorization: {\n          client_id: registration['client_id'],\n          access_token: response.params['access_token'],\n          id_token: response.params['id_token'],\n          refresh_token: response.params['refresh_token']\n        }\n      };\n      return Session.from(options);\n    }\n    /**\n     * Authenticated fetch() getter\n     *\n     * @returns {function}\n     */\n\n\n    get fetch() {\n      /**\n       * fetch() function signature\n       *\n       * @param url {RequestInfo|string}\n       * @param options {object}\n       *\n       * @returns {Function<Promise<Response>>}\n       */\n      return (url, options) => {\n        return Promise.resolve().then(() => {\n          if (this.hasCredentials()) {\n            return this.fetchWithCredentials(url, options);\n          } else {\n            return fetch(url, options);\n          }\n        }).then(onHttpError('Error while fetching resource'));\n      };\n    }\n    /**\n     * bearerTokenFor\n     *\n     * @param url {string}\n     *\n     * @returns {Promise<string>}\n     */\n\n\n    bearerTokenFor(url) {\n      switch (this.credentialType) {\n        case 'pop_token':\n          return PoPToken.issueFor(url, this);\n\n        default:\n          // 'access_token' etc\n          return Promise.resolve(this.authorization[this.credentialType]);\n      }\n    }\n    /**\n     * hasCredentials\n     *\n     * @returns {boolean}\n     */\n\n\n    hasCredentials() {\n      switch (this.credentialType) {\n        case 'pop_token':\n          return !!this.authorization['id_token'];\n\n        default:\n          // 'access_token' etc\n          return !!this.authorization[this.credentialType];\n      }\n    }\n    /**\n     * fetchWithCredentials\n     *\n     * @param url {RequestInfo|string}\n     * @param options {object}\n     *\n     * @returns {Promise<Response>}\n     */\n\n\n    fetchWithCredentials(url, options = {}) {\n      options.headers = options.headers || {};\n      return this.bearerTokenFor(url).then(token => {\n        options.headers.authorization = `Bearer ${token}`;\n        return fetch(url, options);\n      });\n    }\n\n  }\n\n  module.exports = Session;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n  /**\n   * Throws an error when a fetch response status code indicates a 400 or 500\n   * HTTP error. (The whatwg fetch api does not normally reject on http error\n   * responses).\n   *\n   * Usage:\n   *\n   * ```\n   * return fetch(url)\n   *   .then(onHttpError('Error while fetching resource')\n   *   .catch(err => console.log(err))\n   *\n   * // -> 'Error while fetching resource: 404 Not Found' error\n   * // if a 404 response is encountered\n   * ```\n   *\n   * @param [message] {string} Optional error message to clarify context\n   *\n   * @throws {Error} For http status codes > 300\n   *\n   * @return {Object} fetch response object (passed through if no error)\n   */\n\n  function onHttpError(message = 'fetch error') {\n    return response => {\n      if (response.status >= 200 && response.status < 300) {\n        return response;\n      }\n\n      let errorMessage = `${message}: ${response.status} ${response.statusText}`;\n      let error = new Error(errorMessage);\n      error.response = response;\n      error.statusCode = response.status;\n      throw error;\n    };\n  }\n\n  module.exports = onHttpError;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  \"use strict\";\n\n  const {\n    URL\n  } = __webpack_require__(27);\n\n  const {\n    JWT,\n    JWK\n  } = __webpack_require__(28);\n\n  const DEFAULT_MAX_AGE = 3600; // Default token expiration, in seconds\n\n  class PoPToken extends JWT {\n    /**\n     * @param resourceServerUri {string} RS URI for which this token is intended\n     *\n     * @param session {Session}\n     * @param session.sessionKey {string}\n     * @param session.authorization.client_id {string}\n     * @param session.authorization.id_token {string}\n     *\n     * @returns {Promise<string>} PoPToken, encoded as compact JWT\n     */\n    static issueFor(resourceServerUri, session) {\n      if (!resourceServerUri) {\n        throw new Error('Cannot issue PoPToken - missing resource server URI');\n      }\n\n      if (!session.sessionKey) {\n        throw new Error('Cannot issue PoPToken - missing session key');\n      }\n\n      if (!session.authorization.id_token) {\n        throw new Error('Cannot issue PoPToken - missing id token');\n      }\n\n      let jwk = JSON.parse(session.sessionKey);\n      return JWK.importKey(jwk).then(importedSessionJwk => {\n        let options = {\n          aud: new URL(resourceServerUri).origin,\n          key: importedSessionJwk,\n          iss: session.authorization.client_id,\n          id_token: session.authorization.id_token\n        };\n        return PoPToken.issue(options);\n      }).then(jwt => {\n        return jwt.encode();\n      });\n    }\n    /**\n     * issue\n     *\n     * @param options {Object}\n     * @param options.iss {string} Token issuer (RP client_id)\n     * @param options.aud {string|Array<string>} Audience for the token\n     *   (such as the Resource Server url)\n     * @param options.key {JWK} Proof of Possession (private) signing key, see\n     *   https://tools.ietf.org/html/rfc7800#section-3.1\n     *\n     * @param options.id_token {string} JWT compact encoded ID Token\n     *\n     * Optional:\n     * @param [options.iat] {number} Issued at timestamp (in seconds)\n     * @param [options.max] {number} Max token lifetime in seconds\n     *\n     * @returns {PoPToken} Proof of Possession Token (JWT instance)\n     */\n\n\n    static issue(options) {\n      let {\n        aud,\n        iss,\n        key\n      } = options;\n      let alg = key.alg;\n      let iat = options.iat || Math.floor(Date.now() / 1000);\n      let max = options.max || DEFAULT_MAX_AGE;\n      let exp = iat + max; // token expiration\n\n      let header = {\n        alg\n      };\n      let payload = {\n        iss,\n        aud,\n        exp,\n        iat,\n        id_token: options.id_token,\n        token_type: 'pop'\n      };\n      let jwt = new PoPToken({\n        header,\n        payload,\n        key: key.cryptoKey\n      }, {\n        filter: false\n      });\n      return jwt;\n    }\n\n  }\n\n  module.exports = PoPToken;\n  /***/\n}, function (module, exports, __webpack_require__) {\n  exports = module.exports = HttpError;\n\n  var StandardError = __webpack_require__(63);\n\n  var STATUS_CODE_TO_NAME = __webpack_require__(64);\n\n  var STATUS_NAME_TO_CODE = exports;\n\n  function HttpError(code, msg, props) {\n    if (typeof code == \"string\") code = STATUS_NAME_TO_CODE[code];\n    if (typeof code != \"number\") throw new TypeError(\"Non-numeric HTTP code\");\n\n    if (typeof msg == \"object\" && msg != null) {\n      props = msg;\n      msg = null;\n    }\n\n    StandardError.call(this, msg || STATUS_CODE_TO_NAME[code], props);\n    this.code = code;\n  }\n\n  HttpError.prototype = Object.create(StandardError.prototype, {\n    constructor: {\n      value: HttpError,\n      configurable: true,\n      writable: true\n    }\n  }); // Set name explicitly for when the code gets minified.\n\n  HttpError.prototype.name = \"HttpError\";\n  Object.defineProperties(HttpError.prototype, {\n    statusCode: alias(\"code\"),\n    statusMessage: alias(\"message\"),\n    status: {\n      configurable: true,\n      get: function () {\n        return this.code;\n      },\n      set: function (value) {\n        Object.defineProperty(this, \"status\", {\n          value: value,\n          configurable: true,\n          enumerable: true,\n          writable: true\n        });\n      }\n    }\n  });\n\n  HttpError.prototype.toString = function () {\n    return this.name + \": \" + this.code + \" \" + this.message;\n  };\n\n  for (var code in STATUS_CODE_TO_NAME) {\n    var name = STATUS_CODE_TO_NAME[code];\n    exports[name.replace(\"'\", \"\").replace(/[- ]/g, \"_\").toUpperCase()] = +code;\n  }\n\n  function alias(name) {\n    return {\n      configurable: true,\n      get: function () {\n        return this[name];\n      },\n      set: function (value) {\n        return this[name] = value;\n      }\n    };\n  }\n  /***/\n\n}, function (module, exports) {\n  var has = Object.hasOwnProperty;\n  var proto = Object.getPrototypeOf;\n  var trace = Error.captureStackTrace;\n  module.exports = StandardError;\n\n  function StandardError(msg, props) {\n    // Let all properties be enumerable for easier serialization.\n    if (msg && typeof msg == \"object\") props = msg, msg = undefined;else this.message = msg; // Name has to be an own property (or on the prototype a single step up) for\n    // the stack to be printed with the correct name.\n\n    if (props) for (var key in props) this[key] = props[key];\n    if (!has.call(this, \"name\")) this.name = has.call(proto(this), \"name\") ? this.name : this.constructor.name;\n    if (trace && !(\"stack\" in this)) trace(this, this.constructor);\n  }\n\n  StandardError.prototype = Object.create(Error.prototype, {\n    constructor: {\n      value: StandardError,\n      configurable: true,\n      writable: true\n    }\n  }); // Set name explicitly for when the code gets minified.\n\n  StandardError.prototype.name = \"StandardError\";\n  /***/\n}, function (module) {\n  module.exports = JSON.parse(\"{\\\"100\\\":\\\"Continue\\\",\\\"101\\\":\\\"Switching Protocols\\\",\\\"102\\\":\\\"Processing\\\",\\\"200\\\":\\\"OK\\\",\\\"201\\\":\\\"Created\\\",\\\"202\\\":\\\"Accepted\\\",\\\"203\\\":\\\"Non-Authoritative Information\\\",\\\"204\\\":\\\"No Content\\\",\\\"205\\\":\\\"Reset Content\\\",\\\"206\\\":\\\"Partial Content\\\",\\\"207\\\":\\\"Multi-Status\\\",\\\"208\\\":\\\"Already Reported\\\",\\\"226\\\":\\\"IM Used\\\",\\\"300\\\":\\\"Multiple Choices\\\",\\\"301\\\":\\\"Moved Permanently\\\",\\\"302\\\":\\\"Found\\\",\\\"303\\\":\\\"See Other\\\",\\\"304\\\":\\\"Not Modified\\\",\\\"305\\\":\\\"Use Proxy\\\",\\\"307\\\":\\\"Temporary Redirect\\\",\\\"308\\\":\\\"Permanent Redirect\\\",\\\"400\\\":\\\"Bad Request\\\",\\\"401\\\":\\\"Unauthorized\\\",\\\"402\\\":\\\"Payment Required\\\",\\\"403\\\":\\\"Forbidden\\\",\\\"404\\\":\\\"Not Found\\\",\\\"405\\\":\\\"Method Not Allowed\\\",\\\"406\\\":\\\"Not Acceptable\\\",\\\"407\\\":\\\"Proxy Authentication Required\\\",\\\"408\\\":\\\"Request Timeout\\\",\\\"409\\\":\\\"Conflict\\\",\\\"410\\\":\\\"Gone\\\",\\\"411\\\":\\\"Length Required\\\",\\\"412\\\":\\\"Precondition Failed\\\",\\\"413\\\":\\\"Payload Too Large\\\",\\\"414\\\":\\\"URI Too Long\\\",\\\"415\\\":\\\"Unsupported Media Type\\\",\\\"416\\\":\\\"Range Not Satisfiable\\\",\\\"417\\\":\\\"Expectation Failed\\\",\\\"418\\\":\\\"I'm a teapot\\\",\\\"421\\\":\\\"Misdirected Request\\\",\\\"422\\\":\\\"Unprocessable Entity\\\",\\\"423\\\":\\\"Locked\\\",\\\"424\\\":\\\"Failed Dependency\\\",\\\"425\\\":\\\"Unordered Collection\\\",\\\"426\\\":\\\"Upgrade Required\\\",\\\"428\\\":\\\"Precondition Required\\\",\\\"429\\\":\\\"Too Many Requests\\\",\\\"431\\\":\\\"Request Header Fields Too Large\\\",\\\"500\\\":\\\"Internal Server Error\\\",\\\"501\\\":\\\"Not Implemented\\\",\\\"502\\\":\\\"Bad Gateway\\\",\\\"503\\\":\\\"Service Unavailable\\\",\\\"504\\\":\\\"Gateway Timeout\\\",\\\"505\\\":\\\"HTTP Version Not Supported\\\",\\\"506\\\":\\\"Variant Also Negotiates\\\",\\\"507\\\":\\\"Insufficient Storage\\\",\\\"508\\\":\\\"Loop Detected\\\",\\\"509\\\":\\\"Bandwidth Limit Exceeded\\\",\\\"510\\\":\\\"Not Extended\\\",\\\"511\\\":\\\"Network Authentication Required\\\"}\");\n  /***/\n}, function (module, __webpack_exports__, __webpack_require__) {\n  \"use strict\";\n\n  __webpack_require__.r(__webpack_exports__);\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"openIdpPopup\", function () {\n    return openIdpPopup;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"obtainSession\", function () {\n    return obtainSession;\n  });\n  /* harmony export (binding) */\n\n\n  __webpack_require__.d(__webpack_exports__, \"popupHandler\", function () {\n    return popupHandler;\n  });\n  /* harmony import */\n\n\n  var _ipc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n  /* harmony import */\n\n\n  var _url_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n\n  function openIdpPopup(popupUri) {\n    const width = 650;\n    const height = 400;\n    const left = window.screenX + (window.innerWidth - width) / 2;\n    const top = window.screenY + (window.innerHeight - height) / 2;\n    const settings = \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top);\n    return window.open(popupUri, 'solid-auth-client', settings);\n  }\n\n  function obtainSession(store, popup, options) {\n    return new Promise((resolve, reject) => {\n      const popupServer = new _ipc__WEBPACK_IMPORTED_MODULE_0__[\"Server\"](popup, Object(_url_util__WEBPACK_IMPORTED_MODULE_1__[\"originOf\"])(options.popupUri || ''), popupHandler(store, options, session => {\n        popupServer.stop();\n        resolve(session);\n      }));\n      popupServer.start();\n    });\n  }\n\n  function popupHandler(store, {\n    popupUri,\n    callbackUri\n  }, foundSessionCb) {\n    return async (method, ...args) => {\n      switch (method) {\n        // Origin\n        case 'getAppOrigin':\n          return window.location.origin;\n        // Storage\n\n        case 'storage/getItem':\n          return store.getItem(...args);\n\n        case 'storage/setItem':\n          return store.setItem(...args);\n\n        case 'storage/removeItem':\n          return store.removeItem(...args);\n        // Login\n\n        case 'getLoginOptions':\n          return {\n            popupUri,\n            callbackUri\n          };\n\n        case 'foundSession':\n          foundSessionCb(...args);\n      }\n    };\n  }\n  /***/\n\n}])[\"default\"];","map":{"version":3,"sources":["/Users/mark/localRepos/StarBrightlyShining/node_modules/solid-auth-client/browser/index.js"],"names":["module","exports","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","_solid_auth_client__WEBPACK_IMPORTED_MODULE_0__","auth","getOwnPropertyNames","forEach","window","console","warn","warned","SolidAuthClient","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default","events__WEBPACK_IMPORTED_MODULE_1__","events__WEBPACK_IMPORTED_MODULE_1___default","_authn_fetch__WEBPACK_IMPORTED_MODULE_2__","_popup__WEBPACK_IMPORTED_MODULE_3__","_session__WEBPACK_IMPORTED_MODULE_4__","_storage__WEBPACK_IMPORTED_MODULE_5__","_url_util__WEBPACK_IMPORTED_MODULE_6__","_webid_oidc__WEBPACK_IMPORTED_MODULE_7__","ownKeys","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","target","arguments","length","source","getOwnPropertyDescriptors","defineProperties","globalFetch","fetch","a","constructor","args","input","options","emit","login","idp","defaultLoginOptions","popupLogin","test","popupUri","URL","location","toString","callbackUri","popup","session","storage","currentSession","_pendingSession","err","error","trackSession","callback","on","stopTrackSession","removeListener","logout","url","split","_defineProperty","obj","configurable","writable","R","Reflect","ReflectApply","receiver","Function","ReflectOwnKeys","concat","ProcessEmitWarning","warning","NumberIsNaN","Number","isNaN","EventEmitter","init","once","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","set","arg","RangeError","getPrototypeOf","setMaxListeners","_getMaxListeners","that","getMaxListeners","type","doError","events","er","Error","message","context","handler","len","listeners","arrayClone","_addListener","prepend","existing","newListener","unshift","w","String","emitter","count","addListener","prependListener","onceWrapper","fired","wrapFn","_onceWrap","state","wrapped","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","Array","index","pop","ret","Promise","resolve","reject","eventListener","errorListener","slice","authnFetch","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__","isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default","_url_util__WEBPACK_IMPORTED_MODULE_2__","_host__WEBPACK_IMPORTED_MODULE_3__","_webid_oidc__WEBPACK_IMPORTED_MODULE_5__","headers","copyHeaders","shouldShareCredentials","resp","status","requestHost","requiresAuth","origHeaders","currentUrl","currentUrlNoParams","navigateTo","originOf","toUrlString","getLocation","href","pathname","origin","getHost","saveHost","updateHostFromResponse","_session__WEBPACK_IMPORTED_MODULE_1__","_storage__WEBPACK_IMPORTED_MODULE_2__","_webid_oidc__WEBPACK_IMPORTED_MODULE_3__","host","hosts","data","getSession","saveSession","clearSession","_storage__WEBPACK_IMPORTED_MODULE_1__","NAMESPACE","defaultStorage","getData","updateStorage","asyncStorage","memStorage","ipcStorage","_ipc__WEBPACK_IMPORTED_MODULE_0__","hasLocalStorage","localStorage","store","serialized","getItem","JSON","parse","e","update","currentData","newData","setItem","stringify","val","removeItem","client","request","Server","Client","clientWindow","clientOrigin","handle","_clientWindow","_clientOrigin","_handler","_messageListener","event","_handleMessage","req","method","id","postMessage","start","addEventListener","stop","removeEventListener","serverWindow","serverOrigin","_serverWindow","_serverOrigin","Math","random","responseListener","timeout","setTimeout","clearTimeout","getRegisteredRp","fetchWithCredentials","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default","auth_header__WEBPACK_IMPORTED_MODULE_2__","auth_header__WEBPACK_IMPORTED_MODULE_2___default","_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__","_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default","_solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4__","_solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4___default","_url_util__WEBPACK_IMPORTED_MODULE_5__","_storage__WEBPACK_IMPORTED_MODULE_6__","rp","saveAppHashFragment","sendAuthRequest","getStoredRp","hash","restoreAppHashFragment","storeData","validateResponse","webId","idClaims","sub","issuer","credentials","info","provider","registration","redirect_uris","includes","registerRp","storeRp","rpConfig","from","opts","responseType","clientNameI18n","entries","_","startsWith","replace","supplementaryOptions","logo_uri","logoUri","contacts","client_name","clientName","grant_types","response_types","scope","defaults","authenticate","redirect_uri","response_type","display","register","createRequest","appHashFragment","_ref","wwwAuthHeader","scheme","params","popToken","issueFor","authorization","objectWithoutPropertiesLoose","_objectWithoutProperties","excluded","sourceSymbolKeys","indexOf","propertyIsEnumerable","_objectWithoutPropertiesLoose","sourceKeys","_format","default","_parse","_interopRequireDefault","_util","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","iter","iterator","isArray","arr2","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_i","_s","next","done","xxx","isToken","quote","build","reduce","prev","_ref2","values","transform","map","challenge","_default","token","isScheme","join","unquote","str","substr","body","normalize","_cur","cur","charAt","trim","parseProperties","string","res","exec","global","assert","Headers","JWKSet","AuthenticationRequest","AuthenticationResponse","onHttpError","FormUrlEncoded","RelyingParty","validation","validate","valid","jwks","then","importKeys","idpId","oobRegistration","assign","discover","configuration","registration_endpoint","getRegistration","response","json","uri","serialize","catch","jwks_uri","match","redirect","authResponse","userinfo","accessToken","userinfo_endpoint","access_token","logoutRequest","id_token_hint","post_logout_redirect_uri","end_session_endpoint","log","search","encode","SESSION_PRIVATE_KEY","popTokenFor","idToken","PoPToken","g","objectAssign","compare","b","x","y","min","isBuffer","Buffer","_isBuffer","util","hasOwn","pSlice","functionsHaveNames","foo","pToString","isView","arrbuf","ArrayBuffer","DataView","buffer","ok","regex","getName","func","isFunction","AssertionError","actual","expected","operator","generatedMessage","getMessage","stackStartFunction","fail","captureStackTrace","stack","out","fn_name","idx","next_line","substring","inherits","truncate","inspect","something","rawname","self","equal","notEqual","deepEqual","_deepEqual","deepStrictEqual","strict","memos","isDate","getTime","isRegExp","multiline","lastIndex","ignoreCase","Float32Array","Float64Array","Uint8Array","actualIndex","objEquiv","isArguments","actualVisitedObjects","isPrimitive","aIsArgs","bIsArgs","ka","objectKeys","kb","sort","notDeepEqual","notDeepStrictEqual","strictEqual","notStrictEqual","expectedException","isPrototypeOf","_tryBlock","block","_throws","shouldThrow","userProvidedMessage","isUnwantedException","isError","isUnexpectedException","throws","doesNotThrow","ifError","propIsEnumerable","toObject","shouldUseNative","test1","test2","fromCharCode","order2","test3","letter","to","process","descriptors","formatRegExp","format","f","isString","objects","isNull","isObject","deprecate","fn","msg","noDeprecation","deprecated","throwDeprecation","traceDeprecation","trace","debugs","debugEnviron","debuglog","isUndefined","env","NODE_DEBUG","toUpperCase","RegExp","pid","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styles","styleType","style","arrayToHash","array","recurseTimes","primitive","formatPrimitive","visibleKeys","formatError","Date","base","braces","toUTCString","output","formatArray","formatProperty","reduceToSingleString","simple","isNumber","desc","line","numLinesEst","ar","isNullOrUndefined","isSymbol","re","objectToString","pad","months","timestamp","time","getHours","getMinutes","getSeconds","getDate","getMonth","add","prop","kCustomPromisifiedSymbol","promisify","original","promiseResolve","promiseReject","promise","setPrototypeOf","custom","callbackifyOnRejected","reason","cb","newReason","callbackify","callbackified","maybeCb","nextTick","rej","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","Item","title","browser","argv","version","versions","noop","binding","cwd","chdir","dir","umask","fill","readUInt8","ctor","superCtor","super_","TempCtor","crypto","JWA","JWK","JWT","JWS","imported","__webpack_module__","_webcrypto_shim_mjs__WEBPACK_IMPORTED_MODULE_0__","factory","define","amd","_crypto","msCrypto","_subtle","subtle","webkitSubtle","_Crypto","Crypto","_SubtleCrypto","SubtleCrypto","_CryptoKey","CryptoKey","Key","isEdge","navigator","userAgent","isIE","isWebkit","s2a","btoa","a2s","atob","s2b","charCodeAt","b2s","alg","publicExponent","modulusLength","SyntaxError","jwkAlg","b2jwk","k","decodeURIComponent","escape","jwk","kty","ext","extractable","jwk2b","unescape","encodeURIComponent","pkcs2jwk","b2der","prv","rsaComp","rsaKey","subarray","jwk2pkcs","der2b","oid2str","str2oid","buf","pos","end","tag","xlen","rv","oid","byteLength","splice","use","_key","algorithm","usages","isPubKeyUse","u","isPrvKeyUse","_fn","kx","ku","key_ops","importKey","getRandomValues","generateKey","all","exportKey","publicKey","privateKey","decrypt","op","onabort","onerror","oncomplete","result","encrypt","tl","tagLength","AesGcmEncryptResult","ciphertext","_digest","digest","supportedAlgorithms","NotSupportedError","sign","normalizedAlgorithm","verify","signature","None","HMAC","RSASSA_PKCS1_v1_5","SupportedAlgorithms","base64url","TextEncoder","toBuffer","assertSufficientKeyLength","bitlength","base64","ieee754","SlowBuffer","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","typedArraySupport","kMaxLength","__proto__","createBuffer","encodingOrOffset","allocUnsafe","poolSize","_augment","fromArrayBuffer","fromString","fromObject","species","assertSize","size","alloc","encoding","checked","allocUnsafeSlow","isEncoding","write","fromArrayLike","byteOffset","isnan","toLowerCase","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","swap16","swap32","swap64","equals","max","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","remaining","strLen","parsed","parseInt","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","fromByteArray","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","toHex","bytes","newBuf","sliceLen","checkOffset","readUIntLE","noAssert","mul","readUIntBE","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","floor","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","code","INVALID_BASE64_RE","base64clean","stringtrim","units","Infinity","leadSurrogate","byteArray","hi","lo","toByteArray","src","dst","lookup","revLookup","Arr","getLens","b64","validLen","placeHoldersLen","lens","_byteLength","tmp","curByte","tripletToBase64","num","encodeChunk","uint8","extraBytes","parts","maxChunkLength","len2","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","LN2","pad_string_1","fromBase64","decode","toBase64","padString","segmentLength","stringLength","diff","padLength","paddedStringLength","cryptoKey","operations","argument","registeredAlgorithms","DataError","kid","x5u","x5c","x5t","importing","JOSEHeader","segments","header","protected","unprotected","iv","aad","recipients","payload","signatures","serialization","ExtendedJWT","jwt","verified","isJWE","enc","resolveKeys","find","JWE","typ","cty","jku","crit","zip","isJWS","endpoint","authorization_endpoint","client_id","nonce","digests","generateSessionKeys","sessionKeys","storeSessionKeys","request_parameter_supported","encodeRequestParams","encodedParams","keyPair","jwkPair","publicJwk","privateJwk","public","private","excludeParams","keysToEncode","requestParamJwt","requestParamCompact","newParams","pairs","pair","IDToken","Session","HttpError","parseResponse","errorResponse","matchRequest","validateStateParam","validateResponseMode","validateResponseParams","exchangeAuthorizationCode","validateIDToken","fromAuthResponse","errorCode","errorParams","octets","encoded","expectedParams","id_token","token_type","secret","token_endpoint","bodyContents","authMethod","tokenResponse","decryptIDToken","decodeIDToken","validateIssuer","validateAudience","verifySignature","validateExpires","verifyNonce","validateAcr","validateAuthTime","validateAccessTokenHash","validateAuthorizationCodeHash","decoded","decodeError","cause","iss","aud","azp","isFreshJwks","expectedAlgorithm","exp","now","REQUIRED_CLAIMS","TokenClaimsSet","iat","nbf","jti","auth_time","acr","amr","claim","validationError","payloadResult","credentialType","sessionKey","accessClaims","rpAuthOptions","refresh_token","hasCredentials","bearerTokenFor","errorMessage","statusText","statusCode","DEFAULT_MAX_AGE","resourceServerUri","importedSessionJwk","issue","StandardError","STATUS_CODE_TO_NAME","STATUS_NAME_TO_CODE","props","alias","statusMessage","has","proto","openIdpPopup","obtainSession","popupHandler","_url_util__WEBPACK_IMPORTED_MODULE_1__","width","height","left","screenX","innerWidth","top","screenY","innerHeight","settings","open","popupServer","foundSessionCb"],"mappings":"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","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _solid_auth_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n // Export a singleton instance of SolidAuthClient\n\nconst auth = new _solid_auth_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n/* harmony default export */ __webpack_exports__[\"default\"] = (auth); // Bind methods to instance, so they can be invoked as regular functions\n// (e.g., to pass around the fetch function)\n\nObject.getOwnPropertyNames(_solid_auth_client__WEBPACK_IMPORTED_MODULE_0__[\"default\"].prototype).forEach(property => {\n  const value = auth[property];\n\n  if (typeof value === 'function') {\n    auth[property] = value.bind(auth);\n  }\n}); // Expose window.SolidAuthClient for backward compatibility\n\nif (typeof window !== 'undefined') {\n  if ('SolidAuthClient' in window) {\n    console.warn('Caution: multiple versions of solid-auth-client active.');\n  } else {\n    let warned = false;\n    Object.defineProperty(window, 'SolidAuthClient', {\n      enumerable: true,\n      get: () => {\n        if (!warned) {\n          warned = true;\n          console.warn('window.SolidAuthClient has been deprecated.');\n          console.warn('Please use window.solid.auth instead.');\n        }\n\n        return auth;\n      }\n    });\n  }\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return SolidAuthClient; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(3);\n/* harmony import */ var events__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(events__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _authn_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(4);\n/* harmony import */ var _popup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(65);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(9);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(6);\n/* harmony import */ var _webid_oidc__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(11);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* global fetch */\n\n\n\n\n\n\n // Store the global fetch, so the user is free to override it\n\nconst globalFetch = fetch;\nclass SolidAuthClient extends events__WEBPACK_IMPORTED_MODULE_1___default.a {\n  constructor(...args) {\n    super(...args);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_pendingSession\", void 0);\n  }\n\n  fetch(input, options) {\n    this.emit('request', Object(_url_util__WEBPACK_IMPORTED_MODULE_6__[\"toUrlString\"])(input));\n    return Object(_authn_fetch__WEBPACK_IMPORTED_MODULE_2__[\"authnFetch\"])(Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])(), globalFetch, input, options);\n  }\n\n  login(idp, options) {\n    options = _objectSpread(_objectSpread({}, defaultLoginOptions(Object(_url_util__WEBPACK_IMPORTED_MODULE_6__[\"currentUrlNoParams\"])())), options);\n    return _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"login\"](idp, options);\n  }\n\n  async popupLogin(options) {\n    options = _objectSpread(_objectSpread({}, defaultLoginOptions()), options);\n\n    if (!/https?:/.test(options.popupUri)) {\n      options.popupUri = new URL(options.popupUri || '/.well-known/solid/login', window.location).toString();\n    }\n\n    if (!options.callbackUri) {\n      options.callbackUri = options.popupUri;\n    }\n\n    const popup = Object(_popup__WEBPACK_IMPORTED_MODULE_3__[\"openIdpPopup\"])(options.popupUri);\n    const session = await Object(_popup__WEBPACK_IMPORTED_MODULE_3__[\"obtainSession\"])(options.storage, popup, options);\n    this.emit('login', session);\n    this.emit('session', session);\n    return session;\n  }\n\n  async currentSession(storage = Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()) {\n    // Try to obtain a stored or pending session\n    let session = this._pendingSession || (await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage)); // If none found, attempt to create a new session\n\n    if (!session) {\n      // Try to create a new OIDC session from stored tokens\n      try {\n        this._pendingSession = _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"currentSession\"](storage);\n        session = await this._pendingSession;\n      } catch (err) {\n        console.error(err);\n      } // Save the new session and emit session events\n\n\n      if (session) {\n        await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"saveSession\"])(storage)(session);\n        this.emit('login', session);\n        this.emit('session', session);\n      }\n\n      delete this._pendingSession;\n    }\n\n    return session;\n  }\n\n  async trackSession(callback) {\n    /* eslint-disable standard/no-callback-literal */\n    callback(await this.currentSession());\n    this.on('session', callback);\n  }\n\n  stopTrackSession(callback) {\n    this.removeListener('session', callback);\n  }\n\n  async logout(storage = Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()) {\n    const session = await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage);\n\n    if (session) {\n      try {\n        await _webid_oidc__WEBPACK_IMPORTED_MODULE_7__[\"logout\"](storage, globalFetch);\n        this.emit('logout');\n        this.emit('session', null);\n      } catch (err) {\n        console.warn('Error logging out:');\n        console.error(err);\n      }\n\n      await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"clearSession\"])(storage);\n    }\n  }\n\n}\n\nfunction defaultLoginOptions(url) {\n  return {\n    callbackUri: url ? url.split('#')[0] : '',\n    popupUri: '',\n    storage: Object(_storage__WEBPACK_IMPORTED_MODULE_5__[\"defaultStorage\"])()\n  };\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"authnFetch\", function() { return authnFetch; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/* harmony import */ var isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(isomorphic_fetch__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(6);\n/* harmony import */ var _host__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(7);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(8);\n/* harmony import */ var _webid_oidc__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(11);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\nasync function authnFetch(storage, fetch, input, options) {\n  // Copy headers into a modifiable object\n  if (options) {\n    const headers = copyHeaders(options.headers);\n    options = _objectSpread(_objectSpread({}, options), {}, {\n      headers\n    });\n  } // If not authenticated, perform a regular fetch\n\n\n  const session = await Object(_session__WEBPACK_IMPORTED_MODULE_4__[\"getSession\"])(storage);\n\n  if (!session) {\n    return fetch(input, options);\n  } // If we know the server expects credentials, send them\n\n\n  if (await shouldShareCredentials(storage, input)) {\n    return Object(_webid_oidc__WEBPACK_IMPORTED_MODULE_5__[\"fetchWithCredentials\"])(session, fetch, input, options);\n  } // If we don't know for sure, try a regular fetch first\n\n\n  let resp = await fetch(input, options); // If the server then requests credentials, send them\n\n  if (resp.status === 401) {\n    await Object(_host__WEBPACK_IMPORTED_MODULE_3__[\"updateHostFromResponse\"])(storage)(resp);\n\n    if (await shouldShareCredentials(storage, input)) {\n      resp = Object(_webid_oidc__WEBPACK_IMPORTED_MODULE_5__[\"fetchWithCredentials\"])(session, fetch, input, options);\n    }\n  }\n\n  return resp;\n}\n\nasync function shouldShareCredentials(storage, input) {\n  const requestHost = await Object(_host__WEBPACK_IMPORTED_MODULE_3__[\"getHost\"])(storage)(Object(_url_util__WEBPACK_IMPORTED_MODULE_2__[\"toUrlString\"])(input));\n  return requestHost != null && requestHost.requiresAuth;\n}\n\nfunction copyHeaders(origHeaders) {\n  const headers = {};\n\n  if (origHeaders) {\n    if (typeof origHeaders.forEach === 'function') {\n      origHeaders.forEach((value, key) => {\n        headers[key] = value;\n      });\n    } else {\n      for (const key in origHeaders) {\n        headers[key] = origHeaders[key];\n      }\n    }\n  }\n\n  return headers;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n(function() { module.exports = window[\"fetch\"]; }());\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentUrl\", function() { return currentUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentUrlNoParams\", function() { return currentUrlNoParams; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"navigateTo\", function() { return navigateTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"originOf\", function() { return originOf; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"toUrlString\", function() { return toUrlString; });\n/* eslint-env browser */\nfunction getLocation() {\n  return typeof window !== 'undefined' ? window.location : {\n    href: 'https://example.org/',\n    pathname: '/',\n    origin: 'example.org'\n  };\n}\n\nconst currentUrl = () => getLocation().href;\nconst currentUrlNoParams = () => getLocation().origin + getLocation().pathname;\nconst navigateTo = url => {\n  getLocation().href = url;\n};\nconst originOf = url => new URL(url).origin;\nconst toUrlString = url => {\n  if (typeof url !== 'string') {\n    url = 'url' in url ? url.url : url.toString();\n  }\n\n  return new URL(url, currentUrl()).toString();\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getHost\", function() { return getHost; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveHost\", function() { return saveHost; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateHostFromResponse\", function() { return updateHostFromResponse; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(8);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(9);\n/* harmony import */ var _webid_oidc__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(11);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* globalRequest, Response, URL */\n\n\n\nfunction getHost(storage) {\n  return async url => {\n    const {\n      host\n    } = new URL(url);\n    const session = await Object(_session__WEBPACK_IMPORTED_MODULE_1__[\"getSession\"])(storage);\n\n    if (session && host === new URL(session.idp).host) {\n      return {\n        url: host,\n        requiresAuth: true\n      };\n    }\n\n    const {\n      hosts\n    } = await Object(_storage__WEBPACK_IMPORTED_MODULE_2__[\"getData\"])(storage);\n    return hosts && hosts[host];\n  };\n}\nfunction saveHost(storage) {\n  return async ({\n    url,\n    requiresAuth\n  }) => {\n    await Object(_storage__WEBPACK_IMPORTED_MODULE_2__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n      hosts: _objectSpread(_objectSpread({}, data.hosts), {}, {\n        [url]: {\n          requiresAuth\n        }\n      })\n    }));\n  };\n}\nfunction updateHostFromResponse(storage) {\n  return async resp => {\n    if (_webid_oidc__WEBPACK_IMPORTED_MODULE_3__[\"requiresAuth\"](resp)) {\n      const {\n        host\n      } = new URL(resp.url);\n      await saveHost(storage)({\n        url: host,\n        requiresAuth: true\n      });\n    }\n  };\n}\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSession\", function() { return getSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"saveSession\", function() { return saveSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"clearSession\", function() { return clearSession; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9);\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\nasync function getSession(storage) {\n  const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"getData\"])(storage);\n  return data.session || null;\n}\nfunction saveSession(storage) {\n  return async session => {\n    const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n      session\n    }));\n    return data.session;\n  };\n}\nasync function clearSession(storage) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_1__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n    session: null\n  }));\n}\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NAMESPACE\", function() { return NAMESPACE; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultStorage\", function() { return defaultStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getData\", function() { return getData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateStorage\", function() { return updateStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"asyncStorage\", function() { return asyncStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"memStorage\", function() { return memStorage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ipcStorage\", function() { return ipcStorage; });\n/* harmony import */ var _ipc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n\nconst NAMESPACE = 'solid-auth-client';\nconst defaultStorage = () => {\n  const hasLocalStorage = typeof window !== 'undefined' && 'localStorage' in window;\n  return asyncStorage(hasLocalStorage ? window.localStorage : memStorage());\n};\n/**\n * Gets the deserialized stored data\n */\n\nasync function getData(store) {\n  let serialized;\n  let data;\n\n  try {\n    serialized = await store.getItem(NAMESPACE);\n    data = JSON.parse(serialized || '{}');\n  } catch (e) {\n    console.warn('Could not deserialize data:', serialized);\n    console.error(e);\n    data = {};\n  }\n\n  return data;\n}\n/**\n * Updates a Storage object without mutating its intermediate representation.\n */\n\nasync function updateStorage(store, update) {\n  const currentData = await getData(store);\n  const newData = update(currentData);\n  await store.setItem(NAMESPACE, JSON.stringify(newData));\n  return newData;\n}\n/**\n * Takes a synchronous storage interface and wraps it with an async interface.\n */\n\nfunction asyncStorage(storage) {\n  return {\n    getItem: key => {\n      return Promise.resolve(storage.getItem(key));\n    },\n    setItem: (key, val) => {\n      return Promise.resolve(storage.setItem(key, val));\n    },\n    removeItem: key => {\n      return Promise.resolve(storage.removeItem(key));\n    }\n  };\n}\nconst memStorage = () => {\n  const store = {};\n  return {\n    getItem: key => {\n      if (typeof store[key] === 'undefined') return null;\n      return store[key];\n    },\n    setItem: (key, val) => {\n      store[key] = val;\n    },\n    removeItem: key => {\n      delete store[key];\n    }\n  };\n};\nfunction ipcStorage(client) {\n  return {\n    getItem: key => client.request('storage/getItem', key),\n    setItem: (key, val) => client.request('storage/setItem', key, val),\n    removeItem: key => client.request('storage/removeItem', key)\n  };\n}\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Server\", function() { return Server; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Client\", function() { return Client; });\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);\n\n\n/*\n  This module describes a simple IPC interface for communicating between browser windows.\n  window.postMessage() is the transport interface, and a request/response interface\n  is defined on top of it as follows:\n\n  const request = {\n    'solid-auth-client': {\n      id: 1234,\n      method: 'doSomethingPlease',\n      args: [ 'one', 'two', 'three' ]\n    }\n  }\n\n  const response = {\n    'solid-auth-client': {\n      id: 1234,\n      ret: 'the_value'\n    }\n  }\n*/\nconst NAMESPACE = 'solid-auth-client';\n/**\n * Receives and handles remote procedure calls.\n */\n\nclass Server {\n  constructor(clientWindow, clientOrigin, handle) {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_clientWindow\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_clientOrigin\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_handler\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_messageListener\", void 0);\n\n    this._clientWindow = clientWindow;\n    this._clientOrigin = clientOrigin;\n    this._handler = handle;\n\n    this._messageListener = event => this._handleMessage(event);\n  }\n\n  async _handleMessage({\n    data,\n    origin\n  }) {\n    // Ensure we can post to the origin\n    if (origin !== this._clientOrigin) {\n      console.warn(\"solid-auth-client is listening to \".concat(this._clientOrigin, \" \") + \"so ignored a message received from \".concat(origin, \".\"));\n      return;\n    } // Parse the request and send it to the handler\n\n\n    const req = data && data[NAMESPACE];\n\n    if (req && req.method) {\n      const {\n        id,\n        method,\n        args\n      } = req;\n      const ret = await this._handler(method, ...args);\n\n      this._clientWindow.postMessage({\n        [NAMESPACE]: {\n          id,\n          ret\n        }\n      }, this._clientOrigin);\n    }\n  }\n\n  start() {\n    window.addEventListener('message', this._messageListener);\n  }\n\n  stop() {\n    window.removeEventListener('message', this._messageListener);\n  }\n\n}\n/**\n * Makes remote procedure calls.\n */\n\nclass Client {\n  constructor(serverWindow, serverOrigin) {\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_serverWindow\", void 0);\n\n    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, \"_serverOrigin\", void 0);\n\n    this._serverWindow = serverWindow;\n    this._serverOrigin = serverOrigin;\n  }\n\n  request(method, ...args) {\n    // Send the request as a message to the server window\n    const id = Math.random();\n\n    this._serverWindow.postMessage({\n      [NAMESPACE]: {\n        id,\n        method,\n        args\n      }\n    }, this._serverOrigin); // Create a promise that resolves to the request's return value\n\n\n    return new Promise((resolve, reject) => {\n      // Listen for responses to the request\n      window.addEventListener('message', responseListener); // Cancel if the response takes too long\n\n      const timeout = setTimeout(() => {\n        reject(new Error('Could not connect to main window.'));\n        window.removeEventListener('message', responseListener);\n      }, 2000); // Processes a possible response to the request\n\n      function responseListener({\n        data\n      }) {\n        const resp = data && data[NAMESPACE]; // eslint-disable-next-line no-prototype-builtins\n\n        if (resp && resp.id === id && resp.hasOwnProperty('ret')) {\n          resolve(resp.ret);\n          clearTimeout(timeout);\n          window.removeEventListener('message', responseListener);\n        }\n      }\n    });\n  }\n\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"login\", function() { return login; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"currentSession\", function() { return currentSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"logout\", function() { return logout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRegisteredRp\", function() { return getRegisteredRp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"requiresAuth\", function() { return requiresAuth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchWithCredentials\", function() { return fetchWithCredentials; });\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(2);\n/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var auth_header__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(14);\n/* harmony import */ var auth_header__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(auth_header__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(18);\n/* harmony import */ var _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(61);\n/* harmony import */ var _solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(6);\n/* harmony import */ var _storage__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(9);\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_1___default()(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/* global Response */\n\n\n\n\n\nasync function login(idp, options) {\n  try {\n    const rp = await getRegisteredRp(idp, options);\n    await saveAppHashFragment(options.storage);\n    return sendAuthRequest(rp, options);\n  } catch (err) {\n    console.warn('Error logging in with WebID-OIDC');\n    console.error(err);\n    return null;\n  }\n}\nasync function currentSession(storage = Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"defaultStorage\"])()) {\n  try {\n    // Obtain the Relying Party\n    const rp = await getStoredRp(storage);\n\n    if (!rp) {\n      return null;\n    } // Obtain and clear the OIDC URL fragment\n\n\n    const url = Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"currentUrl\"])();\n\n    if (!/#(.*&)?access_token=/.test(url)) {\n      return null;\n    }\n\n    window.location.hash = '';\n    await restoreAppHashFragment(storage); // Obtain a session from the Relying Party\n\n    const storeData = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n    const session = await rp.validateResponse(url, storeData);\n\n    if (!session) {\n      return null;\n    }\n\n    return _objectSpread(_objectSpread({}, session), {}, {\n      webId: session.idClaims.sub,\n      idp: session.issuer\n    });\n  } catch (err) {\n    console.warn('Error finding a WebID-OIDC session');\n    console.error(err);\n    return null;\n  }\n}\nasync function logout(storage, fetch) {\n  const rp = await getStoredRp(storage);\n\n  if (rp) {\n    try {\n      // First log out from the IDP\n      await rp.logout(); // Then, log out from the RP\n\n      try {\n        await fetch('/.well-known/solid/logout', {\n          credentials: 'include'\n        });\n      } catch (e) {\n        // Ignore errors for when we are not on a Solid pod\n        // But tell users it is harmless because they will see the GET failure in the console\n        console.info(\"Couldn't find /.well-known/solid/logout, this is harmless.\");\n      }\n    } catch (err) {\n      console.warn('Error logging out of the WebID-OIDC session');\n      console.error(err);\n    }\n  }\n}\nasync function getRegisteredRp(idp, options) {\n  // To reuse a possible previous RP,\n  // it be for the same IDP and redirect URI\n  let rp = await getStoredRp(options.storage);\n\n  if (!rp || rp.provider.url !== idp || !rp.registration.redirect_uris.includes(options.callbackUri)) {\n    // Register a new RP\n    rp = await registerRp(idp, options);\n    await storeRp(options.storage, idp, rp);\n  }\n\n  return rp;\n}\n\nasync function getStoredRp(storage) {\n  const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n  const {\n    rpConfig\n  } = data;\n\n  if (rpConfig) {\n    rpConfig.store = storage;\n    return _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default.a.from(rpConfig);\n  } else {\n    return null;\n  }\n}\n\nasync function storeRp(storage, idp, rp) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(storage, data => _objectSpread(_objectSpread({}, data), {}, {\n    rpConfig: rp\n  }));\n  return rp;\n}\n\nfunction registerRp(idp, opts) {\n  const {\n    storage,\n    callbackUri\n  } = opts;\n  const responseType = 'id_token token';\n  const clientNameI18n = {};\n  Object.entries(opts).filter(([key, _]) => key.startsWith('clientName#')).forEach(([key, value]) => clientNameI18n[key.replace('clientName#', 'client_name#')] = value);\n  const supplementaryOptions = {\n    logo_uri: opts.logoUri,\n    contacts: opts.contacts,\n    client_name: opts.clientName\n  };\n\n  const registration = _objectSpread(_objectSpread({\n    issuer: idp,\n    grant_types: ['implicit'],\n    redirect_uris: [callbackUri],\n    response_types: [responseType],\n    scope: 'openid profile'\n  }, clientNameI18n), supplementaryOptions); // Note that overrides @solid/oidc-rp/RelyingParty defaults (i.e. not merged)\n\n\n  const options = {\n    defaults: {\n      authenticate: {\n        redirect_uri: callbackUri,\n        response_type: responseType,\n        display: 'page',\n        scope: ['openid']\n      }\n    },\n    store: storage\n  };\n  return _solid_oidc_rp__WEBPACK_IMPORTED_MODULE_3___default.a.register(idp, registration, options);\n}\n\nasync function sendAuthRequest(rp, {\n  callbackUri,\n  storage\n}) {\n  const data = await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"getData\"])(storage);\n  const url = await rp.createRequest({\n    redirect_uri: callbackUri\n  }, data);\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(storage, () => data);\n  return Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"navigateTo\"])(url);\n}\n\nasync function saveAppHashFragment(store) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(store, data => _objectSpread(_objectSpread({}, data), {}, {\n    appHashFragment: window.location.hash\n  }));\n}\n\nasync function restoreAppHashFragment(store) {\n  await Object(_storage__WEBPACK_IMPORTED_MODULE_6__[\"updateStorage\"])(store, (_ref) => {\n    let {\n      appHashFragment = ''\n    } = _ref,\n        data = _babel_runtime_helpers_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0___default()(_ref, [\"appHashFragment\"]);\n\n    window.location.hash = appHashFragment;\n    return data;\n  });\n}\n/**\n * Answers whether a HTTP response requires WebID-OIDC authentication.\n */\n\n\nfunction requiresAuth(resp) {\n  if (resp.status !== 401) {\n    return false;\n  }\n\n  const wwwAuthHeader = resp.headers.get('www-authenticate');\n\n  if (!wwwAuthHeader) {\n    return false;\n  }\n\n  const auth = auth_header__WEBPACK_IMPORTED_MODULE_2__[\"parse\"](wwwAuthHeader);\n  return auth.scheme === 'Bearer' && auth.params && auth.params.scope === 'openid webid';\n}\n/**\n * Fetches a resource, providing the WebID-OIDC ID Token as authentication.\n * Assumes that the resource has requested those tokens in a previous response.\n */\n\nasync function fetchWithCredentials(session, fetch, input, options) {\n  // Add Authorization header (assuming a modifiable headers object)\n  const headers = (options ? options.headers : input.headers) || {};\n  const popToken = await _solid_oidc_rp_src_PoPToken__WEBPACK_IMPORTED_MODULE_4___default.a.issueFor(Object(_url_util__WEBPACK_IMPORTED_MODULE_5__[\"toUrlString\"])(input), session);\n  headers.authorization = \"Bearer \".concat(popToken);\n  return fetch(input, _objectSpread(_objectSpread({}, options), {}, {\n    credentials: 'include',\n    headers\n  }));\n}\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar objectWithoutPropertiesLoose = __webpack_require__(13);\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"format\", {\n  enumerable: true,\n  get: function get() {\n    return _format.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\n\nvar _format = _interopRequireDefault(__webpack_require__(15));\n\nvar _parse = _interopRequireDefault(__webpack_require__(17));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=index.js.map\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = __webpack_require__(16);\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar xxx = function xxx(key) {\n  return function (value) {\n    return `${key}=${value && !(0, _util.isToken)(value) ? (0, _util.quote)(value) : value}`;\n  };\n};\n\nvar build = function build(params) {\n  return params.reduce(function (prev, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        values = _ref2[1];\n\n    var transform = xxx(key);\n\n    if (!(0, _util.isToken)(key)) {\n      throw new TypeError();\n    }\n\n    if (Array.isArray(values)) {\n      return _toConsumableArray(prev).concat(_toConsumableArray(values.map(transform)));\n    }\n\n    return _toConsumableArray(prev).concat([transform(values)]);\n  }, []);\n};\n\nvar challenge = function challenge(params, options) {\n  if (Array.isArray(params)) {\n    return build(params);\n  } else if (typeof params === 'object') {\n    var entries = params;\n    return challenge(Object.keys(params).map(function (key) {\n      return [key, entries[key]];\n    }), options);\n  }\n\n  throw new TypeError();\n};\n\nvar _default = function _default(scheme, token, params) {\n  var obj = typeof scheme === 'string' ? {\n    scheme,\n    token,\n    params\n  } : scheme;\n\n  if (typeof obj !== 'object') {\n    throw new TypeError();\n  } else if (!(0, _util.isScheme)(obj.scheme)) {\n    throw new TypeError('Invalid scheme.');\n  }\n\n  return [obj.scheme].concat(_toConsumableArray(typeof obj.token !== 'undefined' ? [obj.token] : []), _toConsumableArray(typeof obj.params !== 'undefined' ? challenge(obj.params) : [])).join(' ');\n};\n\nexports.default = _default;\n//# sourceMappingURL=format.js.map\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unquote = exports.quote = exports.isScheme = exports.isToken = void 0;\nvar token = /^[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+$/;\n\nvar isToken = function isToken(str) {\n  return typeof str === 'string' && token.test(str);\n};\n\nexports.isToken = isToken;\nvar isScheme = isToken;\nexports.isScheme = isScheme;\n\nvar quote = function quote(str) {\n  return `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n};\n\nexports.quote = quote;\n\nvar unquote = function unquote(str) {\n  return str.substr(1, str.length - 2).replace(/\\\\\"/g, '\"');\n};\n\nexports.unquote = unquote;\n//# sourceMappingURL=util.js.map\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = __webpack_require__(16);\n\n// lol dis\nvar body = /((?:[a-zA-Z0-9._~+\\/-]+=*(?:\\s+|$))|[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+)(?:=([^\\\\\"=\\s,]+|\"(?:[^\"\\\\]|\\\\.)*\"))?/g; // eslint-disable-line\n\nvar normalize = function normalize(prev, _cur) {\n  // Fixup quoted strings and tokens with spaces around them\n  var cur = _cur.charAt(0) === '\"' ? (0, _util.unquote)(_cur) : _cur.trim(); // Marshal\n\n  if (Array.isArray(prev)) {\n    return prev.concat(cur);\n  } else if (typeof prev === 'string') {\n    return [prev, cur];\n  }\n\n  return cur;\n};\n\nvar parseProperties = function parseProperties(scheme, string) {\n  var token = null;\n  var params = {}; // eslint-disable-next-line no-constant-condition\n\n  while (true) {\n    var res = body.exec(string);\n\n    if (res === null) {\n      break;\n    }\n\n    if (res[2]) {\n      params[res[1]] = normalize(params[res[1]], res[2]);\n    } else {\n      token = normalize(token, res[1]);\n    }\n  }\n\n  return {\n    scheme,\n    params,\n    token\n  };\n};\n\nvar _default = function _default(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Header value must be a string.');\n  }\n\n  var start = str.indexOf(' ');\n  var scheme = str.substr(0, start);\n\n  if (!(0, _util.isScheme)(scheme)) {\n    throw new TypeError(`Invalid scheme ${scheme}`);\n  }\n\n  return parseProperties(scheme, str.substr(start));\n};\n\nexports.default = _default;\n//# sourceMappingURL=parse.js.map\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = __webpack_require__(19);\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {/**\n * Dependencies\n */\nconst assert = __webpack_require__(21);\n\nconst fetch = __webpack_require__(5);\n\nconst {\n  URL\n} = __webpack_require__(27);\n\nconst Headers = fetch.Headers ? fetch.Headers : global.Headers;\n\nconst {\n  JWKSet\n} = __webpack_require__(28);\n\nconst AuthenticationRequest = __webpack_require__(55);\n\nconst AuthenticationResponse = __webpack_require__(57);\n\nconst onHttpError = __webpack_require__(60);\n\nconst FormUrlEncoded = __webpack_require__(56);\n/**\n * RelyingParty\n *\n * @class\n * Client interface for OpenID Connect Relying Party.\n *\n * @example\n *  let client = RelyingParty({\n *    provider: {\n *      name: 'Anvil Research, Inc.',\n *      url: 'https://forge.anvil.io'\n *      // configuration\n *      // jwks\n *    },\n *    defaults: {\n *      popToken: false,\n *      authenticate: {\n *        response_type: 'code',\n *        display: 'popup',\n *        scope: 'openid profile email'\n *      },\n *      register: {\n *        client_name: 'Example',\n *        client_uri: 'https://example.com',\n *        logo_uri: 'https://example.com/assets/logo.png',\n *        redirect_uris: ['https://app.example.com/callback'],\n *        response_types: ['code', 'code id_token token'],\n *        grant_types: ['authorization_code'],\n *        default_max_age: 7200,\n *        post_logout_redirect_uris: ['https://app.example.com']\n *      },\n *    },\n *    registration: {\n *      // if you have it saved somewhere\n *    },\n *    store: localStorage || req.session\n *  })\n *\n *  client.discover() => Promise\n *  client.jwks() => Promise\n *  client.authenticate()\n *  client.authenticateUri()\n *  client.validateResponse(uri) => Promise\n *  client.userinfo() => Promise\n *  client.logout()\n */\n\n\nclass RelyingParty {\n  constructor({\n    provider = {},\n    defaults,\n    registration = {},\n    store = {}\n  } = {}) {\n    this.provider = provider;\n    this.defaults = defaults || {\n      popToken: false,\n      authenticate: {\n        response_type: 'id_token token',\n        display: 'page',\n        scope: ['openid']\n      }\n    };\n    this.registration = registration;\n    this.store = store;\n  }\n  /**\n   * from\n   *\n   * @description\n   * Create a RelyingParty instance from a previously registered client.\n   *\n   * @param {Object} data\n   * @returns {Promise<RelyingParty>}\n   */\n\n\n  static async from(data) {\n    const rp = new RelyingParty(data);\n    const validation = rp.validate(); // schema validation\n\n    if (!validation.valid) {\n      throw validation.error;\n    }\n\n    const jwks = rp.provider.jwks; // request the JWK Set if missing\n\n    if (!jwks) {\n      return rp.jwks().then(() => rp);\n    } // otherwise import the JWK Set to webcrypto\n\n\n    return JWKSet.importKeys(jwks).then(jwks => {\n      rp.provider.jwks = jwks;\n      return rp;\n    });\n  }\n  /**\n   * register\n   *\n   * @param issuer {string} Provider URL\n   * @param registration {Object} Client dynamic registration options\n   * @param options {Object}\n   * @param options.defaults\n   * @param [options.store] {Session|Storage}\n   * @param [oobRegistration] {Object} Object providing getRegistration(key) function for out-of-band registrations\n   * @param [idpId] {string} A tag identifying the provider used for looking up out-of-band registration data.\n   * @returns {Promise<RelyingParty>} RelyingParty instance, registered.\n   */\n\n\n  static register(issuer, registration, options, idpId, oobRegistration) {\n    const rp = new RelyingParty({\n      provider: {\n        url: issuer\n      },\n      defaults: Object.assign({}, options.defaults),\n      store: options.store\n    });\n    return Promise.resolve().then(() => rp.discover()).then(() => rp.jwks()).then(() => {\n      assert(rp.provider.configuration, 'OpenID Configuration is not initialized.');\n      return rp.provider.configuration.registration_endpoint ? rp.register(registration) : rp.getRegistration(registration, idpId, oobRegistration);\n    }).then(() => rp);\n  }\n\n  validate() {\n    if (!this.provider || !this.provider.url) {\n      return {\n        valid: false,\n        error: new Error('Provider url is required.')\n      };\n    }\n\n    return {\n      valid: true\n    };\n  }\n  /**\n   * Discover\n   *\n   * @description Fetches the issuer's OpenID Configuration.\n   * @returns {Promise<Object>} Resolves with the provider configuration response\n   */\n\n\n  discover() {\n    try {\n      let issuer = this.provider.url;\n      assert(issuer, 'RelyingParty provider must define \"url\"');\n      let url = new URL(issuer);\n      url.pathname = '.well-known/openid-configuration';\n      return fetch(url.toString()).then(onHttpError('Error fetching openid configuration')).then(response => {\n        return response.json().then(json => this.provider.configuration = json);\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * Register\n   *\n   * @description Register's a client with provider as a Relying Party\n   *\n   * @param options {Object}\n   * @returns {Promise<Object>} Resolves with the registration response object\n   */\n\n\n  register(options) {\n    try {\n      let configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.registration_endpoint, 'OpenID Configuration is missing registration_endpoint.');\n      let uri = configuration.registration_endpoint;\n      let method = 'post';\n      let headers = new Headers({\n        'Content-Type': 'application/json'\n      });\n      let params = this.defaults.register;\n      let body = JSON.stringify(Object.assign({}, params, options));\n      return fetch(uri, {\n        method,\n        headers,\n        body\n      }).then(onHttpError('Error registering client')).then(response => {\n        return response.json().then(json => this.registration = json);\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n\n  serialize() {\n    return JSON.stringify(this);\n  }\n  /**\n   * @description\n   * Retrieves an existing Relying Party registration for a provider which does\n   * not support dynamic registration and which requires pre-registration by\n   * some 'out of band' method.\n   *\n   * @param options {Object}\n   * @param idp {string} Key identifying which registration data should be retrieved.\n   * @returns {Promise<Object>} Resolves with the registration response object.\n   */\n\n\n  getRegistration(options, idp, oobRegistration) {\n    return Promise.resolve().then(() => {\n      return this.registration = oobRegistration.getRegistration(idp);\n    }).catch(error => {\n      throw error;\n    });\n  }\n  /**\n   * jwks\n   *\n   * @description Promises the issuer's JWK Set.\n   * @returns {Promise}\n   */\n\n\n  jwks() {\n    try {\n      let configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.jwks_uri, 'OpenID Configuration is missing jwks_uri.');\n      let uri = configuration.jwks_uri;\n      return fetch(uri).then(onHttpError('Error resolving provider keys')).then(response => {\n        return response.json().then(json => JWKSet.importKeys(json)).then(jwks => this.provider.jwks = jwks);\n      });\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * createRequest\n   *\n   * @param options {Object} Authn request options hashmap\n   * @param options.redirect_uri {string}\n   * @param options.response_type {string} e.g. 'code' or 'id_token token'\n   * @param session {Session|Storage} req.session or localStorage\n   * @returns {Promise<string>} Authn request URL\n   */\n\n\n  createRequest(options, session) {\n    return AuthenticationRequest.create(this, options, session || this.store);\n  }\n  /**\n   * Validate Response\n   *\n   * @param response {string} req.query or req.body.text\n   * @param session {Session|Storage} req.session or localStorage or similar\n   *\n   * @returns {Promise<Session>}\n   */\n\n\n  validateResponse(response, session = this.store) {\n    let options;\n\n    if (response.match(/^http(s?):\\/\\//)) {\n      options = {\n        rp: this,\n        redirect: response,\n        session\n      };\n    } else {\n      options = {\n        rp: this,\n        body: response,\n        session\n      };\n    }\n\n    const authResponse = new AuthenticationResponse(options);\n    return AuthenticationResponse.validateResponse(authResponse);\n  }\n  /**\n   * userinfo\n   *\n   * @description\n   * Promises the authenticated user's claims.\n   * access_token can be supplied directly. If not, it is retrieved from storage, if available.\n   * Depending on when userinfo is called, access_token may not yet have been saved to storage.\n   *\n   * @param accessToken {string=} Optional access token from current user session for use against the User Info endpoint\n   * @returns {Promise}\n   */\n\n\n  userinfo(accessToken) {\n    try {\n      let configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n      assert(configuration.userinfo_endpoint, 'OpenID Configuration is missing userinfo_endpoint.');\n      accessToken = accessToken || this.store.access_token;\n      assert(accessToken, 'Missing access token.');\n      let uri = configuration.userinfo_endpoint;\n      let headers = new Headers({\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${accessToken}`\n      });\n      return fetch(uri, {\n        headers\n      }).then(onHttpError('Error fetching userinfo')).then(response => response.json());\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  }\n  /**\n   * logoutRequest\n   *\n   * Composes and returns the logout request URI, based on the OP's\n   * `end_session_endpoint`, with appropriate parameters.\n   *\n   * Note: Calling client code has the responsibility to clear the local\n   * session state (for example, by calling `rp.clearSession()`). In addition,\n   * some IdPs (such as Google) may not provide an `end_session_endpoint`,\n   * in which case, this method will return null.\n   *\n   * @see https://openid.net/specs/openid-connect-session-1_0.html#RPLogout\n   *\n   * @throws {Error} If provider config is not initialized\n   *\n   * @throws {Error} If `post_logout_redirect_uri` was provided without a\n   *   corresponding `id_token_hint`\n   *\n   * @param [options={}] {object}\n   *\n   * @param [options.id_token_hint] {string} RECOMMENDED.\n   *   Previously issued ID Token passed to the logout endpoint as\n   *   a hint about the End-User's current authenticated session with the\n   *   Client. This is used as an indication of the identity of the End-User\n   *   that the RP is requesting be logged out by the OP. The OP *need not* be\n   *   listed as an audience of the ID Token when it is used as an\n   *   `id_token_hint` value.\n   *\n   * @param [options.post_logout_redirect_uri] {string} OPTIONAL. URL to which\n   *   the RP is requesting that the End-User's User Agent be redirected after\n   *   a logout has been performed. The value MUST have been previously\n   *   registered with the OP, either using the `post_logout_redirect_uris`\n   *   Registration parameter or via another mechanism. If supplied, the OP\n   *   SHOULD honor this request following the logout.\n   *\n   *   Note: The requirement to validate the uri for previous registration means\n   *   that, in practice, the `id_token_hint` is REQUIRED if\n   *   `post_logout_redirect_uri` is used. Otherwise, the OP has no way to get\n   *   the `client_id` to load the saved client registration, to validate the\n   *   uri. The only way it can get it is by decoding the `id_token_hint`.\n   *\n   * @param [options.state] {string} OPTIONAL. Opaque value used by the RP to\n   *   maintain state between the logout request and the callback to the\n   *   endpoint specified by the `post_logout_redirect_uri` query parameter. If\n   *   included in the logout request, the OP passes this value back to the RP\n   *   using the `state` query parameter when redirecting the User Agent back to\n   *   the RP.\n   *\n   * TODO: In the future, consider adding `response_mode` param, for the OP to\n   *   determine how to return the `state` back the RP.\n   *   @see http://openid.net/specs/oauth-v2-multiple-response-types-1_0.html#ResponseModes\n   *\n   * TODO: Handle special cases for popular providers (Google, MSFT)\n   *\n   * @returns {string|null} Logout uri (or null if no end_session_endpoint was\n   *   provided in the IdP config)\n   */\n\n\n  logoutRequest(options = {}) {\n    const {\n      id_token_hint,\n      post_logout_redirect_uri,\n      state\n    } = options;\n    let configuration;\n    assert(this.provider, 'OpenID Configuration is not initialized');\n    configuration = this.provider.configuration;\n    assert(configuration, 'OpenID Configuration is not initialized');\n\n    if (!configuration.end_session_endpoint) {\n      console.log(`OpenId Configuration for ` + `${configuration.issuer} is missing end_session_endpoint`);\n      return null;\n    }\n\n    if (post_logout_redirect_uri && !id_token_hint) {\n      throw new Error('id_token_hint is required when using post_logout_redirect_uri');\n    }\n\n    const params = {};\n\n    if (id_token_hint) {\n      params.id_token_hint = id_token_hint;\n    }\n\n    if (post_logout_redirect_uri) {\n      params.post_logout_redirect_uri = post_logout_redirect_uri;\n    }\n\n    if (state) {\n      params.state = state;\n    }\n\n    const url = new URL(configuration.end_session_endpoint);\n    url.search = FormUrlEncoded.encode(params);\n    return url.href;\n  }\n  /**\n   * Logout\n   *\n   * @deprecated\n   *\n   * TODO: Add deprecation warnings, then remove. Client code should\n   *   use `logoutRequest()` instead\n   *\n   * @returns {Promise}\n   */\n\n\n  logout() {\n    let configuration;\n\n    try {\n      assert(this.provider, 'OpenID Configuration is not initialized.');\n      configuration = this.provider.configuration;\n      assert(configuration, 'OpenID Configuration is not initialized.');\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    if (!configuration.end_session_endpoint) {\n      this.clearSession();\n      return Promise.resolve(undefined);\n    }\n\n    let uri = configuration.end_session_endpoint;\n    let method = 'get';\n    return fetch(uri, {\n      method,\n      credentials: 'include'\n    }).then(onHttpError('Error logging out')).then(() => this.clearSession()); // TODO: Validate `frontchannel_logout_uri` if necessary\n\n    /**\n     * frontchannel_logout_uri - OPTIONAL. RP URL that will cause the RP to log\n     * itself out when rendered in an iframe by the OP.\n     *\n     * An `iss` (issuer) query parameter and a `sid`\n     * (session ID) query parameter MAY be included by the OP to enable the RP\n     * to validate the request and to determine which of the potentially\n     * multiple sessions is to be logged out. If a sid (session ID) query\n     * parameter is included, an iss (issuer) query parameter MUST also be\n     * included.\n     * @see https://openid.net/specs/openid-connect-frontchannel-1_0.html#RPLogout\n     */\n  }\n\n  clearSession() {\n    let session = this.store;\n\n    if (!session) {\n      return;\n    }\n\n    delete session[SESSION_PRIVATE_KEY];\n  }\n  /**\n   * @param uri {string} Target Resource Server URI\n   * @param idToken {IDToken} ID Token to be embedded in the PoP token\n   *\n   * @returns {Promise<PoPToken>}\n   */\n\n\n  popTokenFor(uri, idToken) {\n    return PoPToken.issueFor(uri, idToken);\n  }\n\n}\n\nconst SESSION_PRIVATE_KEY = 'oidc.session.privateKey';\nRelyingParty.SESSION_PRIVATE_KEY = SESSION_PRIVATE_KEY;\nmodule.exports = RelyingParty;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nvar objectAssign = __webpack_require__(22);\n\n// compare and isBuffer taken from https://github.com/feross/buffer/blob/680e9e5e488f22aac27599a57dc844a6315928dd/index.js\n// original notice:\n\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\nfunction compare(a, b) {\n  if (a === b) {\n    return 0;\n  }\n\n  var x = a.length;\n  var y = b.length;\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i];\n      y = b[i];\n      break;\n    }\n  }\n\n  if (x < y) {\n    return -1;\n  }\n  if (y < x) {\n    return 1;\n  }\n  return 0;\n}\nfunction isBuffer(b) {\n  if (global.Buffer && typeof global.Buffer.isBuffer === 'function') {\n    return global.Buffer.isBuffer(b);\n  }\n  return !!(b != null && b._isBuffer);\n}\n\n// based on node assert, original notice:\n// NB: The URL to the CommonJS spec is kept just for tradition.\n//     node-assert has evolved a lot since then, both in API and behavior.\n\n// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar util = __webpack_require__(23);\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar pSlice = Array.prototype.slice;\nvar functionsHaveNames = (function () {\n  return function foo() {}.name === 'foo';\n}());\nfunction pToString (obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction isView(arrbuf) {\n  if (isBuffer(arrbuf)) {\n    return false;\n  }\n  if (typeof global.ArrayBuffer !== 'function') {\n    return false;\n  }\n  if (typeof ArrayBuffer.isView === 'function') {\n    return ArrayBuffer.isView(arrbuf);\n  }\n  if (!arrbuf) {\n    return false;\n  }\n  if (arrbuf instanceof DataView) {\n    return true;\n  }\n  if (arrbuf.buffer && arrbuf.buffer instanceof ArrayBuffer) {\n    return true;\n  }\n  return false;\n}\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nvar regex = /\\s*function\\s+([^\\(\\s]*)\\s*/;\n// based on https://github.com/ljharb/function.prototype.name/blob/adeeeec8bfcc6068b187d7d9fb3d5bb1d3a30899/implementation.js\nfunction getName(func) {\n  if (!util.isFunction(func)) {\n    return;\n  }\n  if (functionsHaveNames) {\n    return func.name;\n  }\n  var str = func.toString();\n  var match = str.match(regex);\n  return match && match[1];\n}\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  } else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = getName(stackStartFunction);\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction truncate(s, n) {\n  if (typeof s === 'string') {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\nfunction inspect(something) {\n  if (functionsHaveNames || !util.isFunction(something)) {\n    return util.inspect(something);\n  }\n  var rawname = getName(something);\n  var name = rawname ? ': ' + rawname : '';\n  return '[Function' +  name + ']';\n}\nfunction getMessage(self) {\n  return truncate(inspect(self.actual), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(inspect(self.expected), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nassert.deepStrictEqual = function deepStrictEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'deepStrictEqual', assert.deepStrictEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected, strict, memos) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n  } else if (isBuffer(actual) && isBuffer(expected)) {\n    return compare(actual, expected) === 0;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if ((actual === null || typeof actual !== 'object') &&\n             (expected === null || typeof expected !== 'object')) {\n    return strict ? actual === expected : actual == expected;\n\n  // If both values are instances of typed arrays, wrap their underlying\n  // ArrayBuffers in a Buffer each to increase performance\n  // This optimization requires the arrays to have the same type as checked by\n  // Object.prototype.toString (aka pToString). Never perform binary\n  // comparisons for Float*Arrays, though, since e.g. +0 === -0 but their\n  // bit patterns are not identical.\n  } else if (isView(actual) && isView(expected) &&\n             pToString(actual) === pToString(expected) &&\n             !(actual instanceof Float32Array ||\n               actual instanceof Float64Array)) {\n    return compare(new Uint8Array(actual.buffer),\n                   new Uint8Array(expected.buffer)) === 0;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else if (isBuffer(actual) !== isBuffer(expected)) {\n    return false;\n  } else {\n    memos = memos || {actual: [], expected: []};\n\n    var actualIndex = memos.actual.indexOf(actual);\n    if (actualIndex !== -1) {\n      if (actualIndex === memos.expected.indexOf(expected)) {\n        return true;\n      }\n    }\n\n    memos.actual.push(actual);\n    memos.expected.push(expected);\n\n    return objEquiv(actual, expected, strict, memos);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b, strict, actualVisitedObjects) {\n  if (a === null || a === undefined || b === null || b === undefined)\n    return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b))\n    return a === b;\n  if (strict && Object.getPrototypeOf(a) !== Object.getPrototypeOf(b))\n    return false;\n  var aIsArgs = isArguments(a);\n  var bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b, strict);\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  var key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length !== kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] !== kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key], strict, actualVisitedObjects))\n      return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, false)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\nassert.notDeepStrictEqual = notDeepStrictEqual;\nfunction notDeepStrictEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected, true)) {\n    fail(actual, expected, message, 'notDeepStrictEqual', notDeepStrictEqual);\n  }\n}\n\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  }\n\n  try {\n    if (actual instanceof expected) {\n      return true;\n    }\n  } catch (e) {\n    // Ignore.  The instanceof check doesn't work for arrow functions.\n  }\n\n  if (Error.isPrototypeOf(expected)) {\n    return false;\n  }\n\n  return expected.call({}, actual) === true;\n}\n\nfunction _tryBlock(block) {\n  var error;\n  try {\n    block();\n  } catch (e) {\n    error = e;\n  }\n  return error;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (typeof block !== 'function') {\n    throw new TypeError('\"block\" argument must be a function');\n  }\n\n  if (typeof expected === 'string') {\n    message = expected;\n    expected = null;\n  }\n\n  actual = _tryBlock(block);\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  var userProvidedMessage = typeof message === 'string';\n  var isUnwantedException = !shouldThrow && util.isError(actual);\n  var isUnexpectedException = !shouldThrow && actual && !expected;\n\n  if ((isUnwantedException &&\n      userProvidedMessage &&\n      expectedException(actual, expected)) ||\n      isUnexpectedException) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws(true, block, error, message);\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/error, /*optional*/message) {\n  _throws(false, block, error, message);\n};\n\nassert.ifError = function(err) { if (err) throw err; };\n\n// Expose a strict only variant of assert\nfunction strict(value, message) {\n  if (!value) fail(value, true, message, '==', strict);\n}\nassert.strict = objectAssign(strict, assert, {\n  equal: assert.strictEqual,\n  deepEqual: assert.deepStrictEqual,\n  notEqual: assert.notStrictEqual,\n  notDeepEqual: assert.notDeepStrictEqual\n});\nassert.strict.strict = assert.strict;\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(process) {// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = __webpack_require__(25);\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = __webpack_require__(26);\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(24)))\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n(function() { module.exports = window[\"window\"]; }());\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * @module JSON Object Signing and Encryption (JOSE)\n */\nconst crypto = __webpack_require__(29)\nconst JWA = __webpack_require__(32)\nconst JWK = __webpack_require__(50)\nconst JWKSet = __webpack_require__(51)\nconst JWT = __webpack_require__(52)\nconst JWS = __webpack_require__(53)\n\n/**\n * Export\n */\nmodule.exports = {\n  crypto,\n  JWA,\n  JWK,\n  JWKSet,\n  JWT,\n  JWS\n}\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst imported = __webpack_require__(30)\n\nmodule.exports = (imported.default ? imported.default : imported)\n\n\n/***/ }),\n/* 30 */\n/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _webcrypto_shim_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(31);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (window.crypto);\n\n\n/***/ }),\n/* 31 */\n/***/ (function(__webpack_module__, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * @file Web Cryptography API shim\n * @author Artem S Vybornov <vybornov@gmail.com>\n * @license MIT\n */\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], function () {\n            return factory(global);\n        });\n    } else if (typeof module === 'object' && module.exports) {\n        // CommonJS-like environments that support module.exports\n        module.exports = factory(global);\n    } else {\n        factory(global);\n    }\n}(typeof self !== 'undefined' ? self : undefined, function (global) {\n    'use strict';\n\n    if ( typeof Promise !== 'function' )\n        throw \"Promise support required\";\n\n    var _crypto = global.crypto || global.msCrypto;\n    if ( !_crypto ) return;\n\n    var _subtle = _crypto.subtle || _crypto.webkitSubtle;\n    if ( !_subtle ) return;\n\n    var _Crypto     = global.Crypto || _crypto.constructor || Object,\n        _SubtleCrypto = global.SubtleCrypto || _subtle.constructor || Object,\n        _CryptoKey  = global.CryptoKey || global.Key || Object;\n\n    var isEdge = global.navigator.userAgent.indexOf('Edge/') > -1;\n    var isIE    = !!global.msCrypto && !isEdge;\n    var isWebkit = !_crypto.subtle && !!_crypto.webkitSubtle;\n    if ( !isIE && !isWebkit ) return;\n\n    function s2a ( s ) {\n        return btoa(s).replace(/\\=+$/, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n    }\n\n    function a2s ( s ) {\n        s += '===', s = s.slice( 0, -s.length % 4 );\n        return atob( s.replace(/-/g, '+').replace(/_/g, '/') );\n    }\n\n    function s2b ( s ) {\n        var b = new Uint8Array(s.length);\n        for ( var i = 0; i < s.length; i++ ) b[i] = s.charCodeAt(i);\n        return b;\n    }\n\n    function b2s ( b ) {\n        if ( b instanceof ArrayBuffer ) b = new Uint8Array(b);\n        return String.fromCharCode.apply( String, b );\n    }\n\n    function alg ( a ) {\n        var r = { 'name': (a.name || a || '').toUpperCase().replace('V','v') };\n        switch ( r.name ) {\n            case 'SHA-1':\n            case 'SHA-256':\n            case 'SHA-384':\n            case 'SHA-512':\n                break;\n            case 'AES-CBC':\n            case 'AES-GCM':\n            case 'AES-KW':\n                if ( a.length ) r['length'] = a.length;\n                break;\n            case 'HMAC':\n                if ( a.hash ) r['hash'] = alg(a.hash);\n                if ( a.length ) r['length'] = a.length;\n                break;\n            case 'RSAES-PKCS1-v1_5':\n                if ( a.publicExponent ) r['publicExponent'] = new Uint8Array(a.publicExponent);\n                if ( a.modulusLength ) r['modulusLength'] = a.modulusLength;\n                break;\n            case 'RSASSA-PKCS1-v1_5':\n            case 'RSA-OAEP':\n                if ( a.hash ) r['hash'] = alg(a.hash);\n                if ( a.publicExponent ) r['publicExponent'] = new Uint8Array(a.publicExponent);\n                if ( a.modulusLength ) r['modulusLength'] = a.modulusLength;\n                break;\n            default:\n                throw new SyntaxError(\"Bad algorithm name\");\n        }\n        return r;\n    };\n\n    function jwkAlg ( a ) {\n        return {\n            'HMAC': {\n                'SHA-1': 'HS1',\n                'SHA-256': 'HS256',\n                'SHA-384': 'HS384',\n                'SHA-512': 'HS512',\n            },\n            'RSASSA-PKCS1-v1_5': {\n                'SHA-1': 'RS1',\n                'SHA-256': 'RS256',\n                'SHA-384': 'RS384',\n                'SHA-512': 'RS512',\n            },\n            'RSAES-PKCS1-v1_5': {\n                '': 'RSA1_5',\n            },\n            'RSA-OAEP': {\n                'SHA-1': 'RSA-OAEP',\n                'SHA-256': 'RSA-OAEP-256',\n            },\n            'AES-KW': {\n                '128': 'A128KW',\n                '192': 'A192KW',\n                '256': 'A256KW',\n            },\n            'AES-GCM': {\n                '128': 'A128GCM',\n                '192': 'A192GCM',\n                '256': 'A256GCM',\n            },\n            'AES-CBC': {\n                '128': 'A128CBC',\n                '192': 'A192CBC',\n                '256': 'A256CBC',\n            },\n        }[a.name][ ( a.hash || {} ).name || a.length || '' ];\n    }\n\n    function b2jwk ( k ) {\n        if ( k instanceof ArrayBuffer || k instanceof Uint8Array ) k = JSON.parse( decodeURIComponent( escape( b2s(k) ) ) );\n        var jwk = { 'kty': k.kty, 'alg': k.alg, 'ext': k.ext || k.extractable };\n        switch ( jwk.kty ) {\n            case 'oct':\n                jwk.k = k.k;\n            case 'RSA':\n                [ 'n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi', 'oth' ].forEach( function ( x ) { if ( x in k ) jwk[x] = k[x] } );\n                break;\n            default:\n                throw new TypeError(\"Unsupported key type\");\n        }\n        return jwk;\n    }\n\n    function jwk2b ( k ) {\n        var jwk = b2jwk(k);\n        if ( isIE ) jwk['extractable'] = jwk.ext, delete jwk.ext;\n        return s2b( unescape( encodeURIComponent( JSON.stringify(jwk) ) ) ).buffer;\n    }\n\n    function pkcs2jwk ( k ) {\n        var info = b2der(k), prv = false;\n        if ( info.length > 2 ) prv = true, info.shift(); // remove version from PKCS#8 PrivateKeyInfo structure\n        var jwk = { 'ext': true };\n        switch ( info[0][0] ) {\n            case '1.2.840.113549.1.1.1':\n                var rsaComp = [ 'n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi' ],\n                    rsaKey  = b2der( info[1] );\n                if ( prv ) rsaKey.shift(); // remove version from PKCS#1 RSAPrivateKey structure\n                for ( var i = 0; i < rsaKey.length; i++ ) {\n                    if ( !rsaKey[i][0] ) rsaKey[i] = rsaKey[i].subarray(1);\n                    jwk[ rsaComp[i] ] = s2a( b2s( rsaKey[i] ) );\n                }\n                jwk['kty'] = 'RSA';\n                break;\n            default:\n                throw new TypeError(\"Unsupported key type\");\n        }\n        return jwk;\n    }\n\n    function jwk2pkcs ( k ) {\n        var key, info = [ [ '', null ] ], prv = false;\n        switch ( k.kty ) {\n            case 'RSA':\n                var rsaComp = [ 'n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi' ],\n                    rsaKey = [];\n                for ( var i = 0; i < rsaComp.length; i++ ) {\n                    if ( !( rsaComp[i] in k ) ) break;\n                    var b = rsaKey[i] = s2b( a2s( k[ rsaComp[i] ] ) );\n                    if ( b[0] & 0x80 ) rsaKey[i] = new Uint8Array(b.length + 1), rsaKey[i].set( b, 1 );\n                }\n                if ( rsaKey.length > 2 ) prv = true, rsaKey.unshift( new Uint8Array([0]) ); // add version to PKCS#1 RSAPrivateKey structure\n                info[0][0] = '1.2.840.113549.1.1.1';\n                key = rsaKey;\n                break;\n            default:\n                throw new TypeError(\"Unsupported key type\");\n        }\n        info.push( new Uint8Array( der2b(key) ).buffer );\n        if ( !prv ) info[1] = { 'tag': 0x03, 'value': info[1] };\n        else info.unshift( new Uint8Array([0]) ); // add version to PKCS#8 PrivateKeyInfo structure\n        return new Uint8Array( der2b(info) ).buffer;\n    }\n\n    var oid2str = { 'KoZIhvcNAQEB': '1.2.840.113549.1.1.1' },\n        str2oid = { '1.2.840.113549.1.1.1': 'KoZIhvcNAQEB' };\n\n    function b2der ( buf, ctx ) {\n        if ( buf instanceof ArrayBuffer ) buf = new Uint8Array(buf);\n        if ( !ctx ) ctx = { pos: 0, end: buf.length };\n\n        if ( ctx.end - ctx.pos < 2 || ctx.end > buf.length ) throw new RangeError(\"Malformed DER\");\n\n        var tag = buf[ctx.pos++],\n            len = buf[ctx.pos++];\n\n        if ( len >= 0x80 ) {\n            len &= 0x7f;\n            if ( ctx.end - ctx.pos < len ) throw new RangeError(\"Malformed DER\");\n            for ( var xlen = 0; len--; ) xlen <<= 8, xlen |= buf[ctx.pos++];\n            len = xlen;\n        }\n\n        if ( ctx.end - ctx.pos < len ) throw new RangeError(\"Malformed DER\");\n\n        var rv;\n\n        switch ( tag ) {\n            case 0x02: // Universal Primitive INTEGER\n                rv = buf.subarray( ctx.pos, ctx.pos += len );\n                break;\n            case 0x03: // Universal Primitive BIT STRING\n                if ( buf[ctx.pos++] ) throw new Error( \"Unsupported bit string\" );\n                len--;\n            case 0x04: // Universal Primitive OCTET STRING\n                rv = new Uint8Array( buf.subarray( ctx.pos, ctx.pos += len ) ).buffer;\n                break;\n            case 0x05: // Universal Primitive NULL\n                rv = null;\n                break;\n            case 0x06: // Universal Primitive OBJECT IDENTIFIER\n                var oid = btoa( b2s( buf.subarray( ctx.pos, ctx.pos += len ) ) );\n                if ( !( oid in oid2str ) ) throw new Error( \"Unsupported OBJECT ID \" + oid );\n                rv = oid2str[oid];\n                break;\n            case 0x30: // Universal Constructed SEQUENCE\n                rv = [];\n                for ( var end = ctx.pos + len; ctx.pos < end; ) rv.push( b2der( buf, ctx ) );\n                break;\n            default:\n                throw new Error( \"Unsupported DER tag 0x\" + tag.toString(16) );\n        }\n\n        return rv;\n    }\n\n    function der2b ( val, buf ) {\n        if ( !buf ) buf = [];\n\n        var tag = 0, len = 0,\n            pos = buf.length + 2;\n\n        buf.push( 0, 0 ); // placeholder\n\n        if ( val instanceof Uint8Array ) {  // Universal Primitive INTEGER\n            tag = 0x02, len = val.length;\n            for ( var i = 0; i < len; i++ ) buf.push( val[i] );\n        }\n        else if ( val instanceof ArrayBuffer ) { // Universal Primitive OCTET STRING\n            tag = 0x04, len = val.byteLength, val = new Uint8Array(val);\n            for ( var i = 0; i < len; i++ ) buf.push( val[i] );\n        }\n        else if ( val === null ) { // Universal Primitive NULL\n            tag = 0x05, len = 0;\n        }\n        else if ( typeof val === 'string' && val in str2oid ) { // Universal Primitive OBJECT IDENTIFIER\n            var oid = s2b( atob( str2oid[val] ) );\n            tag = 0x06, len = oid.length;\n            for ( var i = 0; i < len; i++ ) buf.push( oid[i] );\n        }\n        else if ( val instanceof Array ) { // Universal Constructed SEQUENCE\n            for ( var i = 0; i < val.length; i++ ) der2b( val[i], buf );\n            tag = 0x30, len = buf.length - pos;\n        }\n        else if ( typeof val === 'object' && val.tag === 0x03 && val.value instanceof ArrayBuffer ) { // Tag hint\n            val = new Uint8Array(val.value), tag = 0x03, len = val.byteLength;\n            buf.push(0); for ( var i = 0; i < len; i++ ) buf.push( val[i] );\n            len++;\n        }\n        else {\n            throw new Error( \"Unsupported DER value \" + val );\n        }\n\n        if ( len >= 0x80 ) {\n            var xlen = len, len = 4;\n            buf.splice( pos, 0, (xlen >> 24) & 0xff, (xlen >> 16) & 0xff, (xlen >> 8) & 0xff, xlen & 0xff );\n            while ( len > 1 && !(xlen >> 24) ) xlen <<= 8, len--;\n            if ( len < 4 ) buf.splice( pos, 4 - len );\n            len |= 0x80;\n        }\n\n        buf.splice( pos - 2, 2, tag, len );\n\n        return buf;\n    }\n\n    function CryptoKey ( key, alg, ext, use ) {\n        Object.defineProperties( this, {\n            _key: {\n                value: key\n            },\n            type: {\n                value: key.type,\n                enumerable: true,\n            },\n            extractable: {\n                value: (ext === undefined) ? key.extractable : ext,\n                enumerable: true,\n            },\n            algorithm: {\n                value: (alg === undefined) ? key.algorithm : alg,\n                enumerable: true,\n            },\n            usages: {\n                value: (use === undefined) ? key.usages : use,\n                enumerable: true,\n            },\n        });\n    }\n\n    function isPubKeyUse ( u ) {\n        return u === 'verify' || u === 'encrypt' || u === 'wrapKey';\n    }\n\n    function isPrvKeyUse ( u ) {\n        return u === 'sign' || u === 'decrypt' || u === 'unwrapKey';\n    }\n\n    [ 'generateKey', 'importKey', 'unwrapKey' ]\n        .forEach( function ( m ) {\n            var _fn = _subtle[m];\n\n            _subtle[m] = function ( a, b, c ) {\n                var args = [].slice.call(arguments),\n                    ka, kx, ku;\n\n                switch ( m ) {\n                    case 'generateKey':\n                        ka = alg(a), kx = b, ku = c;\n                        break;\n                    case 'importKey':\n                        ka = alg(c), kx = args[3], ku = args[4];\n                        if ( a === 'jwk' ) {\n                            b = b2jwk(b);\n                            if ( !b.alg ) b.alg = jwkAlg(ka);\n                            if ( !b.key_ops ) b.key_ops = ( b.kty !== 'oct' ) ? ( 'd' in b ) ? ku.filter(isPrvKeyUse) : ku.filter(isPubKeyUse) : ku.slice();\n                            args[1] = jwk2b(b);\n                        }\n                        break;\n                    case 'unwrapKey':\n                        ka = args[4], kx = args[5], ku = args[6];\n                        args[2] = c._key;\n                        break;\n                }\n\n                if ( m === 'generateKey' && ka.name === 'HMAC' && ka.hash ) {\n                    ka.length = ka.length || { 'SHA-1': 512, 'SHA-256': 512, 'SHA-384': 1024, 'SHA-512': 1024 }[ka.hash.name];\n                    return _subtle.importKey( 'raw', _crypto.getRandomValues( new Uint8Array( (ka.length+7)>>3 ) ), ka, kx, ku );\n                }\n\n                if ( isWebkit && m === 'generateKey' && ka.name === 'RSASSA-PKCS1-v1_5' && ( !ka.modulusLength || ka.modulusLength >= 2048 ) ) {\n                    a = alg(a), a.name = 'RSAES-PKCS1-v1_5', delete a.hash;\n                    return _subtle.generateKey( a, true, [ 'encrypt', 'decrypt' ] )\n                        .then( function ( k ) {\n                            return Promise.all([\n                                _subtle.exportKey( 'jwk', k.publicKey ),\n                                _subtle.exportKey( 'jwk', k.privateKey ),\n                            ]);\n                        })\n                        .then( function ( keys ) {\n                            keys[0].alg = keys[1].alg = jwkAlg(ka);\n                            keys[0].key_ops = ku.filter(isPubKeyUse), keys[1].key_ops = ku.filter(isPrvKeyUse);\n                            return Promise.all([\n                                _subtle.importKey( 'jwk', keys[0], ka, true, keys[0].key_ops ),\n                                _subtle.importKey( 'jwk', keys[1], ka, kx, keys[1].key_ops ),\n                            ]);\n                        })\n                        .then( function ( keys ) {\n                            return {\n                                publicKey: keys[0],\n                                privateKey: keys[1],\n                            };\n                        });\n                }\n\n                if ( ( isWebkit || ( isIE && ( ka.hash || {} ).name === 'SHA-1' ) )\n                        && m === 'importKey' && a === 'jwk' && ka.name === 'HMAC' && b.kty === 'oct' ) {\n                    return _subtle.importKey( 'raw', s2b( a2s(b.k) ), c, args[3], args[4] );\n                }\n\n                if ( isWebkit && m === 'importKey' && ( a === 'spki' || a === 'pkcs8' ) ) {\n                    return _subtle.importKey( 'jwk', pkcs2jwk(b), c, args[3], args[4] );\n                }\n\n                if ( isIE && m === 'unwrapKey' ) {\n                    return _subtle.decrypt( args[3], c, b )\n                        .then( function ( k ) {\n                            return _subtle.importKey( a, k, args[4], args[5], args[6] );\n                        });\n                }\n\n                var op;\n                try {\n                    op = _fn.apply( _subtle, args );\n                }\n                catch ( e ) {\n                    return Promise.reject(e);\n                }\n\n                if ( isIE ) {\n                    op = new Promise( function ( res, rej ) {\n                        op.onabort =\n                        op.onerror =    function ( e ) { rej(e)               };\n                        op.oncomplete = function ( r ) { res(r.target.result) };\n                    });\n                }\n\n                op = op.then( function ( k ) {\n                    if ( ka.name === 'HMAC' ) {\n                        if ( !ka.length ) ka.length = 8 * k.algorithm.length;\n                    }\n                    if ( ka.name.search('RSA') == 0 ) {\n                        if ( !ka.modulusLength ) ka.modulusLength = (k.publicKey || k).algorithm.modulusLength;\n                        if ( !ka.publicExponent ) ka.publicExponent = (k.publicKey || k).algorithm.publicExponent;\n                    }\n                    if ( k.publicKey && k.privateKey ) {\n                        k = {\n                            publicKey: new CryptoKey( k.publicKey, ka, kx, ku.filter(isPubKeyUse) ),\n                            privateKey: new CryptoKey( k.privateKey, ka, kx, ku.filter(isPrvKeyUse) ),\n                        };\n                    }\n                    else {\n                        k = new CryptoKey( k, ka, kx, ku );\n                    }\n                    return k;\n                });\n\n                return op;\n            }\n        });\n\n    [ 'exportKey', 'wrapKey' ]\n        .forEach( function ( m ) {\n            var _fn = _subtle[m];\n\n            _subtle[m] = function ( a, b, c ) {\n                var args = [].slice.call(arguments);\n\n                switch ( m ) {\n                    case 'exportKey':\n                        args[1] = b._key;\n                        break;\n                    case 'wrapKey':\n                        args[1] = b._key, args[2] = c._key;\n                        break;\n                }\n\n                if ( ( isWebkit || ( isIE && ( b.algorithm.hash || {} ).name === 'SHA-1' ) )\n                        && m === 'exportKey' && a === 'jwk' && b.algorithm.name === 'HMAC' ) {\n                    args[0] = 'raw';\n                }\n\n                if ( isWebkit && m === 'exportKey' && ( a === 'spki' || a === 'pkcs8' ) ) {\n                    args[0] = 'jwk';\n                }\n\n                if ( isIE && m === 'wrapKey' ) {\n                    return _subtle.exportKey( a, b )\n                        .then( function ( k ) {\n                            if ( a === 'jwk' ) k = s2b( unescape( encodeURIComponent( JSON.stringify( b2jwk(k) ) ) ) );\n                            return  _subtle.encrypt( args[3], c, k );\n                        });\n                }\n\n                var op;\n                try {\n                    op = _fn.apply( _subtle, args );\n                }\n                catch ( e ) {\n                    return Promise.reject(e);\n                }\n\n                if ( isIE ) {\n                    op = new Promise( function ( res, rej ) {\n                        op.onabort =\n                        op.onerror =    function ( e ) { rej(e)               };\n                        op.oncomplete = function ( r ) { res(r.target.result) };\n                    });\n                }\n\n                if ( m === 'exportKey' && a === 'jwk' ) {\n                    op = op.then( function ( k ) {\n                        if ( ( isWebkit || ( isIE && ( b.algorithm.hash || {} ).name === 'SHA-1' ) )\n                                && b.algorithm.name === 'HMAC') {\n                            return { 'kty': 'oct', 'alg': jwkAlg(b.algorithm), 'key_ops': b.usages.slice(), 'ext': true, 'k': s2a( b2s(k) ) };\n                        }\n                        k = b2jwk(k);\n                        if ( !k.alg ) k['alg'] = jwkAlg(b.algorithm);\n                        if ( !k.key_ops ) k['key_ops'] = ( b.type === 'public' ) ? b.usages.filter(isPubKeyUse) : ( b.type === 'private' ) ? b.usages.filter(isPrvKeyUse) : b.usages.slice();\n                        return k;\n                    });\n                }\n\n                if ( isWebkit && m === 'exportKey' && ( a === 'spki' || a === 'pkcs8' ) ) {\n                    op = op.then( function ( k ) {\n                        k = jwk2pkcs( b2jwk(k) );\n                        return k;\n                    });\n                }\n\n                return op;\n            }\n        });\n\n    [ 'encrypt', 'decrypt', 'sign', 'verify' ]\n        .forEach( function ( m ) {\n            var _fn = _subtle[m];\n\n            _subtle[m] = function ( a, b, c, d ) {\n                if ( isIE && ( !c.byteLength || ( d && !d.byteLength ) ) )\n                    throw new Error(\"Empy input is not allowed\");\n\n                var args = [].slice.call(arguments),\n                    ka = alg(a);\n\n                if ( isIE && m === 'decrypt' && ka.name === 'AES-GCM' ) {\n                    var tl = a.tagLength >> 3;\n                    args[2] = (c.buffer || c).slice( 0, c.byteLength - tl ),\n                    a.tag = (c.buffer || c).slice( c.byteLength - tl );\n                }\n\n                args[1] = b._key;\n\n                var op;\n                try {\n                    op = _fn.apply( _subtle, args );\n                }\n                catch ( e ) {\n                    return Promise.reject(e);\n                }\n\n                if ( isIE ) {\n                    op = new Promise( function ( res, rej ) {\n                        op.onabort =\n                        op.onerror = function ( e ) {\n                            rej(e);\n                        };\n\n                        op.oncomplete = function ( r ) {\n                            var r = r.target.result;\n\n                            if ( m === 'encrypt' && r instanceof AesGcmEncryptResult ) {\n                                var c = r.ciphertext, t = r.tag;\n                                r = new Uint8Array( c.byteLength + t.byteLength );\n                                r.set( new Uint8Array(c), 0 );\n                                r.set( new Uint8Array(t), c.byteLength );\n                                r = r.buffer;\n                            }\n\n                            res(r);\n                        };\n                    });\n                }\n\n                return op;\n            }\n        });\n\n    if ( isIE ) {\n        var _digest = _subtle.digest;\n\n        _subtle['digest'] = function ( a, b ) {\n            if ( !b.byteLength )\n                throw new Error(\"Empy input is not allowed\");\n\n            var op;\n            try {\n                op = _digest.call( _subtle, a, b );\n            }\n            catch ( e ) {\n                return Promise.reject(e);\n            }\n\n            op = new Promise( function ( res, rej ) {\n                op.onabort =\n                op.onerror =    function ( e ) { rej(e)               };\n                op.oncomplete = function ( r ) { res(r.target.result) };\n            });\n\n            return op;\n        };\n\n        global.crypto = Object.create( _crypto, {\n            getRandomValues: { value: function ( a ) { return _crypto.getRandomValues(a) } },\n            subtle:          { value: _subtle },\n        });\n\n        global.CryptoKey = CryptoKey;\n    }\n\n    if ( isWebkit ) {\n        _crypto.subtle = _subtle;\n\n        global.Crypto = _Crypto;\n        global.SubtleCrypto = _SubtleCrypto;\n        global.CryptoKey = CryptoKey;\n    }\n}));\n\n /* harmony default export */ __webpack_exports__[\"default\"] = ({}); // section modified by isomorphic-webcrypto build \n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Dependencies\n *\n * TODO\n * - switch between Node.js webcrypto package and browser implementation\n */\n// const base64url = require('base64url')\nconst supportedAlgorithms = __webpack_require__(33)\nconst {NotSupportedError} = __webpack_require__(48)\n\n/**\n * JWA\n * https://tools.ietf.org/html/rfc7518\n */\nclass JWA {\n\n  /**\n   * Sign\n   *\n   * @description\n   * Create a digital signature.\n   *\n   * @param {string} alg\n   * @param {CryptoKey} key\n   * @param {string|Buffer} data\n   *\n   * @return {Promise}\n   */\n  static async sign (alg, key, data) {\n    // normalize the algorithm\n    let normalizedAlgorithm = supportedAlgorithms.normalize('sign', alg)\n\n    // validate algorithm is supported\n    if (normalizedAlgorithm instanceof Error) {\n      return Promise.reject(new NotSupportedError(alg))\n    }\n\n    // validate type of key\n    // TODO\n    //  - is the key suitable for the algorithm?\n    //  - does that get validated in webcrypto?\n    //if (key instanceof CryptoKey) {\n    //  return Promise.reject(new InvalidKeyError())\n    //}\n\n    // sign the data\n    return normalizedAlgorithm.sign(key, data)\n  }\n\n  /**\n   * Verify\n   *\n   * @description\n   * Verify a digital signature.\n   *\n   * @param {string} alg\n   * @param {CryptoKey} privateKey\n   * @param {string|Buffer} signature\n   * @param {string|Buffer} data\n   *\n   * @return {Promise}\n   */\n  static async verify (alg, key, signature, data) {\n    let normalizedAlgorithm = supportedAlgorithms.normalize('verify', alg)\n\n    if (normalizedAlgorithm instanceof Error) {\n      return Promise.reject(new NotSupportedError(alg))\n    }\n\n    // TODO\n    // validate publicKey\n\n    // verify the signature\n    return normalizedAlgorithm.verify(key, signature, data)\n  }\n\n  /**\n   * Encrypt\n   */\n\n  /**\n   * Decrypt\n   */\n\n  /**\n   * Import\n   */\n  static async importKey (key) {\n    let normalizedAlgorithm = supportedAlgorithms.normalize('importKey', key.alg)\n    return normalizedAlgorithm.importKey(key)\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = JWA\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Local dependencies\n */\nconst None = __webpack_require__(34)\nconst HMAC = __webpack_require__(35)\nconst RSASSA_PKCS1_v1_5 = __webpack_require__(45)\nconst SupportedAlgorithms = __webpack_require__(46)\n\n/**\n * Register Supported Algorithms\n */\nconst supportedAlgorithms = new SupportedAlgorithms\n\n/**\n * Sign\n */\nsupportedAlgorithms.define('HS256', 'sign', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-256'\n  }\n}))\n\nsupportedAlgorithms.define('HS384', 'sign', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-384'\n  }\n}))\n\nsupportedAlgorithms.define('HS512', 'sign', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-512'\n  }\n}))\n\nsupportedAlgorithms.define('RS256', 'sign', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-256'\n  }\n}))\n\nsupportedAlgorithms.define('RS384', 'sign', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-384'\n  }\n}))\n\nsupportedAlgorithms.define('RS512', 'sign', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-512'\n  }\n}))\n//supportedAlgorithms.define('ES256', 'sign', {})\n//supportedAlgorithms.define('ES384', 'sign', {})\n//supportedAlgorithms.define('ES512', 'sign', {})\n//supportedAlgorithms.define('PS256', 'sign', {})\n//supportedAlgorithms.define('PS384', 'sign', {})\n//supportedAlgorithms.define('PS512', 'sign', {})\n\nsupportedAlgorithms.define('none', 'sign', new None({\n  // nothing goes here\n}))\n\n/**\n * Verify\n */\nsupportedAlgorithms.define('HS256', 'verify', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-256'\n  }\n}))\n\nsupportedAlgorithms.define('HS384', 'verify', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-384'\n  }\n}))\n\nsupportedAlgorithms.define('HS512', 'verify', new HMAC({\n  name: 'HMAC',\n  hash: {\n    name: 'SHA-512'\n  }\n}))\n\nsupportedAlgorithms.define('RS256', 'verify', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-256'\n  }\n}))\n\nsupportedAlgorithms.define('RS384', 'verify', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-384'\n  }\n}))\n\nsupportedAlgorithms.define('RS512', 'verify', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-512'\n  }\n}))\n//supportedAlgorithms.define('ES256', 'verify', {})\n//supportedAlgorithms.define('ES384', 'verify', {})\n//supportedAlgorithms.define('ES512', 'verify', {})\n//supportedAlgorithms.define('PS256', 'verify', {})\n//supportedAlgorithms.define('PS384', 'verify', {})\n//supportedAlgorithms.define('PS512', 'verify', {})\n\nsupportedAlgorithms.define('none', 'verify', new None({\n  // nothing goes here\n}))\n\nsupportedAlgorithms.define('RS256', 'importKey', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-256'\n  }\n}))\n\nsupportedAlgorithms.define('RS384', 'importKey', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-384'\n  }\n}))\n\nsupportedAlgorithms.define('RS512', 'importKey', new RSASSA_PKCS1_v1_5({\n  name: 'RSASSA-PKCS1-v1_5',\n  hash: {\n    name: 'SHA-512'\n  }\n}))\n\n/**\n * Export\n */\nmodule.exports = supportedAlgorithms\n\n\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\n/**\n * None\n */\nclass None {\n  /**\n   * sign\n   */\n  sign () {\n    return Promise.resolve('')\n  }\n\n  /**\n   * verify\n   */\n  verify () {\n    // this will never get called. but you looked.\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = None\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\n/**\n * Dependencies\n * @ignore\n */\nconst base64url = __webpack_require__(40)\nconst crypto = __webpack_require__(30)\nconst TextEncoder = __webpack_require__(43)\n\n/**\n * HMAC with SHA-2 Functions\n */\nclass HMAC {\n\n  /**\n   * Constructor\n   *\n   * @param {string} bitlength\n   */\n  constructor (params) {\n    this.params = params\n  }\n\n  /**\n   * Sign\n   *\n   * @description\n   * Generate a hash-based message authentication code for a\n   * given input and key. Enforce the key length is equal to\n   * or greater than the bitlength.\n   *\n   * @param {CryptoKey} key\n   * @param {string} data\n   *\n   * @returns {string}\n   */\n  sign (key, data) {\n    let algorithm = this.params\n\n    // TODO: validate key length\n\n    data = new TextEncoder().encode(data)\n\n    return crypto.subtle\n      .sign(algorithm, key, data)\n      .then(signature => base64url(Buffer.from(signature)))\n  }\n\n  /**\n   * Verify\n   *\n   * @description\n   * Verify a digital signature for a given input and private key.\n   *\n   * @param {CryptoKey} key\n   * @param {string} signature\n   * @param {string} data\n   *\n   * @returns {Boolean}\n   */\n  verify (key, signature, data) {\n    let algorithm = this.params\n\n    if (typeof signature === 'string') {\n      signature = Uint8Array.from(base64url.toBuffer(signature))\n    }\n\n    if (typeof data === 'string') {\n      data = new TextEncoder().encode(data)\n    }\n\n    return crypto.subtle.verify(algorithm, key, signature, data)\n  }\n\n  /**\n   * Assert Sufficient Key Length\n   *\n   * @description Assert that the key length is sufficient\n   * @param {string} key\n   */\n  assertSufficientKeyLength (key) {\n    if (key.length < this.bitlength) {\n      throw new Error('The key is too short.')\n    }\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = HMAC\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(36).Buffer))\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\n\nvar base64 = __webpack_require__(37)\nvar ieee754 = __webpack_require__(38)\nvar isArray = __webpack_require__(39)\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports) {\n\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\nvar toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(41).default;\nmodule.exports.default = module.exports;\n\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar pad_string_1 = __webpack_require__(42);\nfunction encode(input, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    if (Buffer.isBuffer(input)) {\n        return fromBase64(input.toString(\"base64\"));\n    }\n    return fromBase64(Buffer.from(input, encoding).toString(\"base64\"));\n}\n;\nfunction decode(base64url, encoding) {\n    if (encoding === void 0) { encoding = \"utf8\"; }\n    return Buffer.from(toBase64(base64url), \"base64\").toString(encoding);\n}\nfunction toBase64(base64url) {\n    base64url = base64url.toString();\n    return pad_string_1.default(base64url)\n        .replace(/\\-/g, \"+\")\n        .replace(/_/g, \"/\");\n}\nfunction fromBase64(base64) {\n    return base64\n        .replace(/=/g, \"\")\n        .replace(/\\+/g, \"-\")\n        .replace(/\\//g, \"_\");\n}\nfunction toBuffer(base64url) {\n    return Buffer.from(toBase64(base64url), \"base64\");\n}\nvar base64url = encode;\nbase64url.encode = encode;\nbase64url.decode = decode;\nbase64url.toBase64 = toBase64;\nbase64url.fromBase64 = fromBase64;\nbase64url.toBuffer = toBuffer;\nexports.default = base64url;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(36).Buffer))\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction padString(input) {\n    var segmentLength = 4;\n    var stringLength = input.length;\n    var diff = stringLength % segmentLength;\n    if (!diff) {\n        return input;\n    }\n    var position = stringLength;\n    var padLength = segmentLength - diff;\n    var paddedStringLength = stringLength + padLength;\n    var buffer = Buffer.alloc(paddedStringLength);\n    buffer.write(input);\n    while (padLength--) {\n        buffer.write(\"=\", position++);\n    }\n    return buffer.toString();\n}\nexports.default = padString;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(36).Buffer))\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global) {const TextEncoder = global.TextEncoder\n  ? global.TextEncoder  // browser\n  : __webpack_require__(44).TextEncoder  // node shim\nmodule.exports = TextEncoder\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(Buffer) {\n\n/**\n * Dependencies\n * @ignore\n */\nconst base64url = __webpack_require__(40)\nlet crypto = __webpack_require__(29)\nconst TextEncoder = __webpack_require__(43)\n\n/**\n * RSASSA-PKCS1-v1_5\n */\nclass RSASSA_PKCS1_v1_5 {\n\n  /**\n   * constructor\n   *\n   * @param {string} bitlength\n   */\n  constructor (params) {\n    this.params = params\n  }\n\n  /**\n   * sign\n   *\n   * @description\n   * Generate a digital signature for a given input and private key.\n   *\n   * @param {CryptoKey} key\n   * @param {BufferSource} data\n   *\n   * @returns {Promise}\n   */\n  sign (key, data) {\n    let algorithm = this.params\n\n    // TODO\n    //if (!this.sufficientKeySize()) {\n    //  return Promise.reject(\n    //    new Error(\n    //      'A key size of 2048 bits or larger must be used with RSASSA-PKCS1-v1_5'\n    //    )\n    //  )\n    //}\n\n    data = new TextEncoder().encode(data)\n\n    return crypto.subtle\n      .sign(algorithm, key, data)\n      .then(signature => base64url(Buffer.from(signature)))\n  }\n\n  /**\n   * verify\n   *\n   * @description\n   * Verify a digital signature for a given input and private key.\n   *\n   * @param {CryptoKey} key\n   * @param {BufferSource} signature\n   * @param {BufferSource} data\n   *\n   * @returns {Promise}\n   */\n  verify (key, signature, data) {\n    let algorithm = this.params\n\n    if (typeof signature === 'string') {\n      signature = Uint8Array.from(base64url.toBuffer(signature))\n    }\n\n    if (typeof data === 'string') {\n      data = new TextEncoder().encode(data)\n    }\n    // ...\n\n    return crypto.subtle.verify(algorithm, key, signature, data)\n  }\n\n  /**\n   * importKey\n   *\n   * @param {JWK} key\n   * @returns {Promise}\n   */\n  async importKey (key) {\n    let jwk = Object.assign({}, key)\n    let algorithm = this.params\n    let usages = key['key_ops'] || []\n\n    if (key.use === 'sig') {\n      usages.push('verify')\n    }\n\n    if (key.use === 'enc') {\n      // TODO: handle encryption keys\n      return Promise.resolve(key)\n    }\n\n    if (key.key_ops) {\n      usages = key.key_ops\n    }\n\n    return crypto.subtle\n      .importKey('jwk', jwk, algorithm, true, usages)\n      .then(cryptoKey => {\n        Object.defineProperty(jwk, 'cryptoKey', {\n          enumerable: false,\n          value: cryptoKey\n        })\n\n        return jwk\n      })\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = RSASSA_PKCS1_v1_5\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(36).Buffer))\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Dependencies\n */\nconst NotSupportedError = __webpack_require__(47)\n\n/**\n * Operations\n */\nconst operations = [\n  'sign',\n  'verify',\n  'encrypt',\n  'decrypt',\n  'importKey'\n]\n\n/**\n * SupportedAlgorithms\n */\nclass SupportedAlgorithms {\n\n  /**\n   * constructor\n   */\n  constructor () {\n    operations.forEach(op => {\n      this[op] = {}\n    })\n  }\n\n  /**\n   * Supported Operations\n   */\n  static get operations () {\n    return operations\n  }\n\n  /**\n   * define\n   *\n   * @description\n   * Register Web Crypto API algorithm parameter for an algorithm\n   * and operation.\n   *\n   * @param {string} alg\n   * @param {string} op\n   * @param {Object} argument\n   */\n  define (alg, op, argument) {\n    let registeredAlgorithms = this[op]\n    registeredAlgorithms[alg] = argument\n  }\n\n  /**\n   * normalize\n   *\n   * @description\n   * Map JWA alg name to Web Crypto API algorithm parameter\n   *\n   * @param {string} op\n   * @param {Object} alg\n   *\n   * @returns {Object}\n   */\n  normalize (op, alg) {\n    let registeredAlgorithms = this[op]\n\n    if (!registeredAlgorithms) {\n      return new SyntaxError() // what kind of error should this be?\n    }\n\n    let argument = registeredAlgorithms[alg]\n\n    if (!argument) {\n      return new NotSupportedError(alg)\n    }\n\n    return argument\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = SupportedAlgorithms\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports) {\n\n/**\n * NotSupportedError\n */\nclass NotSupportedError extends Error {\n  constructor (alg) {\n    super()\n    this.message = `${alg} is not a supported algorithm`\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = NotSupportedError\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\n  DataError: __webpack_require__(49),\n  NotSupportedError: __webpack_require__(47)\n}\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports) {\n\n/**\n * DataError\n */\nclass DataError extends Error {\n  constructor (message) {\n    super(message)\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = DataError\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n * @ignore\n */\nconst JWA = __webpack_require__(32)\n\n/**\n * JWK Class\n */\nclass JWK {\n  constructor ({ kty, use, key_ops, alg, kid, x5u, x5c, x5t } = {}) {\n    this.kty = kty\n    this.use = use\n    this.key_ops = key_ops\n    this.alg = alg\n    this.kid = kid\n    this.x5u = x5u\n    this.x5c = x5c\n    this.x5t = x5t\n  }\n\n  /**\n   * importKey\n   *\n   * TODO:\n   * - should this be on JWA?\n   */\n  static async importKey (jwk) {\n    return JWA.importKey(jwk)\n  }\n\n\n}\n\n/**\n * Export\n */\nmodule.exports = JWK\n\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Dependencies\n */\nconst JWK = __webpack_require__(50)\n\n/**\n * JWKSet\n *\n * @class\n * JWKSet represents a JSON Web Key Set as described in Section 5 of RFC 7517:\n * https://tools.ietf.org/html/rfc7517#section-5\n */\nclass JWKSet {\n  constructor ({ keys } = {}) {\n    this.keys = keys\n  }\n\n  /**\n   * importKeys\n   */\n  static async importKeys (jwks) {\n    if (!jwks.keys) {\n      return Promise.reject(new Error('Cannot import JWKSet: keys property is empty'))\n    }\n\n    let imported, importing\n\n    try {\n      imported = new JWKSet(jwks)\n      importing = jwks.keys.map(key => JWK.importKey(key))\n    } catch (err) {\n      return Promise.reject(err)\n    }\n\n    return Promise.all(importing)\n      .then(keys => {\n        imported.keys = keys\n        return imported\n      })\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = JWKSet\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Dependencies\n */\nconst base64url = __webpack_require__(40)\nconst JWS = __webpack_require__(53)\nconst DataError = __webpack_require__(49)\nconst JOSEHeader = __webpack_require__(54)\n\n/**\n * JWT\n */\nclass JWT {\n  constructor (data = {}) {\n    this.type = data.type\n    this.segments = data.segments\n    this.header = new JOSEHeader(data.header)\n    this.protected = data.protected\n    this.unprotected = data.unprotected\n    this.iv = data.iv\n    this.aad = data.aad\n    this.ciphertext = data.ciphertext\n    this.tag = data.tag\n    this.recipients = data.recipients\n    this.payload = data.payload\n    this.signatures = data.signatures\n    this.signature = data.signature\n    this.key = data.key\n    this.serialization = data.serialization || 'compact' // default\n  }\n\n  /**\n   * decode\n   *\n   * @description\n   * Decode a JSON Web Token\n   *\n   * @param {string} data\n   * @returns {JWT}\n   */\n  static decode (data) {\n    let ExtendedJWT = this\n    let jwt\n\n    if (typeof data !== 'string') {\n      throw new DataError('JWT must be a string')\n    }\n\n    // JSON of Flattened JSON Serialization\n    if (data.startsWith('{')) {\n      try {\n        data = JSON.parse(data, () => {})\n      } catch (error) {\n        throw new DataError('Invalid JWT serialization')\n      }\n\n      if (data.signatures || data.recipients) {\n        data.serialization = 'json'\n      } else {\n        data.serialization = 'flattened'\n      }\n\n      jwt = new ExtendedJWT(data, { filter: false })\n\n    // Compact Serialization\n    } else {\n      try {\n        let serialization = 'compact'\n        let segments = data.split('.')\n        let length = segments.length\n\n        if (length !== 3 && length !== 5) {\n          throw new Error('Malformed JWT')\n        }\n\n        let header = JSON.parse(base64url.decode(segments[0]))\n\n        // JSON Web Signature\n        if (length === 3) {\n          let type = 'JWS'\n          let payload = JSON.parse(base64url.decode(segments[1]))\n          let signature = segments[2]\n\n          jwt = new ExtendedJWT(\n              { type, segments, header, payload, signature, serialization },\n              { filter: false }\n            )\n        }\n\n        // JSON Web Encryption\n        if (length === 5) {\n          //let type = 'JWE'\n          //let [protected, encryption_key, iv, ciphertext, tag] = segments\n\n          //jwt = new ExtendedJWT({\n          //  type,\n          //  protected: base64url.decode(JSON.parse(protected)),\n          //  encryption_key,\n          //  iv,\n          //  ciphertext,\n          //  tag,\n          //  serialization\n          //})\n        }\n      } catch (error) {\n        throw new DataError('Invalid JWT compact serialization')\n      }\n    }\n\n    return jwt\n  }\n\n  /**\n   * encode\n   *\n   * @description\n   * Encode a JSON Web Token\n   *\n   * @param {Object} header\n   * @param {Object} payload\n   * @param {CryptoKey} key\n   *\n   * @returns {Promise}\n   */\n  static encode (header, payload, key) {\n    let jwt = new JWT(header, payload)\n    return jwt.encode(key)\n  }\n\n\n  /**\n   * verify\n   *\n   * @description\n   *\n   * @param {CryptoKey} key\n   * @param {string} token\n   *\n   * @returns {Promise}\n   */\n  static async verify (key, token) {\n    let jwt = JWT.decode(token)\n    jwt.key = key\n    return jwt.verify().then(verified => jwt)\n  }\n\n  /**\n   * isJWE\n   */\n  isJWE () {\n    return !!this.header.enc\n  }\n\n  /**\n   * resolveKeys\n   */\n  resolveKeys (jwks) {\n    let kid = this.header.kid\n    let keys, match\n\n    // treat an array as the \"keys\" property of a JWK Set\n    if (Array.isArray(jwks)) {\n      keys = jwks\n    }\n\n    // presence of keys indicates object is a JWK Set\n    if (jwks.keys) {\n      keys = jwks.keys\n    }\n\n    // wrap a plain object they is not a JWK Set in Array\n    if (!jwks.keys && typeof jwks === 'object') {\n      keys = [jwks]\n    }\n\n    // ensure there are keys to search\n    if (!keys) {\n      throw new DataError('Invalid JWK argument')\n    }\n\n    // match by \"kid\" or \"use\" header\n    if (kid) {\n      match = keys.find(jwk => jwk.kid === kid)\n    } else {\n      match = keys.find(jwk => jwk.use === 'sig')\n    }\n\n    // assign matching key to JWT and return a boolean\n    if (match) {\n      this.key = match.cryptoKey\n      return true\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * encode\n   *\n   * @description\n   * Encode a JWT instance\n   *\n   * @returns {Promise}\n   */\n  async encode () {\n    let token = this\n\n    if (this.isJWE()) {\n      return JWE.encrypt(token)\n    } else {\n      return JWS.sign(token)\n    }\n  }\n\n  /**\n   * verify\n   *\n   * @description\n   * Verify a decoded JWT instance\n   *\n   * @returns {Promise}\n   */\n  async verify () {\n    return JWS.verify(this)\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = JWT\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Dependencies\n */\nconst base64url = __webpack_require__(40)\nconst JWA = __webpack_require__(32)\nconst { DataError } = __webpack_require__(48)\nconst JOSEHeader = __webpack_require__(54)\n\n/**\n * JWS\n */\nclass JWS {\n  constructor (data = {}) {\n    // compact\n    this.header = new JOSEHeader(data.header)\n    this.payload = data.payload || {}\n    this.signature = data.signature\n\n    // flattened\n    this.protected = data.protected\n\n    // JSON serialization\n    this.signatures = data.signatures\n\n    this.verified = false\n  }\n\n  /**\n   * sign\n   *\n   * @description\n   * Encode a JWT instance\n   *\n   * @param {Object} token\n   * @returns {Promise}\n   */\n  static async sign (token) {\n    let payload = base64url(JSON.stringify(token.payload))\n\n    // compact serialization\n    if (token.serialization === 'compact') {\n      let {key, header: {alg}} = token\n      let header = base64url(JSON.stringify(token.header))\n      let data = `${header}.${payload}`\n\n      return JWA.sign(alg, key, data).then(signature => `${data}.${signature}`)\n    }\n\n    // JSON serialization\n    if (token.serialization === 'json') {\n\n    }\n\n    // Flattened serialization\n    if (token.serialization === 'flattened') {\n\n    }\n\n    return Promise.reject(new DataError('Unsupported serialization'))\n  }\n\n  /**\n   * verify\n   */\n  static async verify (jwt) {\n    // multiple signatures\n    if (jwt.signatures) {\n      // ...\n    }\n\n    let {key, signature, header: {alg}} = jwt\n\n    // one signature\n    if (jwt.signature) {\n      let [header, payload] = jwt.segments\n      let data = `${header}.${payload}`\n\n      if (alg === 'none') {\n        return Promise.reject(new DataError('Signature provided to verify with alg: none'))\n      }\n\n      return JWA.verify(alg, key, signature, data).then(verified => {\n        jwt.verified = verified\n        return verified\n      })\n    }\n\n    if (alg === 'none') {\n      if (!key && !signature) {\n        jwt.verified = true\n\n        return Promise.resolve(true)\n      }\n\n      if (key) {\n        return Promise.reject(new DataError('Key provided to verify signature with alg: none'))\n      }\n    }\n\n    // no signatures to verify\n    return Promise.reject(new DataError('Missing signature(s)'))\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = JWS\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n/**\n * Header\n */\nclass JOSEHeader {\n  constructor ({ typ, cty, alg, jku, kid, x5u, x5c, x5t, crit, enc, zip } = {}) {\n    this.typ = typ\n    this.cty = cty\n    this.alg = alg\n    this.jku = jku\n    this.kid = kid\n    this.x5u = x5u\n    this.x5c = x5c\n    this.x5t = x5t\n    this.crit = crit\n    this.enc = enc\n    this.zip = zip\n  }\n\n  /**\n   * isJWS\n   */\n  isJWS () {}\n\n  /**\n   * isJWE\n   */\n  isJWE () {}\n}\n\n/**\n * Export\n */\nmodule.exports = JOSEHeader\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(Buffer) {/**\n * Dependencies\n */\nconst assert = __webpack_require__(21);\n\nconst base64url = __webpack_require__(40);\n\nconst {\n  crypto,\n  JWT\n} = __webpack_require__(28);\n\nconst FormUrlEncoded = __webpack_require__(56);\n\nconst {\n  URL\n} = __webpack_require__(27);\n/**\n * Authentication Request\n */\n\n\nclass AuthenticationRequest {\n  /**\n   * create\n   *\n   * @description\n   * Create a new authentication request with generated state and nonce,\n   * validate presence of required parameters, serialize the request data and\n   * persist it to the session, and return a promise for an authentication\n   * request URI.\n   *\n   * @param {RelyingParty} rp  instance of RelyingParty\n   * @param {Object} options - optional request parameters\n   * @param {Object} session  reference to localStorage or other session object\n   *\n   * @returns {Promise}\n   */\n  static create(rp, options, session) {\n    const {\n      provider,\n      defaults,\n      registration\n    } = rp;\n    let issuer, endpoint, client, params;\n    return Promise.resolve().then(() => {\n      // validate presence of OP configuration, RP client registration,\n      // and default parameters\n      assert(provider.configuration, 'RelyingParty provider OpenID Configuration is missing');\n      assert(defaults.authenticate, 'RelyingParty default authentication parameters are missing');\n      assert(registration, 'RelyingParty client registration is missing'); // define basic elements of the request\n\n      issuer = provider.configuration.issuer;\n      endpoint = provider.configuration.authorization_endpoint;\n      client = {\n        client_id: registration.client_id\n      };\n      params = Object.assign(defaults.authenticate, client, options); // validate presence of required configuration and parameters\n\n      assert(issuer, 'Missing issuer in provider OpenID Configuration');\n      assert(endpoint, 'Missing authorization_endpoint in provider OpenID Configuration');\n      assert(params.scope, 'Missing scope parameter in authentication request');\n      assert(params.response_type, 'Missing response_type parameter in authentication request');\n      assert(params.client_id, 'Missing client_id parameter in authentication request');\n      assert(params.redirect_uri, 'Missing redirect_uri parameter in authentication request'); // generate state and nonce random octets\n\n      params.state = Array.from(crypto.getRandomValues(new Uint8Array(16)));\n      params.nonce = Array.from(crypto.getRandomValues(new Uint8Array(16))); // hash the state and nonce parameter values\n\n      return Promise.all([crypto.subtle.digest({\n        name: 'SHA-256'\n      }, new Uint8Array(params.state)), crypto.subtle.digest({\n        name: 'SHA-256'\n      }, new Uint8Array(params.nonce))]);\n    }) // serialize the request with original values, store in session by\n    // encoded state param, and replace state/nonce octets with encoded\n    // digests\n    .then(digests => {\n      let state = base64url(Buffer.from(digests[0]));\n      let nonce = base64url(Buffer.from(digests[1]));\n      let key = `${issuer}/requestHistory/${state}`; // store the request params for response validation\n      // with serialized octet values for state and nonce\n\n      session[key] = JSON.stringify(params); // replace state and nonce octets with base64url encoded digests\n\n      params.state = state;\n      params.nonce = nonce;\n    }).then(() => AuthenticationRequest.generateSessionKeys()).then(sessionKeys => {\n      AuthenticationRequest.storeSessionKeys(sessionKeys, params, session);\n    }) // optionally encode a JWT with the request parameters\n    // and replace params with `{ request: <jwt> }\n    .then(() => {\n      if (provider.configuration.request_parameter_supported) {\n        return AuthenticationRequest.encodeRequestParams(params).then(encodedParams => {\n          params = encodedParams;\n        });\n      }\n    }) // render the request URI and terminate the algorithm\n    .then(() => {\n      let url = new URL(endpoint);\n      url.search = FormUrlEncoded.encode(params);\n      return url.href;\n    });\n  }\n\n  static generateSessionKeys() {\n    return crypto.subtle.generateKey({\n      name: \"RSASSA-PKCS1-v1_5\",\n      modulusLength: 2048,\n      publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n      hash: {\n        name: \"SHA-256\"\n      }\n    }, true, [\"sign\", \"verify\"]).then(keyPair => {\n      // returns a keypair object\n      return Promise.all([crypto.subtle.exportKey('jwk', keyPair.publicKey), crypto.subtle.exportKey('jwk', keyPair.privateKey)]);\n    }).then(jwkPair => {\n      let [publicJwk, privateJwk] = jwkPair;\n      return {\n        public: publicJwk,\n        private: privateJwk\n      };\n    });\n  }\n\n  static storeSessionKeys(sessionKeys, params, session) {\n    // store the private one in session, public one goes into params\n    session['oidc.session.privateKey'] = JSON.stringify(sessionKeys.private);\n    params.key = sessionKeys.public;\n  }\n\n  static encodeRequestParams(params) {\n    const excludeParams = ['scope', 'client_id', 'response_type', 'state'];\n    const keysToEncode = Object.keys(params).filter(key => !excludeParams.includes(key));\n    let payload = {};\n    keysToEncode.forEach(key => {\n      payload[key] = params[key];\n    });\n    let requestParamJwt = new JWT({\n      header: {\n        alg: 'none'\n      },\n      payload\n    }, {\n      filter: false\n    });\n    return requestParamJwt.encode().then(requestParamCompact => {\n      let newParams = {\n        scope: params['scope'],\n        client_id: params['client_id'],\n        response_type: params['response_type'],\n        request: requestParamCompact,\n        state: params['state']\n      };\n      return newParams;\n    });\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = AuthenticationRequest;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(36).Buffer))\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports) {\n\n/**\n * Dependencies\n */\n\n/**\n * FormUrlEncoded\n */\nclass FormUrlEncoded {\n  /**\n   * Encode\n   *\n   * @description\n   * Represent an object as x-www-form-urlencoded string.\n   *\n   * @param {Object} data\n   * @returns {string}\n   */\n  static encode(data) {\n    let pairs = [];\n    Object.keys(data).forEach(function (key) {\n      pairs.push(encodeURIComponent(key) + '=' + encodeURIComponent(data[key]));\n    });\n    return pairs.join('&');\n  }\n  /**\n   * Decode\n   *\n   * @description\n   * Parse a x-www-form-urlencoded into an object.\n   *\n   * @param {string} data\n   * @returns {Object}\n   */\n\n\n  static decode(data) {\n    let obj = {};\n    data.split('&').forEach(function (property) {\n      let pair = property.split('=');\n      let key = decodeURIComponent(pair[0]);\n      let val = decodeURIComponent(pair[1]);\n      obj[key] = val;\n    });\n    return obj;\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = FormUrlEncoded;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, Buffer) {/**\n * Dependencies\n */\nconst {\n  URL\n} = __webpack_require__(27);\n\nconst assert = __webpack_require__(21);\n\nconst {\n  crypto\n} = __webpack_require__(28);\n\nconst base64url = __webpack_require__(40);\n\nconst fetch = __webpack_require__(5);\n\nconst Headers = fetch.Headers ? fetch.Headers : global.Headers;\n\nconst FormUrlEncoded = __webpack_require__(56);\n\nconst IDToken = __webpack_require__(58);\n\nconst Session = __webpack_require__(59);\n\nconst onHttpError = __webpack_require__(60);\n\nconst HttpError = __webpack_require__(62);\n/**\n * AuthenticationResponse\n */\n\n\nclass AuthenticationResponse {\n  /**\n   * @param rp {RelyingParty}\n   * @param [redirect] {string} req.query\n   * @param [body] {string} req.body.text\n   * @param session {Session|Storage} req.session or localStorage or similar\n   * @param params {object} hashmap\n   * @param mode {string} 'query'/'fragment'/'form_post',\n   *   determined in `parseResponse()`\n   */\n  constructor({\n    rp,\n    redirect,\n    body,\n    session,\n    mode,\n    params = {}\n  }) {\n    this.rp = rp;\n    this.redirect = redirect;\n    this.body = body;\n    this.session = session;\n    this.mode = mode;\n    this.params = params;\n  }\n  /**\n   * validateResponse\n   *\n   * @description\n   * Authentication response validation.\n   *\n   * @param {string|Object} response\n   *\n   * @returns {Promise<Session>}\n   */\n\n\n  static validateResponse(response) {\n    return Promise.resolve(response).then(this.parseResponse).then(this.errorResponse).then(this.matchRequest).then(this.validateStateParam).then(this.validateResponseMode).then(this.validateResponseParams).then(this.exchangeAuthorizationCode).then(this.validateIDToken).then(Session.fromAuthResponse);\n  }\n  /**\n   * parseResponse\n   *\n   * @param {object} response\n   *\n   * @returns {object}\n   */\n\n\n  static parseResponse(response) {\n    let {\n      redirect,\n      body\n    } = response; // response must be either a redirect uri or request body, but not both\n\n    if (redirect && body || !redirect && !body) {\n      throw new HttpError(400, 'Invalid response mode');\n    } // parse redirect uri\n\n\n    if (redirect) {\n      let url = new URL(redirect);\n      let {\n        search,\n        hash\n      } = url;\n\n      if (search && hash || !search && !hash) {\n        throw new HttpError(400, 'Invalid response mode');\n      }\n\n      if (search) {\n        response.params = FormUrlEncoded.decode(search.substring(1));\n        response.mode = 'query';\n      }\n\n      if (hash) {\n        response.params = FormUrlEncoded.decode(hash.substring(1));\n        response.mode = 'fragment';\n      }\n    } // parse request form body\n\n\n    if (body) {\n      response.params = FormUrlEncoded.decode(body);\n      response.mode = 'form_post';\n    }\n\n    return response;\n  }\n  /**\n   * errorResponse\n   *\n   * @param {AuthenticationResponse} response\n   *\n   * @throws {Error} If response params include the OAuth2 'error' param,\n   *   throws an error based on it.\n   *\n   * @returns {AuthenticationResponse} Chainable\n   *\n   * @todo Figure out HTTP status code (typically 400, 401 or 403)\n   *   based on the OAuth2/OIDC `error` code, probably using an external library\n   */\n\n\n  static errorResponse(response) {\n    const errorCode = response.params.error;\n\n    if (errorCode) {\n      const errorParams = {};\n      errorParams['error'] = errorCode;\n      errorParams['error_description'] = response.params['error_description'];\n      errorParams['error_uri'] = response.params['error_uri'];\n      errorParams['state'] = response.params['state'];\n      const error = new Error(`AuthenticationResponse error: ${errorCode}`);\n      error.info = errorParams;\n      throw error;\n    }\n\n    return response;\n  }\n  /**\n   * matchRequest\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static matchRequest(response) {\n    let {\n      rp,\n      params,\n      session\n    } = response;\n    let state = params.state;\n    let issuer = rp.provider.configuration.issuer;\n\n    if (!state) {\n      throw new Error('Missing state parameter in authentication response');\n    }\n\n    let key = `${issuer}/requestHistory/${state}`;\n    let request = session[key];\n\n    if (!request) {\n      throw new Error('Mismatching state parameter in authentication response');\n    }\n\n    response.request = JSON.parse(request);\n    return response;\n  }\n  /**\n   * validateStateParam\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateStateParam(response) {\n    let octets = new Uint8Array(response.request.state);\n    let encoded = response.params.state;\n    return crypto.subtle.digest({\n      name: 'SHA-256'\n    }, octets).then(digest => {\n      if (encoded !== base64url(Buffer.from(digest))) {\n        throw new Error('Mismatching state parameter in authentication response');\n      }\n\n      return response;\n    });\n  }\n  /**\n   * validateResponseMode\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateResponseMode(response) {\n    if (response.request.response_type !== 'code' && response.mode === 'query') {\n      throw new Error('Invalid response mode');\n    }\n\n    return response;\n  }\n  /**\n   * validateResponseParams\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateResponseParams(response) {\n    let {\n      request,\n      params\n    } = response;\n    let expectedParams = request.response_type.split(' ');\n\n    if (expectedParams.includes('code')) {\n      assert(params.code, 'Missing authorization code in authentication response'); // TODO assert novelty of code\n    }\n\n    if (expectedParams.includes('id_token')) {\n      assert(params.id_token, 'Missing id_token in authentication response');\n    }\n\n    if (expectedParams.includes('token')) {\n      assert(params.access_token, 'Missing access_token in authentication response');\n      assert(params.token_type, 'Missing token_type in authentication response');\n    }\n\n    return response;\n  }\n  /**\n   * exchangeAuthorizationCode\n   *\n   * @param {Object} response\n   * @returns {Promise} response object\n   */\n\n\n  static exchangeAuthorizationCode(response) {\n    let {\n      rp,\n      params,\n      request\n    } = response;\n    let code = params.code; // only exchange the authorization code when the response type is \"code\"\n\n    if (!code || request['response_type'] !== 'code') {\n      return Promise.resolve(response);\n    }\n\n    let {\n      provider,\n      registration\n    } = rp;\n    let id = registration['client_id'];\n    let secret = registration['client_secret']; // verify the client is not public\n\n    if (!secret) {\n      return Promise.reject(new Error('Client cannot exchange authorization code because ' + 'it is not a confidential client'));\n    } // initialize token request arguments\n\n\n    let endpoint = provider.configuration.token_endpoint;\n    let method = 'POST'; // initialize headers\n\n    let headers = new Headers({\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }); // initialize the token request parameters\n\n    let bodyContents = {\n      'grant_type': 'authorization_code',\n      'code': code,\n      'redirect_uri': request['redirect_uri']\n    }; // determine client authentication method\n\n    let authMethod = registration['token_endpoint_auth_method'] || 'client_secret_basic'; // client secret basic authentication\n\n    if (authMethod === 'client_secret_basic') {\n      let credentials = new Buffer(`${id}:${secret}`).toString('base64');\n      headers.set('Authorization', `Basic ${credentials}`);\n    } // client secret post authentication\n\n\n    if (authMethod === 'client_secret_post') {\n      bodyContents['client_id'] = id;\n      bodyContents['client_secret'] = secret;\n    }\n\n    let body = FormUrlEncoded.encode(bodyContents); // TODO\n    // client_secret_jwt authentication\n    // private_key_jwt\n    // make the token request\n\n    return fetch(endpoint, {\n      method,\n      headers,\n      body\n    }).then(onHttpError('Error exchanging authorization code')).then(tokenResponse => tokenResponse.json()).then(tokenResponse => {\n      assert(tokenResponse['access_token'], 'Missing access_token in token response');\n      assert(tokenResponse['token_type'], 'Missing token_type in token response');\n      assert(tokenResponse['id_token'], 'Missing id_token in token response'); // anything else?\n      // IS THIS THE RIGHT THING TO DO HERE?\n\n      response.params = Object.assign(response.params, tokenResponse);\n      return response;\n    });\n  }\n  /**\n   * validateIDToken\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateIDToken(response) {\n    // only validate the ID Token if present in the response\n    if (!response.params.id_token) {\n      return Promise.resolve(response);\n    }\n\n    return Promise.resolve(response).then(AuthenticationResponse.decryptIDToken).then(AuthenticationResponse.decodeIDToken).then(AuthenticationResponse.validateIssuer).then(AuthenticationResponse.validateAudience).then(AuthenticationResponse.resolveKeys).then(AuthenticationResponse.verifySignature).then(AuthenticationResponse.validateExpires).then(AuthenticationResponse.verifyNonce).then(AuthenticationResponse.validateAcr).then(AuthenticationResponse.validateAuthTime).then(AuthenticationResponse.validateAccessTokenHash).then(AuthenticationResponse.validateAuthorizationCodeHash);\n  }\n  /**\n   * decryptIDToken\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static decryptIDToken(response) {\n    // TODO\n    return Promise.resolve(response);\n  }\n  /**\n   * decodeIDToken\n   *\n   * Note: If the `id_token` is not present in params, this method does not\n   * get called (short-circuited in `validateIDToken()`).\n   *\n   * @param response {AuthenticationResponse}\n   * @param response.params {object}\n   * @param [response.params.id_token] {string} IDToken encoded as a JWT\n   *\n   * @returns {AuthenticationResponse} Chainable\n   */\n\n\n  static decodeIDToken(response) {\n    let jwt = response.params.id_token;\n\n    try {\n      response.decoded = IDToken.decode(jwt);\n    } catch (decodeError) {\n      const error = new HttpError(400, 'Error decoding ID Token');\n      error.cause = decodeError;\n      error.info = {\n        id_token: jwt\n      };\n      throw error;\n    }\n\n    return response;\n  }\n  /**\n   * validateIssuer\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateIssuer(response) {\n    let configuration = response.rp.provider.configuration;\n    let payload = response.decoded.payload; // validate issuer of token matches this relying party's provider\n\n    if (payload.iss !== configuration.issuer) {\n      throw new Error('Mismatching issuer in ID Token');\n    }\n\n    return response;\n  }\n  /**\n   * validateAudience\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAudience(response) {\n    let registration = response.rp.registration;\n    let {\n      aud,\n      azp\n    } = response.decoded.payload; // validate audience includes this relying party\n\n    if (typeof aud === 'string' && aud !== registration['client_id']) {\n      throw new Error('Mismatching audience in id_token');\n    } // validate audience includes this relying party\n\n\n    if (Array.isArray(aud) && !aud.includes(registration['client_id'])) {\n      throw new Error('Mismatching audience in id_token');\n    } // validate authorized party is present if required\n\n\n    if (Array.isArray(aud) && !azp) {\n      throw new Error('Missing azp claim in id_token');\n    } // validate authorized party is this relying party\n\n\n    if (azp && azp !== registration['client_id']) {\n      throw new Error('Mismatching azp claim in id_token');\n    }\n\n    return response;\n  }\n  /**\n   * resolveKeys\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static resolveKeys(response) {\n    let rp = response.rp;\n    let provider = rp.provider;\n    let decoded = response.decoded;\n    let isFreshJwks = false;\n    return Promise.resolve(provider.jwks).then(jwks => jwks ? jwks : (isFreshJwks = true, rp.jwks())).then(jwks => {\n      if (decoded.resolveKeys(jwks)) {\n        return Promise.resolve(response);\n      }\n\n      if (!isFreshJwks) {\n        // The OP JWK Set cached by the RP may be stale due to key rotation by the OP.\n        return rp.jwks().then(jwks => {\n          if (decoded.resolveKeys(jwks)) {\n            return Promise.resolve(response);\n          }\n\n          throw new Error('Cannot resolve signing key for ID Token');\n        });\n      }\n\n      throw new Error('Cannot resolve signing key for ID Token');\n    });\n  }\n  /**\n   * verifySignature\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static verifySignature(response) {\n    let alg = response.decoded.header.alg;\n    let registration = response.rp.registration;\n    let expectedAlgorithm = registration['id_token_signed_response_alg'] || 'RS256'; // validate signing algorithm matches expectation\n\n    if (alg !== expectedAlgorithm) {\n      throw new Error(`Expected ID Token to be signed with ${expectedAlgorithm}`);\n    }\n\n    return response.decoded.verify().then(verified => {\n      if (!verified) {\n        throw new Error('Invalid ID Token signature');\n      }\n\n      return response;\n    });\n  }\n  /**\n   * validateExpires\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateExpires(response) {\n    let exp = response.decoded.payload.exp; // validate expiration of token\n\n    if (exp <= Math.floor(Date.now() / 1000)) {\n      throw new Error('Expired ID Token');\n    }\n\n    return response;\n  }\n  /**\n   * verifyNonce\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static verifyNonce(response) {\n    let octets = new Uint8Array(response.request.nonce);\n    let nonce = response.decoded.payload.nonce;\n\n    if (!nonce) {\n      throw new Error('Missing nonce in ID Token');\n    }\n\n    return crypto.subtle.digest({\n      name: 'SHA-256'\n    }, octets).then(digest => {\n      if (nonce !== base64url(Buffer.from(digest))) {\n        throw new Error('Mismatching nonce in ID Token');\n      }\n\n      return response;\n    });\n  }\n  /**\n   * validateAcr\n   *\n   * @param {Object} response\n   * @returns {Object}\n   */\n\n\n  static validateAcr(response) {\n    // TODO\n    return response;\n  }\n  /**\n   * validateAuthTime\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAuthTime(response) {\n    // TODO\n    return response;\n  }\n  /**\n   * validateAccessTokenHash\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAccessTokenHash(response) {\n    // TODO\n    return response;\n  }\n  /**\n   * validateAuthorizationCodeHash\n   *\n   * @param {Object} response\n   * @returns {Promise}\n   */\n\n\n  static validateAuthorizationCodeHash(response) {\n    // TODO\n    return response;\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = AuthenticationResponse;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20), __webpack_require__(36).Buffer))\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Local dependencies\n */\nconst {\n  JWT\n} = __webpack_require__(28);\n\nconst REQUIRED_CLAIMS = ['iss', 'sub', 'aud', 'exp', 'iat'];\n\nclass TokenClaimsSet {\n  /**\n   * Claims inherited from JWT:\n   * @param iss {string} Issuer URL\n   * @param sub {string} Subject identifier\n   * @param aud {string|Array<string>} Audience\n   * @param exp {number} Expiration (seconds since epoch, RFC3339)\n   * @param iat {number} Expiration (seconds since epoch, RFC3339)\n   * @param [nbf] {number} Not Before (seconds since epoch, RFC3339)\n   * @param [jti] {string} JWT Identifier\n   *\n   * Claims specific to ID Token:\n   * @param [auth_time] {number} Time when user authn occurred (RFC3339)\n   * @param [nonce] {string}\n   * @param [acr] {string} Authentication Context Class Reference\n   * @param [amr] {string} Authentication Methods References\n   * @param [azp] {string} Authorized party\n   */\n  constructor({\n    iss,\n    sub,\n    aud,\n    exp,\n    iat,\n    nbf,\n    jti,\n    auth_time,\n    nonce,\n    acr,\n    amr\n  } = {}) {\n    this.iss = iss;\n    this.sub = sub;\n    this.aud = aud;\n    this.exp = exp;\n    this.iat = iat;\n    this.nbf = nbf;\n    this.jti = jti;\n    this.auth_time = auth_time;\n    this.nonce = nonce;\n    this.acr = acr;\n    this.amr = amr;\n  }\n\n  validate() {\n    let valid = true;\n    let error;\n\n    try {\n      for (const claim of REQUIRED_CLAIMS) {\n        if (!this[claim]) {\n          valid = false;\n          throw new Error(`Required claim ${claim} is missing.`);\n        }\n      }\n    } catch (validationError) {\n      error = validationError;\n    }\n\n    return {\n      valid,\n      error\n    };\n  }\n\n}\n/**\n * IDToken\n */\n\n\nclass IDToken extends JWT {\n  constructor(data = {}) {\n    super(data);\n    this.payload = new TokenClaimsSet(data.payload);\n  }\n\n  validate() {\n    const payloadResult = this.payload.validate();\n\n    if (!payloadResult.valid) {\n      return payloadResult;\n    }\n\n    let valid = true;\n    let error;\n    return {\n      valid,\n      error\n    };\n  }\n\n}\n/**\n * Export\n */\n\n\nmodule.exports = IDToken;\nmodule.exports.TokenClaimsSet = TokenClaimsSet;\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst fetch = __webpack_require__(5);\n\nconst onHttpError = __webpack_require__(60);\n\nconst PoPToken = __webpack_require__(61);\n\nclass Session {\n  /**\n   * @param options {Object}\n   *\n   * @param options.credentialType {string} 'access_token' or 'pop_token'\n   *\n   * @param options.issuer {string} Identity provider (issuer of ID/Access Token)\n   *\n   * @param options.authorization {object}\n   * @param options.authorization.client_id {string} OIDC/OAuth2 client id\n   * @param [options.authorization.id_token] {string} Compact-serialized id_token param\n   * @param [options.authorization.access_token] {string} Compact-serialized access_token param\n   * @param [options.authorization.refresh_token] {string} Compact-serialized refresh_token\n   *\n   * @param [options.sessionKey] {string} Serialized client session key generated\n   *   during the Authentication Request, used to issue PoPTokens\n   *\n   * @param [options.idClaims] {object} Decoded/verified ID Token JWT payload\n   *\n   * @param [options.accessClaims] {object} Decoded/verified Access Token JWT payload\n   */\n  constructor(options) {\n    this.credentialType = options.credentialType || 'access_token';\n    this.issuer = options.issuer;\n    this.authorization = options.authorization || {};\n    this.sessionKey = options.sessionKey;\n    this.idClaims = options.idClaims;\n    this.accessClaims = options.accessClaims;\n  }\n\n  static from(options) {\n    return new Session(options);\n  }\n  /**\n   * @param response {AuthenticationResponse}\n   *\n   * @returns {Session} RelyingParty Session object\n   */\n\n\n  static fromAuthResponse(response) {\n    const RelyingParty = __webpack_require__(19); // import here due to circular dep\n\n\n    let idClaims = response.decoded && response.decoded.payload || {};\n    let {\n      rp\n    } = response;\n    let registration = rp.registration;\n    let rpAuthOptions = rp.defaults.authenticate || {};\n    let credentialType = rpAuthOptions['credential_type'] || rp.defaults.popToken ? 'pop_token' : 'access_token';\n    let sessionKey = response.session[RelyingParty.SESSION_PRIVATE_KEY];\n    let options = {\n      credentialType,\n      sessionKey,\n      issuer: idClaims.iss,\n      idClaims,\n      authorization: {\n        client_id: registration['client_id'],\n        access_token: response.params['access_token'],\n        id_token: response.params['id_token'],\n        refresh_token: response.params['refresh_token']\n      }\n    };\n    return Session.from(options);\n  }\n  /**\n   * Authenticated fetch() getter\n   *\n   * @returns {function}\n   */\n\n\n  get fetch() {\n    /**\n     * fetch() function signature\n     *\n     * @param url {RequestInfo|string}\n     * @param options {object}\n     *\n     * @returns {Function<Promise<Response>>}\n     */\n    return (url, options) => {\n      return Promise.resolve().then(() => {\n        if (this.hasCredentials()) {\n          return this.fetchWithCredentials(url, options);\n        } else {\n          return fetch(url, options);\n        }\n      }).then(onHttpError('Error while fetching resource'));\n    };\n  }\n  /**\n   * bearerTokenFor\n   *\n   * @param url {string}\n   *\n   * @returns {Promise<string>}\n   */\n\n\n  bearerTokenFor(url) {\n    switch (this.credentialType) {\n      case 'pop_token':\n        return PoPToken.issueFor(url, this);\n\n      default:\n        // 'access_token' etc\n        return Promise.resolve(this.authorization[this.credentialType]);\n    }\n  }\n  /**\n   * hasCredentials\n   *\n   * @returns {boolean}\n   */\n\n\n  hasCredentials() {\n    switch (this.credentialType) {\n      case 'pop_token':\n        return !!this.authorization['id_token'];\n\n      default:\n        // 'access_token' etc\n        return !!this.authorization[this.credentialType];\n    }\n  }\n  /**\n   * fetchWithCredentials\n   *\n   * @param url {RequestInfo|string}\n   * @param options {object}\n   *\n   * @returns {Promise<Response>}\n   */\n\n\n  fetchWithCredentials(url, options = {}) {\n    options.headers = options.headers || {};\n    return this.bearerTokenFor(url).then(token => {\n      options.headers.authorization = `Bearer ${token}`;\n      return fetch(url, options);\n    });\n  }\n\n}\n\nmodule.exports = Session;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/**\n * Throws an error when a fetch response status code indicates a 400 or 500\n * HTTP error. (The whatwg fetch api does not normally reject on http error\n * responses).\n *\n * Usage:\n *\n * ```\n * return fetch(url)\n *   .then(onHttpError('Error while fetching resource')\n *   .catch(err => console.log(err))\n *\n * // -> 'Error while fetching resource: 404 Not Found' error\n * // if a 404 response is encountered\n * ```\n *\n * @param [message] {string} Optional error message to clarify context\n *\n * @throws {Error} For http status codes > 300\n *\n * @return {Object} fetch response object (passed through if no error)\n */\n\nfunction onHttpError(message = 'fetch error') {\n  return response => {\n    if (response.status >= 200 && response.status < 300) {\n      return response;\n    }\n\n    let errorMessage = `${message}: ${response.status} ${response.statusText}`;\n    let error = new Error(errorMessage);\n    error.response = response;\n    error.statusCode = response.status;\n    throw error;\n  };\n}\n\nmodule.exports = onHttpError;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nconst {\n  URL\n} = __webpack_require__(27);\n\nconst {\n  JWT,\n  JWK\n} = __webpack_require__(28);\n\nconst DEFAULT_MAX_AGE = 3600; // Default token expiration, in seconds\n\nclass PoPToken extends JWT {\n  /**\n   * @param resourceServerUri {string} RS URI for which this token is intended\n   *\n   * @param session {Session}\n   * @param session.sessionKey {string}\n   * @param session.authorization.client_id {string}\n   * @param session.authorization.id_token {string}\n   *\n   * @returns {Promise<string>} PoPToken, encoded as compact JWT\n   */\n  static issueFor(resourceServerUri, session) {\n    if (!resourceServerUri) {\n      throw new Error('Cannot issue PoPToken - missing resource server URI');\n    }\n\n    if (!session.sessionKey) {\n      throw new Error('Cannot issue PoPToken - missing session key');\n    }\n\n    if (!session.authorization.id_token) {\n      throw new Error('Cannot issue PoPToken - missing id token');\n    }\n\n    let jwk = JSON.parse(session.sessionKey);\n    return JWK.importKey(jwk).then(importedSessionJwk => {\n      let options = {\n        aud: new URL(resourceServerUri).origin,\n        key: importedSessionJwk,\n        iss: session.authorization.client_id,\n        id_token: session.authorization.id_token\n      };\n      return PoPToken.issue(options);\n    }).then(jwt => {\n      return jwt.encode();\n    });\n  }\n  /**\n   * issue\n   *\n   * @param options {Object}\n   * @param options.iss {string} Token issuer (RP client_id)\n   * @param options.aud {string|Array<string>} Audience for the token\n   *   (such as the Resource Server url)\n   * @param options.key {JWK} Proof of Possession (private) signing key, see\n   *   https://tools.ietf.org/html/rfc7800#section-3.1\n   *\n   * @param options.id_token {string} JWT compact encoded ID Token\n   *\n   * Optional:\n   * @param [options.iat] {number} Issued at timestamp (in seconds)\n   * @param [options.max] {number} Max token lifetime in seconds\n   *\n   * @returns {PoPToken} Proof of Possession Token (JWT instance)\n   */\n\n\n  static issue(options) {\n    let {\n      aud,\n      iss,\n      key\n    } = options;\n    let alg = key.alg;\n    let iat = options.iat || Math.floor(Date.now() / 1000);\n    let max = options.max || DEFAULT_MAX_AGE;\n    let exp = iat + max; // token expiration\n\n    let header = {\n      alg\n    };\n    let payload = {\n      iss,\n      aud,\n      exp,\n      iat,\n      id_token: options.id_token,\n      token_type: 'pop'\n    };\n    let jwt = new PoPToken({\n      header,\n      payload,\n      key: key.cryptoKey\n    }, {\n      filter: false\n    });\n    return jwt;\n  }\n\n}\n\nmodule.exports = PoPToken;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = HttpError\nvar StandardError = __webpack_require__(63)\nvar STATUS_CODE_TO_NAME = __webpack_require__(64)\nvar STATUS_NAME_TO_CODE = exports\n\nfunction HttpError(code, msg, props) {\n  if (typeof code == \"string\") code = STATUS_NAME_TO_CODE[code]\n  if (typeof code != \"number\") throw new TypeError(\"Non-numeric HTTP code\")\n  if (typeof msg == \"object\" && msg != null) { props = msg; msg = null }\n  StandardError.call(this, msg || STATUS_CODE_TO_NAME[code], props)\n  this.code = code\n}\n\nHttpError.prototype = Object.create(StandardError.prototype, {\n  constructor: {value: HttpError, configurable: true, writable: true}\n})\n\n// Set name explicitly for when the code gets minified.\nHttpError.prototype.name = \"HttpError\"\n\nObject.defineProperties(HttpError.prototype, {\n  statusCode: alias(\"code\"),\n  statusMessage: alias(\"message\"),\n\n  status: {\n    configurable: true,\n    get: function() { return this.code },\n    set: function(value) {\n      Object.defineProperty(this, \"status\", {\n        value: value, configurable: true, enumerable: true, writable: true\n      })\n    }\n  }\n})\n\nHttpError.prototype.toString = function() {\n  return this.name + \": \" + this.code + \" \" + this.message\n}\n\nfor (var code in STATUS_CODE_TO_NAME) {\n  var name = STATUS_CODE_TO_NAME[code]\n  exports[name.replace(\"'\", \"\").replace(/[- ]/g, \"_\").toUpperCase()] = +code\n}\n\nfunction alias(name) {\n  return {\n    configurable: true,\n    get: function() { return this[name] },\n    set: function(value) { return this[name] = value }\n  }\n}\n\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports) {\n\nvar has = Object.hasOwnProperty\nvar proto = Object.getPrototypeOf\nvar trace = Error.captureStackTrace\nmodule.exports = StandardError\n\nfunction StandardError(msg, props) {\n  // Let all properties be enumerable for easier serialization.\n  if (msg && typeof msg == \"object\") props = msg, msg = undefined\n  else this.message = msg\n\n  // Name has to be an own property (or on the prototype a single step up) for\n  // the stack to be printed with the correct name.\n  if (props) for (var key in props) this[key] = props[key]\n  if (!has.call(this, \"name\"))\n    this.name = has.call(proto(this), \"name\")? this.name : this.constructor.name\n\n  if (trace && !(\"stack\" in this)) trace(this, this.constructor)\n}\n\nStandardError.prototype = Object.create(Error.prototype, {\n  constructor: {value: StandardError, configurable: true, writable: true}\n})\n\n// Set name explicitly for when the code gets minified.\nStandardError.prototype.name = \"StandardError\"\n\n\n/***/ }),\n/* 64 */\n/***/ (function(module) {\n\nmodule.exports = JSON.parse(\"{\\\"100\\\":\\\"Continue\\\",\\\"101\\\":\\\"Switching Protocols\\\",\\\"102\\\":\\\"Processing\\\",\\\"200\\\":\\\"OK\\\",\\\"201\\\":\\\"Created\\\",\\\"202\\\":\\\"Accepted\\\",\\\"203\\\":\\\"Non-Authoritative Information\\\",\\\"204\\\":\\\"No Content\\\",\\\"205\\\":\\\"Reset Content\\\",\\\"206\\\":\\\"Partial Content\\\",\\\"207\\\":\\\"Multi-Status\\\",\\\"208\\\":\\\"Already Reported\\\",\\\"226\\\":\\\"IM Used\\\",\\\"300\\\":\\\"Multiple Choices\\\",\\\"301\\\":\\\"Moved Permanently\\\",\\\"302\\\":\\\"Found\\\",\\\"303\\\":\\\"See Other\\\",\\\"304\\\":\\\"Not Modified\\\",\\\"305\\\":\\\"Use Proxy\\\",\\\"307\\\":\\\"Temporary Redirect\\\",\\\"308\\\":\\\"Permanent Redirect\\\",\\\"400\\\":\\\"Bad Request\\\",\\\"401\\\":\\\"Unauthorized\\\",\\\"402\\\":\\\"Payment Required\\\",\\\"403\\\":\\\"Forbidden\\\",\\\"404\\\":\\\"Not Found\\\",\\\"405\\\":\\\"Method Not Allowed\\\",\\\"406\\\":\\\"Not Acceptable\\\",\\\"407\\\":\\\"Proxy Authentication Required\\\",\\\"408\\\":\\\"Request Timeout\\\",\\\"409\\\":\\\"Conflict\\\",\\\"410\\\":\\\"Gone\\\",\\\"411\\\":\\\"Length Required\\\",\\\"412\\\":\\\"Precondition Failed\\\",\\\"413\\\":\\\"Payload Too Large\\\",\\\"414\\\":\\\"URI Too Long\\\",\\\"415\\\":\\\"Unsupported Media Type\\\",\\\"416\\\":\\\"Range Not Satisfiable\\\",\\\"417\\\":\\\"Expectation Failed\\\",\\\"418\\\":\\\"I'm a teapot\\\",\\\"421\\\":\\\"Misdirected Request\\\",\\\"422\\\":\\\"Unprocessable Entity\\\",\\\"423\\\":\\\"Locked\\\",\\\"424\\\":\\\"Failed Dependency\\\",\\\"425\\\":\\\"Unordered Collection\\\",\\\"426\\\":\\\"Upgrade Required\\\",\\\"428\\\":\\\"Precondition Required\\\",\\\"429\\\":\\\"Too Many Requests\\\",\\\"431\\\":\\\"Request Header Fields Too Large\\\",\\\"500\\\":\\\"Internal Server Error\\\",\\\"501\\\":\\\"Not Implemented\\\",\\\"502\\\":\\\"Bad Gateway\\\",\\\"503\\\":\\\"Service Unavailable\\\",\\\"504\\\":\\\"Gateway Timeout\\\",\\\"505\\\":\\\"HTTP Version Not Supported\\\",\\\"506\\\":\\\"Variant Also Negotiates\\\",\\\"507\\\":\\\"Insufficient Storage\\\",\\\"508\\\":\\\"Loop Detected\\\",\\\"509\\\":\\\"Bandwidth Limit Exceeded\\\",\\\"510\\\":\\\"Not Extended\\\",\\\"511\\\":\\\"Network Authentication Required\\\"}\");\n\n/***/ }),\n/* 65 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"openIdpPopup\", function() { return openIdpPopup; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"obtainSession\", function() { return obtainSession; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"popupHandler\", function() { return popupHandler; });\n/* harmony import */ var _ipc__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var _url_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n\n\nfunction openIdpPopup(popupUri) {\n  const width = 650;\n  const height = 400;\n  const left = window.screenX + (window.innerWidth - width) / 2;\n  const top = window.screenY + (window.innerHeight - height) / 2;\n  const settings = \"width=\".concat(width, \",height=\").concat(height, \",left=\").concat(left, \",top=\").concat(top);\n  return window.open(popupUri, 'solid-auth-client', settings);\n}\nfunction obtainSession(store, popup, options) {\n  return new Promise((resolve, reject) => {\n    const popupServer = new _ipc__WEBPACK_IMPORTED_MODULE_0__[\"Server\"](popup, Object(_url_util__WEBPACK_IMPORTED_MODULE_1__[\"originOf\"])(options.popupUri || ''), popupHandler(store, options, session => {\n      popupServer.stop();\n      resolve(session);\n    }));\n    popupServer.start();\n  });\n}\nfunction popupHandler(store, {\n  popupUri,\n  callbackUri\n}, foundSessionCb) {\n  return async (method, ...args) => {\n    switch (method) {\n      // Origin\n      case 'getAppOrigin':\n        return window.location.origin;\n      // Storage\n\n      case 'storage/getItem':\n        return store.getItem(...args);\n\n      case 'storage/setItem':\n        return store.setItem(...args);\n\n      case 'storage/removeItem':\n        return store.removeItem(...args);\n      // Login\n\n      case 'getLoginOptions':\n        return {\n          popupUri,\n          callbackUri\n        };\n\n      case 'foundSession':\n        foundSessionCb(...args);\n    }\n  };\n}\n\n/***/ })\n/******/ ])[\"default\"];\n//# sourceMappingURL=index.js.map"]},"metadata":{},"sourceType":"script"}